2019-07-09 10:52:53.892 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-09 10:52:53.997 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-09 10:52:54.005 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-09 10:52:54.005 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-09 10:52:54.006 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-09 10:52:54.007 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-09 10:52:54.007 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-09 10:52:55.118 +02:00 [DBG] Login Url: /Account/Login
2019-07-09 10:52:55.124 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-09 10:52:55.124 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-09 10:52:55.124 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-09 10:52:55.124 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-09 10:52:55.124 +02:00 [DBG] Error Url: /home/error
2019-07-09 10:52:55.125 +02:00 [DBG] Error Id Parameter: errorId
2019-07-09 10:52:58.797 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-09 10:52:58.806 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-09 10:52:58.806 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-09 10:52:58.813 +02:00 [DBG] Start discovery request
2019-07-09 11:14:46.726 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-09 11:14:46.874 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-09 11:14:46.885 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-09 11:14:46.886 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-09 11:14:46.886 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-09 11:14:46.886 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-09 11:14:46.886 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-09 11:14:48.230 +02:00 [DBG] Login Url: /Account/Login
2019-07-09 11:14:48.242 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-09 11:14:48.243 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-09 11:14:48.243 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-09 11:14:48.243 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-09 11:14:48.243 +02:00 [DBG] Error Url: /home/error
2019-07-09 11:14:48.243 +02:00 [DBG] Error Id Parameter: errorId
2019-07-09 11:16:34.760 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-09 11:16:34.771 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-09 11:16:34.771 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-09 11:16:34.779 +02:00 [DBG] Start discovery request
2019-07-09 12:05:10.371 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-09 12:05:10.506 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-09 12:05:10.514 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-09 12:05:10.515 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-09 12:05:10.515 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-09 12:05:10.515 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-09 12:05:10.515 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-09 12:05:11.006 +02:00 [DBG] Login Url: /Account/Login
2019-07-09 12:05:11.009 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-09 12:05:11.009 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-09 12:05:11.009 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-09 12:05:11.009 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-09 12:05:11.009 +02:00 [DBG] Error Url: /home/error
2019-07-09 12:05:11.009 +02:00 [DBG] Error Id Parameter: errorId
2019-07-09 12:05:17.371 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-09 12:05:17.379 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-09 12:05:17.380 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-09 12:05:17.386 +02:00 [DBG] Start discovery request
2019-07-09 12:06:01.427 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-09 12:06:01.429 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-09 12:06:01.429 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-09 12:06:01.429 +02:00 [DBG] Start discovery request
2019-07-09 12:06:01.710 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-09 12:06:01.711 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-09 12:06:01.711 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-09 12:06:01.722 +02:00 [DBG] Start key discovery request
2019-07-09 12:06:02.489 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-07-09 12:06:02.501 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-07-09 12:06:02.501 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-07-09 12:06:02.516 +02:00 [DBG] Start token request.
2019-07-09 12:06:02.529 +02:00 [DBG] Start client validation
2019-07-09 12:06:02.541 +02:00 [DBG] Start parsing Basic Authentication secret
2019-07-09 12:06:02.550 +02:00 [DBG] Start parsing for secret in post body
2019-07-09 12:06:02.588 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-07-09 12:06:02.589 +02:00 [DBG] Secret id found: client
2019-07-09 12:06:02.621 +02:00 [DBG] client configuration validation for client client succeeded.
2019-07-09 12:06:02.637 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-07-09 12:06:02.637 +02:00 [DBG] Client validation success
2019-07-09 12:06:02.656 +02:00 [DBG] Start token request validation
2019-07-09 12:06:02.672 +02:00 [DBG] Start client credentials token request validation
2019-07-09 12:06:02.723 +02:00 [DBG] client credentials token request validation success
2019-07-09 12:06:02.758 +02:00 [INF] Token request validation success
{"ClientId":"client","ClientName":null,"GrantType":"client_credentials","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","scope":"api1","client_id":"client","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-07-09 12:06:02.841 +02:00 [DBG] Getting claims for access token for client: client
2019-07-09 12:06:03.190 +02:00 [DBG] Token request success.
2019-07-09 13:03:54.750 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-09 13:03:54.754 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-09 13:03:54.754 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-09 13:03:54.754 +02:00 [DBG] Start discovery request
2019-07-09 13:03:54.987 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-09 13:03:54.988 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-09 13:03:54.988 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-09 13:03:54.988 +02:00 [DBG] Start key discovery request
2019-07-09 16:47:17.313 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-09 16:47:17.372 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-09 16:47:17.376 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-09 16:47:17.376 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-09 16:47:17.376 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-09 16:47:17.376 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-09 16:47:17.376 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-09 16:47:18.077 +02:00 [DBG] Login Url: /Account/Login
2019-07-09 16:47:18.079 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-09 16:47:18.080 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-09 16:47:18.080 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-09 16:47:18.080 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-09 16:47:18.080 +02:00 [DBG] Error Url: /home/error
2019-07-09 16:47:18.080 +02:00 [DBG] Error Id Parameter: errorId
2019-07-09 16:47:18.121 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-09 16:47:18.126 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-09 16:47:18.126 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-09 16:47:18.132 +02:00 [DBG] Start discovery request
2019-07-09 16:47:36.299 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-09 16:49:05.874 +02:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-09 16:49:05.987 +02:00 [DBG] Augmenting SignInContext
2019-07-09 16:49:05.998 +02:00 [DBG] Adding idp claim with value: local
2019-07-09 16:49:05.998 +02:00 [DBG] Adding amr claim with value: pwd
2019-07-09 16:49:06.022 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-09 17:15:53.698 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-09 17:15:53.794 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-09 17:15:53.804 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-09 17:15:53.805 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-09 17:15:53.806 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-09 17:15:53.806 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-09 17:15:53.806 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-09 17:15:55.039 +02:00 [DBG] Login Url: /Account/Login
2019-07-09 17:15:55.044 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-09 17:15:55.044 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-09 17:15:55.045 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-09 17:15:55.045 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-09 17:15:55.045 +02:00 [DBG] Error Url: /home/error
2019-07-09 17:15:55.045 +02:00 [DBG] Error Id Parameter: errorId
2019-07-09 17:16:00.161 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-09 17:16:05.085 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-09 17:16:31.413 +02:00 [DBG] CORS request made for path: /signin-adfs from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-09 17:16:31.461 +02:00 [INF] Remote signout request processed.
2019-07-09 17:16:31.479 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-09 17:16:31.486 +02:00 [DBG] Processing federated signout
2019-07-09 17:16:31.502 +02:00 [DBG] No signout callback iframe to render
2019-07-09 17:16:45.974 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-09 17:16:59.533 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-09 17:17:00.220 +02:00 [DBG] CORS request made for path: /signin-adfs from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-09 17:17:00.227 +02:00 [INF] Remote signout request processed.
2019-07-09 17:17:00.234 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-09 17:17:00.235 +02:00 [DBG] Processing federated signout
2019-07-09 17:17:00.235 +02:00 [DBG] No signout callback iframe to render
2019-07-09 17:17:06.199 +02:00 [INF] Remote signout request processed.
2019-07-09 17:17:06.199 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-09 17:17:06.200 +02:00 [DBG] Processing federated signout
2019-07-09 17:17:06.200 +02:00 [DBG] No signout callback iframe to render
2019-07-09 17:17:10.364 +02:00 [INF] Remote signout request processed.
2019-07-09 17:17:10.365 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-09 17:17:10.373 +02:00 [DBG] Processing federated signout
2019-07-09 17:17:10.373 +02:00 [DBG] No signout callback iframe to render
2019-07-09 17:17:12.740 +02:00 [INF] Remote signout request processed.
2019-07-09 17:17:12.741 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-09 17:17:12.741 +02:00 [DBG] Processing federated signout
2019-07-09 17:17:12.742 +02:00 [DBG] No signout callback iframe to render
2019-07-11 11:00:17.652 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-11 11:00:17.866 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-11 11:00:17.915 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-11 11:00:17.915 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-11 11:00:17.915 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-11 11:00:17.915 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-11 11:00:17.915 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-11 11:00:25.270 +02:00 [DBG] Login Url: /Account/Login
2019-07-11 11:00:25.283 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-11 11:00:25.283 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-11 11:00:25.283 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-11 11:00:25.283 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-11 11:00:25.286 +02:00 [DBG] Error Url: /home/error
2019-07-11 11:00:25.286 +02:00 [DBG] Error Id Parameter: errorId
2019-07-11 11:01:09.166 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-11 11:01:09.175 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-11 11:01:09.176 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-11 11:01:09.187 +02:00 [DBG] Start discovery request
2019-07-11 11:01:22.157 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-11 11:01:40.390 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-11 11:01:59.292 +02:00 [DBG] CORS request made for path: /signin-adfs from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-11 11:01:59.385 +02:00 [INF] Remote signout request processed.
2019-07-11 11:01:59.420 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 11:01:59.449 +02:00 [DBG] Processing federated signout
2019-07-11 11:01:59.472 +02:00 [DBG] No signout callback iframe to render
2019-07-11 11:03:14.650 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-11 11:03:14.652 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-11 11:03:14.653 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-11 11:03:14.653 +02:00 [DBG] Start discovery request
2019-07-11 16:08:58.743 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-11 16:08:58.811 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-11 16:08:58.818 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-11 16:08:58.818 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-11 16:08:58.818 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-11 16:08:58.818 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-11 16:08:58.818 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-11 16:08:59.456 +02:00 [DBG] Login Url: /Account/Login
2019-07-11 16:08:59.459 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-11 16:08:59.459 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-11 16:08:59.459 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-11 16:08:59.459 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-11 16:08:59.459 +02:00 [DBG] Error Url: /home/error
2019-07-11 16:08:59.459 +02:00 [DBG] Error Id Parameter: errorId
2019-07-11 16:09:21.351 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-11 16:09:21.423 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-11 16:09:21.427 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-11 16:09:21.427 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-11 16:09:21.427 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-11 16:09:21.428 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-11 16:09:21.428 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-11 16:09:22.093 +02:00 [DBG] Login Url: /Account/Login
2019-07-11 16:09:22.099 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-11 16:09:22.099 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-11 16:09:22.099 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-11 16:09:22.099 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-11 16:09:22.099 +02:00 [DBG] Error Url: /home/error
2019-07-11 16:09:22.099 +02:00 [DBG] Error Id Parameter: errorId
2019-07-11 16:09:22.145 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-11 16:09:22.154 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-11 16:09:22.154 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-11 16:09:22.166 +02:00 [DBG] Start discovery request
2019-07-11 16:09:22.695 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-11 16:09:22.700 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-11 16:09:22.700 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-11 16:09:22.711 +02:00 [DBG] Start key discovery request
2019-07-11 16:09:22.936 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-11 16:09:22.945 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-11 16:09:22.945 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-11 16:09:22.957 +02:00 [DBG] Start authorize request
2019-07-11 16:09:22.987 +02:00 [DBG] No user present in authorize request
2019-07-11 16:09:23.002 +02:00 [DBG] Start authorize request protocol validation
2019-07-11 16:09:23.029 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-11 16:09:23.084 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-11 16:09:23.109 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256UQZAT6L_l2FFWCiz02jAun6v6RnohH3mdUbWlXLUL3_STqyukH5l7vJjXbfZkq674Ve90a0mI4yWQCiUAtAH2DPZ5FwtGTjx-NSnnRo2U-44DHr0qk2bAV82ogmuvqOko8NqDB1GjxaA57gIFWGB9-xuTG_QbgGEcHHMnP9QAnOHw1NsHcLWRmzi-7p5xvyZbsegsN0UDykuQveAWB1ES9XMjcsM5XiA--_tPgSc1IVYv1BxxSnwbhjQAn5Q3bgMeuYpTuE9c9SIkr03DXj2BSaCFvMTuv6-5f2pQp0PloQ","UiLocales":null,"Nonce":"636984509628114036.MTI1NWEwMWYtZjc5MS00NzYxLThkZmQtZTBlZWNkYzllYzRhOTFkOGJkODctNDk0MC00YjY3LTllNGYtMjI1Y2MzZTY2NWQ2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636984509628114036.MTI1NWEwMWYtZjc5MS00NzYxLThkZmQtZTBlZWNkYzllYzRhOTFkOGJkODctNDk0MC00YjY3LTllNGYtMjI1Y2MzZTY2NWQ2","state":"CfDJ8NxwjiZxUEdNkONpYNI9256UQZAT6L_l2FFWCiz02jAun6v6RnohH3mdUbWlXLUL3_STqyukH5l7vJjXbfZkq674Ve90a0mI4yWQCiUAtAH2DPZ5FwtGTjx-NSnnRo2U-44DHr0qk2bAV82ogmuvqOko8NqDB1GjxaA57gIFWGB9-xuTG_QbgGEcHHMnP9QAnOHw1NsHcLWRmzi-7p5xvyZbsegsN0UDykuQveAWB1ES9XMjcsM5XiA--_tPgSc1IVYv1BxxSnwbhjQAn5Q3bgMeuYpTuE9c9SIkr03DXj2BSaCFvMTuv6-5f2pQp0PloQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-11 16:09:23.145 +02:00 [INF] Showing login: User is not authenticated
2019-07-11 16:09:23.438 +02:00 [DBG] Start authorize request protocol validation
2019-07-11 16:09:23.439 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-11 16:09:23.440 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-11 16:09:23.450 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-11 16:09:50.849 +02:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-11 16:09:50.923 +02:00 [DBG] Start authorize request protocol validation
2019-07-11 16:09:50.923 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-11 16:09:50.924 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-11 16:09:50.962 +02:00 [DBG] Augmenting SignInContext
2019-07-11 16:09:50.966 +02:00 [DBG] Adding idp claim with value: local
2019-07-11 16:09:50.966 +02:00 [DBG] Adding amr claim with value: pwd
2019-07-11 16:09:51.041 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-11 16:09:51.044 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-11 16:09:51.056 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-11 16:09:51.057 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-11 16:09:51.057 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-11 16:09:51.069 +02:00 [DBG] Start authorize callback request
2019-07-11 16:09:51.077 +02:00 [DBG] User in authorize request: 818727
2019-07-11 16:09:51.077 +02:00 [DBG] Start authorize request protocol validation
2019-07-11 16:09:51.078 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-11 16:09:51.078 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-11 16:09:51.079 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"818727","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256UQZAT6L_l2FFWCiz02jAun6v6RnohH3mdUbWlXLUL3_STqyukH5l7vJjXbfZkq674Ve90a0mI4yWQCiUAtAH2DPZ5FwtGTjx-NSnnRo2U-44DHr0qk2bAV82ogmuvqOko8NqDB1GjxaA57gIFWGB9-xuTG_QbgGEcHHMnP9QAnOHw1NsHcLWRmzi-7p5xvyZbsegsN0UDykuQveAWB1ES9XMjcsM5XiA--_tPgSc1IVYv1BxxSnwbhjQAn5Q3bgMeuYpTuE9c9SIkr03DXj2BSaCFvMTuv6-5f2pQp0PloQ","UiLocales":null,"Nonce":"636984509628114036.MTI1NWEwMWYtZjc5MS00NzYxLThkZmQtZTBlZWNkYzllYzRhOTFkOGJkODctNDk0MC00YjY3LTllNGYtMjI1Y2MzZTY2NWQ2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"c6a773f66fabb07c4a8f829287f016e1","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636984509628114036.MTI1NWEwMWYtZjc5MS00NzYxLThkZmQtZTBlZWNkYzllYzRhOTFkOGJkODctNDk0MC00YjY3LTllNGYtMjI1Y2MzZTY2NWQ2","state":"CfDJ8NxwjiZxUEdNkONpYNI9256UQZAT6L_l2FFWCiz02jAun6v6RnohH3mdUbWlXLUL3_STqyukH5l7vJjXbfZkq674Ve90a0mI4yWQCiUAtAH2DPZ5FwtGTjx-NSnnRo2U-44DHr0qk2bAV82ogmuvqOko8NqDB1GjxaA57gIFWGB9-xuTG_QbgGEcHHMnP9QAnOHw1NsHcLWRmzi-7p5xvyZbsegsN0UDykuQveAWB1ES9XMjcsM5XiA--_tPgSc1IVYv1BxxSnwbhjQAn5Q3bgMeuYpTuE9c9SIkr03DXj2BSaCFvMTuv6-5f2pQp0PloQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-11 16:09:51.082 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-11 16:09:51.113 +02:00 [DBG] user_consent grant with value: mvc|818727 not found in store.
2019-07-11 16:09:51.113 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-11 16:09:51.113 +02:00 [INF] Showing consent: User has not yet consented
2019-07-11 16:09:51.156 +02:00 [DBG] Start authorize request protocol validation
2019-07-11 16:09:51.156 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-11 16:09:51.157 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-11 16:09:51.157 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-11 16:09:57.764 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-11 16:09:57.795 +02:00 [DBG] Start authorize request protocol validation
2019-07-11 16:09:57.796 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-11 16:09:57.797 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-11 16:09:57.824 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-11 16:09:57.836 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-11 16:09:57.836 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-11 16:09:57.836 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-11 16:09:57.837 +02:00 [DBG] Start authorize callback request
2019-07-11 16:09:57.847 +02:00 [DBG] User in authorize request: 818727
2019-07-11 16:09:57.848 +02:00 [DBG] Start authorize request protocol validation
2019-07-11 16:09:57.848 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-11 16:09:57.848 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-11 16:09:57.848 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"818727","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256UQZAT6L_l2FFWCiz02jAun6v6RnohH3mdUbWlXLUL3_STqyukH5l7vJjXbfZkq674Ve90a0mI4yWQCiUAtAH2DPZ5FwtGTjx-NSnnRo2U-44DHr0qk2bAV82ogmuvqOko8NqDB1GjxaA57gIFWGB9-xuTG_QbgGEcHHMnP9QAnOHw1NsHcLWRmzi-7p5xvyZbsegsN0UDykuQveAWB1ES9XMjcsM5XiA--_tPgSc1IVYv1BxxSnwbhjQAn5Q3bgMeuYpTuE9c9SIkr03DXj2BSaCFvMTuv6-5f2pQp0PloQ","UiLocales":null,"Nonce":"636984509628114036.MTI1NWEwMWYtZjc5MS00NzYxLThkZmQtZTBlZWNkYzllYzRhOTFkOGJkODctNDk0MC00YjY3LTllNGYtMjI1Y2MzZTY2NWQ2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"c6a773f66fabb07c4a8f829287f016e1","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636984509628114036.MTI1NWEwMWYtZjc5MS00NzYxLThkZmQtZTBlZWNkYzllYzRhOTFkOGJkODctNDk0MC00YjY3LTllNGYtMjI1Y2MzZTY2NWQ2","state":"CfDJ8NxwjiZxUEdNkONpYNI9256UQZAT6L_l2FFWCiz02jAun6v6RnohH3mdUbWlXLUL3_STqyukH5l7vJjXbfZkq674Ve90a0mI4yWQCiUAtAH2DPZ5FwtGTjx-NSnnRo2U-44DHr0qk2bAV82ogmuvqOko8NqDB1GjxaA57gIFWGB9-xuTG_QbgGEcHHMnP9QAnOHw1NsHcLWRmzi-7p5xvyZbsegsN0UDykuQveAWB1ES9XMjcsM5XiA--_tPgSc1IVYv1BxxSnwbhjQAn5Q3bgMeuYpTuE9c9SIkr03DXj2BSaCFvMTuv6-5f2pQp0PloQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-11 16:09:57.849 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-11 16:09:57.849 +02:00 [DBG] user_consent grant with value: mvc|818727 not found in store.
2019-07-11 16:09:57.849 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-11 16:09:57.858 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-11 16:09:57.862 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-11 16:09:57.869 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 818727
2019-07-11 16:09:57.903 +02:00 [DBG] Creating Implicit Flow response.
2019-07-11 16:09:57.922 +02:00 [DBG] Getting claims for identity token for subject: 818727 and client: mvc
2019-07-11 16:09:57.932 +02:00 [DBG] Get profile called for subject 818727 from client MVC Client with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-11 16:09:57.936 +02:00 [DBG] Issued claims: ["name"]
2019-07-11 16:09:58.108 +02:00 [INF] Authorize endpoint response
{"SubjectId":"818727","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9256UQZAT6L_l2FFWCiz02jAun6v6RnohH3mdUbWlXLUL3_STqyukH5l7vJjXbfZkq674Ve90a0mI4yWQCiUAtAH2DPZ5FwtGTjx-NSnnRo2U-44DHr0qk2bAV82ogmuvqOko8NqDB1GjxaA57gIFWGB9-xuTG_QbgGEcHHMnP9QAnOHw1NsHcLWRmzi-7p5xvyZbsegsN0UDykuQveAWB1ES9XMjcsM5XiA--_tPgSc1IVYv1BxxSnwbhjQAn5Q3bgMeuYpTuE9c9SIkr03DXj2BSaCFvMTuv6-5f2pQp0PloQ","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-11 16:09:58.133 +02:00 [DBG] Augmenting SignInContext
2019-07-11 16:09:58.134 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-11 16:10:43.138 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-11 16:10:43.140 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-11 16:10:43.140 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-11 16:10:43.141 +02:00 [DBG] Start authorize request
2019-07-11 16:10:43.141 +02:00 [DBG] No user present in authorize request
2019-07-11 16:10:43.141 +02:00 [DBG] Start authorize request protocol validation
2019-07-11 16:10:43.141 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-11 16:10:43.142 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-11 16:10:43.142 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9255ha3dJBvwjilSi8bJkhYgI3nXRt-nKISC9hifgz4wFoAEw5-Q1MMUL-jm9YxdU63bVJk88LYR3wNRNTTZhFmJI7sfT6ckJIBuUVCQlVdrxnL5TEuyl4I62umaOcRtxTzHxegmxcD0KP16ZJO69SxMGFu4Px3scNo9WVK116SgmBMhMk1U9a0LBLOEnpr2bvVpVzpDLwSbYcQ2_610AlyfyOFV2gTI11fbkhWuhurbDvZH05ZT5oIOPyqQhIQ8ivO0UfompTR-cVJyvuv_k-f7KJUY6U8eNlH6a3eYznQKo2g","UiLocales":null,"Nonce":"636984510431232791.MGM3MGVhOWMtZTJlMi00OTcwLTgyYmUtMDI2YTNlZmE3NjczOTk5YWFkZjItNzAzZS00YzhlLWI2MGUtODY2YjI3ZWJjYjdk","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636984510431232791.MGM3MGVhOWMtZTJlMi00OTcwLTgyYmUtMDI2YTNlZmE3NjczOTk5YWFkZjItNzAzZS00YzhlLWI2MGUtODY2YjI3ZWJjYjdk","state":"CfDJ8NxwjiZxUEdNkONpYNI9255ha3dJBvwjilSi8bJkhYgI3nXRt-nKISC9hifgz4wFoAEw5-Q1MMUL-jm9YxdU63bVJk88LYR3wNRNTTZhFmJI7sfT6ckJIBuUVCQlVdrxnL5TEuyl4I62umaOcRtxTzHxegmxcD0KP16ZJO69SxMGFu4Px3scNo9WVK116SgmBMhMk1U9a0LBLOEnpr2bvVpVzpDLwSbYcQ2_610AlyfyOFV2gTI11fbkhWuhurbDvZH05ZT5oIOPyqQhIQ8ivO0UfompTR-cVJyvuv_k-f7KJUY6U8eNlH6a3eYznQKo2g","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-11 16:10:43.142 +02:00 [INF] Showing login: User is not authenticated
2019-07-11 16:10:43.157 +02:00 [DBG] Start authorize request protocol validation
2019-07-11 16:10:43.158 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-11 16:10:43.159 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-11 16:10:43.159 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-11 16:10:46.347 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-11 16:11:08.790 +02:00 [DBG] CORS request made for path: /signin-adfs from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-11 16:11:08.807 +02:00 [INF] Remote signout request processed.
2019-07-11 16:11:08.832 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:11:08.842 +02:00 [DBG] Processing federated signout
2019-07-11 16:11:08.856 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:23:55.365 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-11 16:23:55.452 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-11 16:23:55.458 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-11 16:23:55.458 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-11 16:23:55.458 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-11 16:23:55.459 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-11 16:23:55.459 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-11 16:23:56.104 +02:00 [DBG] Login Url: /Account/Login
2019-07-11 16:23:56.107 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-11 16:23:56.107 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-11 16:23:56.107 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-11 16:23:56.107 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-11 16:23:56.107 +02:00 [DBG] Error Url: /home/error
2019-07-11 16:23:56.107 +02:00 [DBG] Error Id Parameter: errorId
2019-07-11 16:23:56.119 +02:00 [INF] Remote signout request processed.
2019-07-11 16:23:56.141 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:23:56.146 +02:00 [DBG] Processing federated signout
2019-07-11 16:23:56.168 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:25:19.458 +02:00 [INF] Remote signout request processed.
2019-07-11 16:25:19.459 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:25:19.459 +02:00 [DBG] Processing federated signout
2019-07-11 16:25:19.459 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:26:21.785 +02:00 [INF] Remote signout request processed.
2019-07-11 16:26:21.785 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:26:21.785 +02:00 [DBG] Processing federated signout
2019-07-11 16:26:21.785 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:27:03.020 +02:00 [INF] Remote signout request processed.
2019-07-11 16:27:03.020 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:27:03.020 +02:00 [DBG] Processing federated signout
2019-07-11 16:27:03.020 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:27:06.357 +02:00 [INF] Remote signout request processed.
2019-07-11 16:27:06.357 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:27:06.357 +02:00 [DBG] Processing federated signout
2019-07-11 16:27:06.357 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:29:57.145 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-11 16:29:57.218 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-11 16:29:57.224 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-11 16:29:57.224 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-11 16:29:57.224 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-11 16:29:57.224 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-11 16:29:57.225 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-11 16:29:57.839 +02:00 [DBG] Login Url: /Account/Login
2019-07-11 16:29:57.844 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-11 16:29:57.844 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-11 16:29:57.844 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-11 16:29:57.844 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-11 16:29:57.844 +02:00 [DBG] Error Url: /home/error
2019-07-11 16:29:57.844 +02:00 [DBG] Error Id Parameter: errorId
2019-07-11 16:30:02.762 +02:00 [INF] Remote signout request processed.
2019-07-11 16:30:02.804 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:30:02.811 +02:00 [DBG] Processing federated signout
2019-07-11 16:30:02.837 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:30:32.266 +02:00 [INF] Remote signout request processed.
2019-07-11 16:30:32.267 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:30:32.267 +02:00 [DBG] Processing federated signout
2019-07-11 16:30:32.267 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:32:00.871 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-11 16:32:00.968 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-11 16:32:00.976 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-11 16:32:00.977 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-11 16:32:00.977 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-11 16:32:00.977 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-11 16:32:00.977 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-11 16:32:02.433 +02:00 [DBG] Login Url: /Account/Login
2019-07-11 16:32:02.438 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-11 16:32:02.438 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-11 16:32:02.438 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-11 16:32:02.438 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-11 16:32:02.438 +02:00 [DBG] Error Url: /home/error
2019-07-11 16:32:02.438 +02:00 [DBG] Error Id Parameter: errorId
2019-07-11 16:32:22.087 +02:00 [INF] Remote signout request processed.
2019-07-11 16:32:22.113 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:32:22.120 +02:00 [DBG] Processing federated signout
2019-07-11 16:32:22.165 +02:00 [DBG] Rendering signout callback iframe
2019-07-11 16:32:22.238 +02:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2019-07-11 16:32:22.254 +02:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2019-07-11 16:32:22.254 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2019-07-11 16:32:22.269 +02:00 [DBG] Processing signout callback request
2019-07-11 16:32:22.333 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-11 16:32:22.334 +02:00 [DBG] No client front-channel logout URLs
2019-07-11 16:32:22.334 +02:00 [DBG] No client back-channel logout URLs
2019-07-11 16:32:22.334 +02:00 [INF] Successful signout callback.
2019-07-11 16:32:22.334 +02:00 [DBG] No client front-channel iframe urls
2019-07-11 16:32:22.335 +02:00 [DBG] No client back-channel iframe urls
2019-07-11 16:32:30.987 +02:00 [INF] Remote signout request processed.
2019-07-11 16:32:30.987 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:32:30.987 +02:00 [DBG] Processing federated signout
2019-07-11 16:32:30.987 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:32:31.969 +02:00 [INF] Remote signout request processed.
2019-07-11 16:32:31.969 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:32:31.969 +02:00 [DBG] Processing federated signout
2019-07-11 16:32:31.969 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:32:32.287 +02:00 [INF] Remote signout request processed.
2019-07-11 16:32:32.288 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:32:32.288 +02:00 [DBG] Processing federated signout
2019-07-11 16:32:32.292 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:32:32.435 +02:00 [INF] Remote signout request processed.
2019-07-11 16:32:32.436 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:32:32.436 +02:00 [DBG] Processing federated signout
2019-07-11 16:32:32.436 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:32:34.006 +02:00 [INF] Remote signout request processed.
2019-07-11 16:32:34.007 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:32:34.007 +02:00 [DBG] Processing federated signout
2019-07-11 16:32:34.007 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:32:48.601 +02:00 [INF] Remote signout request processed.
2019-07-11 16:32:48.602 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:32:48.602 +02:00 [DBG] Processing federated signout
2019-07-11 16:32:48.602 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:33:01.452 +02:00 [INF] Remote signout request processed.
2019-07-11 16:33:01.452 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:33:01.452 +02:00 [DBG] Processing federated signout
2019-07-11 16:33:01.452 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:34:31.451 +02:00 [INF] Remote signout request processed.
2019-07-11 16:34:31.452 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:34:31.452 +02:00 [DBG] Processing federated signout
2019-07-11 16:34:31.452 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:34:34.731 +02:00 [INF] Remote signout request processed.
2019-07-11 16:34:34.732 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:34:34.732 +02:00 [DBG] Processing federated signout
2019-07-11 16:34:34.732 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:34:35.432 +02:00 [INF] Remote signout request processed.
2019-07-11 16:34:35.432 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:34:35.432 +02:00 [DBG] Processing federated signout
2019-07-11 16:34:35.432 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:35:16.937 +02:00 [INF] Remote signout request processed.
2019-07-11 16:35:16.937 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:35:16.976 +02:00 [DBG] Processing federated signout
2019-07-11 16:35:16.977 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:35:17.708 +02:00 [INF] Remote signout request processed.
2019-07-11 16:35:17.708 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:35:17.708 +02:00 [DBG] Processing federated signout
2019-07-11 16:35:17.708 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:35:54.369 +02:00 [INF] Remote signout request processed.
2019-07-11 16:35:54.369 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:35:54.370 +02:00 [DBG] Processing federated signout
2019-07-11 16:35:54.370 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:35:56.314 +02:00 [INF] Remote signout request processed.
2019-07-11 16:35:56.315 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:35:56.315 +02:00 [DBG] Processing federated signout
2019-07-11 16:35:56.315 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:36:05.821 +02:00 [INF] Remote signout request processed.
2019-07-11 16:36:05.821 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:36:05.822 +02:00 [DBG] Processing federated signout
2019-07-11 16:36:05.822 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:36:06.634 +02:00 [INF] Remote signout request processed.
2019-07-11 16:36:06.635 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:36:06.635 +02:00 [DBG] Processing federated signout
2019-07-11 16:36:06.635 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:36:10.443 +02:00 [INF] Remote signout request processed.
2019-07-11 16:36:10.444 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:36:10.444 +02:00 [DBG] Processing federated signout
2019-07-11 16:36:10.444 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:39:17.615 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-11 16:39:17.679 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-11 16:39:17.685 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-11 16:39:17.686 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-11 16:39:17.686 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-11 16:39:17.686 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-11 16:39:17.686 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-11 16:39:18.687 +02:00 [DBG] Login Url: /Account/Login
2019-07-11 16:39:18.698 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-11 16:39:18.699 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-11 16:39:18.699 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-11 16:39:18.700 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-11 16:39:18.700 +02:00 [DBG] Error Url: /home/error
2019-07-11 16:39:18.700 +02:00 [DBG] Error Id Parameter: errorId
2019-07-11 16:39:26.117 +02:00 [INF] Remote signout request processed.
2019-07-11 16:39:26.147 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:39:26.154 +02:00 [DBG] Processing federated signout
2019-07-11 16:39:26.170 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:47:24.068 +02:00 [INF] Remote signout request processed.
2019-07-11 16:47:24.069 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:47:24.069 +02:00 [DBG] Processing federated signout
2019-07-11 16:47:24.069 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:47:26.292 +02:00 [INF] Remote signout request processed.
2019-07-11 16:47:26.292 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:47:26.292 +02:00 [DBG] Processing federated signout
2019-07-11 16:47:26.292 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:47:27.150 +02:00 [INF] Remote signout request processed.
2019-07-11 16:47:27.151 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:47:27.151 +02:00 [DBG] Processing federated signout
2019-07-11 16:47:27.151 +02:00 [DBG] No signout callback iframe to render
2019-07-11 16:47:28.643 +02:00 [INF] Remote signout request processed.
2019-07-11 16:47:28.644 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-11 16:47:28.644 +02:00 [DBG] Processing federated signout
2019-07-11 16:47:28.645 +02:00 [DBG] No signout callback iframe to render
2019-07-12 10:47:29.981 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 10:47:30.054 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 10:47:30.059 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 10:47:30.059 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 10:47:30.059 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 10:47:30.059 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 10:47:30.059 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 10:47:31.573 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 10:47:31.576 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 10:47:31.576 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 10:47:31.576 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 10:47:31.576 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 10:47:31.576 +02:00 [DBG] Error Url: /home/error
2019-07-12 10:47:31.576 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 10:47:46.473 +02:00 [INF] Remote signout request processed.
2019-07-12 10:47:46.494 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-12 10:47:46.505 +02:00 [DBG] Processing federated signout
2019-07-12 10:47:46.517 +02:00 [DBG] No signout callback iframe to render
2019-07-12 11:16:49.215 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 11:16:49.339 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 11:16:49.349 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 11:16:49.349 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 11:16:49.349 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 11:16:49.349 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 11:16:49.349 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 11:16:50.972 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 11:16:50.977 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 11:16:50.978 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 11:16:50.978 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 11:16:50.978 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 11:16:50.979 +02:00 [DBG] Error Url: /home/error
2019-07-12 11:16:50.979 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 11:16:58.741 +02:00 [INF] Remote signout request processed.
2019-07-12 11:16:58.786 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-12 11:16:58.794 +02:00 [DBG] Processing federated signout
2019-07-12 11:16:58.807 +02:00 [DBG] No signout callback iframe to render
2019-07-12 11:17:03.839 +02:00 [INF] Remote signout request processed.
2019-07-12 11:17:03.840 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-12 11:17:03.841 +02:00 [DBG] Processing federated signout
2019-07-12 11:17:03.841 +02:00 [DBG] No signout callback iframe to render
2019-07-12 11:17:49.676 +02:00 [INF] Remote signout request processed.
2019-07-12 11:17:49.676 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-12 11:17:49.676 +02:00 [DBG] Processing federated signout
2019-07-12 11:17:49.676 +02:00 [DBG] No signout callback iframe to render
2019-07-12 11:51:13.558 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 11:53:27.540 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 11:55:11.285 +02:00 [DBG] CORS request made for path: /signin-adfs2 from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 11:55:11.344 +02:00 [INF] Remote signout request processed.
2019-07-12 11:55:11.345 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-12 11:55:11.346 +02:00 [DBG] Processing federated signout
2019-07-12 11:55:11.347 +02:00 [DBG] No signout callback iframe to render
2019-07-12 11:59:03.539 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 11:59:03.605 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 11:59:03.610 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 11:59:03.610 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 11:59:03.610 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 11:59:03.610 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 11:59:03.611 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 11:59:04.213 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 11:59:04.220 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 11:59:04.221 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 11:59:04.221 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 11:59:04.221 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 11:59:04.221 +02:00 [DBG] Error Url: /home/error
2019-07-12 11:59:04.221 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 12:00:01.505 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 12:00:01.521 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 12:00:01.522 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 12:00:01.532 +02:00 [DBG] Start authorize request
2019-07-12 12:00:01.552 +02:00 [DBG] No user present in authorize request
2019-07-12 12:00:01.562 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 12:00:01.601 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:00:01.687 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 12:00:01.725 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9255eP_esQTfKAyDleyxbGTSNkhGxvSC9NiaL6aNCYzigfzC2F2ISm5HnF_ogQwwbFtHo2v256mRAyrQ2xfkpunLeewuargmP_ixPWYLVaSXqKIylIeXLDNfmZ7vhqK0NFbVUsdKLL3lfTIwbeORxT6eKziX2ghKaaxmccjzUFwlNxCnvwVPsQsEJSI3tX7m-Q_Ad4v3Ng-HBD8PboNd4SWLOLagtCBcgiRQR5d6kruViU-S63q68U5yptWtsHPMaAWfTNI1BpDk8r89xDIkWNlDYCdBTW04bdcq0wK7MB2FFCQ","UiLocales":null,"Nonce":"636985224014539418.NTY3NmQ1MjMtYTY3ZS00ZWM5LTk0ZDAtZWUwNTA5YzNjZjM5ZGI3YzVmZjgtNDhmNi00M2Q2LWJkMWUtNDZkOWI1MGVkZGFi","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985224014539418.NTY3NmQ1MjMtYTY3ZS00ZWM5LTk0ZDAtZWUwNTA5YzNjZjM5ZGI3YzVmZjgtNDhmNi00M2Q2LWJkMWUtNDZkOWI1MGVkZGFi","state":"CfDJ8NxwjiZxUEdNkONpYNI9255eP_esQTfKAyDleyxbGTSNkhGxvSC9NiaL6aNCYzigfzC2F2ISm5HnF_ogQwwbFtHo2v256mRAyrQ2xfkpunLeewuargmP_ixPWYLVaSXqKIylIeXLDNfmZ7vhqK0NFbVUsdKLL3lfTIwbeORxT6eKziX2ghKaaxmccjzUFwlNxCnvwVPsQsEJSI3tX7m-Q_Ad4v3Ng-HBD8PboNd4SWLOLagtCBcgiRQR5d6kruViU-S63q68U5yptWtsHPMaAWfTNI1BpDk8r89xDIkWNlDYCdBTW04bdcq0wK7MB2FFCQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 12:00:01.775 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 12:00:01.901 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 12:00:01.904 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:00:01.904 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 12:00:01.913 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:00:18.198 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 12:00:29.742 +02:00 [DBG] CORS request made for path: /signin-adfs from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 12:00:29.800 +02:00 [INF] Remote signout request processed.
2019-07-12 12:00:29.818 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-12 12:00:29.825 +02:00 [DBG] Processing federated signout
2019-07-12 12:00:29.837 +02:00 [DBG] No signout callback iframe to render
2019-07-12 12:02:32.348 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 12:02:32.350 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 12:02:32.350 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 12:02:32.351 +02:00 [DBG] Start authorize request
2019-07-12 12:02:32.351 +02:00 [DBG] No user present in authorize request
2019-07-12 12:02:32.353 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 12:02:32.353 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:02:32.354 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 12:02:32.354 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254-R5o0osGSyPs92RfBoe24Rg3_WBghi7RI8OFpM1cA-qtOlxXE9hOouy45T2cjWYCoG-LEKgJMHqrN7x9o4GuXFdseyz7uNwyGoL5NuizdhON21ijI5afTvlUrquWev1OoEFJcML-Wm5fNajq8wQoGyWPC4LzANy_ZhGwKEtyqYgG8539j0J99DsMywWWcHxrohESL31twfL4pKQVkkrKhskfxSji-1sF-_dIQ9P896QVHs7dLocX9k_T-kZ2oVNuo4rkPaSpjFVtYhpQjiPqShCja-Bk8uK2qSCgIHYH0Gw","UiLocales":null,"Nonce":"636985225523305161.MzNmNTkxZGQtMzQ0MC00MzQ1LWIwYWItOGNlMmQ4N2RmYWM4NTUxYTQ2YTQtNWYzMy00NmI4LWEzMGUtZjgxMDViZmY0ODk3","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985225523305161.MzNmNTkxZGQtMzQ0MC00MzQ1LWIwYWItOGNlMmQ4N2RmYWM4NTUxYTQ2YTQtNWYzMy00NmI4LWEzMGUtZjgxMDViZmY0ODk3","state":"CfDJ8NxwjiZxUEdNkONpYNI9254-R5o0osGSyPs92RfBoe24Rg3_WBghi7RI8OFpM1cA-qtOlxXE9hOouy45T2cjWYCoG-LEKgJMHqrN7x9o4GuXFdseyz7uNwyGoL5NuizdhON21ijI5afTvlUrquWev1OoEFJcML-Wm5fNajq8wQoGyWPC4LzANy_ZhGwKEtyqYgG8539j0J99DsMywWWcHxrohESL31twfL4pKQVkkrKhskfxSji-1sF-_dIQ9P896QVHs7dLocX9k_T-kZ2oVNuo4rkPaSpjFVtYhpQjiPqShCja-Bk8uK2qSCgIHYH0Gw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 12:02:32.355 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 12:02:32.388 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 12:02:32.388 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:02:32.389 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 12:02:32.389 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:02:35.724 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 12:02:36.408 +02:00 [DBG] CORS request made for path: /signin-adfs from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 12:02:36.412 +02:00 [INF] Remote signout request processed.
2019-07-12 12:02:36.415 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-12 12:02:36.417 +02:00 [DBG] Processing federated signout
2019-07-12 12:02:36.417 +02:00 [DBG] No signout callback iframe to render
2019-07-12 12:02:38.396 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 12:02:38.400 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 12:02:38.400 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 12:02:38.400 +02:00 [DBG] Start authorize request
2019-07-12 12:02:38.401 +02:00 [DBG] No user present in authorize request
2019-07-12 12:02:38.401 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 12:02:38.401 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:02:38.401 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 12:02:38.402 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254A6ngLhLJz03e_uXOMAzMKH7xgTZm70rwQ_m7HZuuohDXULCjjYCwvujZ0c0gpl6el7g6YWD2tXvJ2OKFSu4nNyp_l0K9bg0lT-OA4ilB86yMlrhMCcDs2tVcGpBbb8FXjcxfGE2b1HJmIBFk1QfclydaJF15Ham2a8danIL63mnccgA6US9rC7Af_ZTHCpb91MahW1f6NN8GU_poproX6X-kVfoa2AFPGH9DcFYFGTNxj2-QQNnP4zdR39A88CnlVAKdKPD5qivNFaA3CRj6MKLlj0a_IrdbqWeNHGD0svQ","UiLocales":null,"Nonce":"636985225583860735.NWRhOTU5ZGMtNjMxZS00MmU0LWI1NzYtODUwNjllMDBlNmRmNTEwYjE1YzEtZTExNy00NmNhLWEyZTItOTAxZTI0ZTg0YTQx","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985225583860735.NWRhOTU5ZGMtNjMxZS00MmU0LWI1NzYtODUwNjllMDBlNmRmNTEwYjE1YzEtZTExNy00NmNhLWEyZTItOTAxZTI0ZTg0YTQx","state":"CfDJ8NxwjiZxUEdNkONpYNI9254A6ngLhLJz03e_uXOMAzMKH7xgTZm70rwQ_m7HZuuohDXULCjjYCwvujZ0c0gpl6el7g6YWD2tXvJ2OKFSu4nNyp_l0K9bg0lT-OA4ilB86yMlrhMCcDs2tVcGpBbb8FXjcxfGE2b1HJmIBFk1QfclydaJF15Ham2a8danIL63mnccgA6US9rC7Af_ZTHCpb91MahW1f6NN8GU_poproX6X-kVfoa2AFPGH9DcFYFGTNxj2-QQNnP4zdR39A88CnlVAKdKPD5qivNFaA3CRj6MKLlj0a_IrdbqWeNHGD0svQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 12:02:38.403 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 12:02:38.419 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 12:02:38.419 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:02:38.420 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 12:02:38.420 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:02:39.060 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 12:02:39.061 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:02:39.061 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 12:02:39.061 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:02:51.592 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 12:02:51.593 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 12:02:51.593 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 12:02:51.599 +02:00 [DBG] Start authorize request
2019-07-12 12:02:51.600 +02:00 [DBG] No user present in authorize request
2019-07-12 12:02:51.600 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 12:02:51.601 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:02:51.601 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 12:02:51.602 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256pqKCWEJ15AgAFfI70gzgoQnVggUxyKBOrc8BWnX4pmO-28kkmBUkpfuRIVLJcbS3_N3uY0GPDEZEVx6j9UQfcnez9dTRKdK_sdcb41l4q5212kRtZyNCjLpCTZRkg_Hz4kJs1FKlavozyKSjB8UTwZEi01qv3UlNSHM_UouGYtE0kfvGIzfphMHf3W3OZzzx1JcL2p_PzUOnky0a2SQnf-ZvH-wzvX-ZQoeYrfAYx8h3hzICehw_5Yqv_iL3R_LvFwk9gL7dx_qT4f856301fGIyQJw7Oftbv8G44x6uC6w","UiLocales":null,"Nonce":"636985225715834123.NTgzZTMyZjktODdiYy00ZjYwLWExM2EtZWNmNjA0NzQ4YzU5YjczNDA5NWUtNzkwYy00NjQ0LTk3MTEtZTdlZmExYWJlODRh","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985225715834123.NTgzZTMyZjktODdiYy00ZjYwLWExM2EtZWNmNjA0NzQ4YzU5YjczNDA5NWUtNzkwYy00NjQ0LTk3MTEtZTdlZmExYWJlODRh","state":"CfDJ8NxwjiZxUEdNkONpYNI9256pqKCWEJ15AgAFfI70gzgoQnVggUxyKBOrc8BWnX4pmO-28kkmBUkpfuRIVLJcbS3_N3uY0GPDEZEVx6j9UQfcnez9dTRKdK_sdcb41l4q5212kRtZyNCjLpCTZRkg_Hz4kJs1FKlavozyKSjB8UTwZEi01qv3UlNSHM_UouGYtE0kfvGIzfphMHf3W3OZzzx1JcL2p_PzUOnky0a2SQnf-ZvH-wzvX-ZQoeYrfAYx8h3hzICehw_5Yqv_iL3R_LvFwk9gL7dx_qT4f856301fGIyQJw7Oftbv8G44x6uC6w","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 12:02:51.602 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 12:02:51.623 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 12:02:51.624 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:02:51.624 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 12:02:51.625 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:02:52.281 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 12:02:52.281 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:02:52.282 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 12:02:52.282 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:02:57.266 +02:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 12:02:57.326 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 12:02:57.326 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:02:57.327 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 12:02:57.371 +02:00 [DBG] Augmenting SignInContext
2019-07-12 12:02:57.377 +02:00 [DBG] Adding idp claim with value: local
2019-07-12 12:02:57.377 +02:00 [DBG] Adding amr claim with value: pwd
2019-07-12 12:02:57.402 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 12:02:57.404 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:02:57.423 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 12:02:57.424 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 12:02:57.424 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 12:02:57.436 +02:00 [DBG] Start authorize callback request
2019-07-12 12:02:57.446 +02:00 [DBG] User in authorize request: 818727
2019-07-12 12:02:57.446 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 12:02:57.447 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:02:57.447 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 12:02:57.447 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"818727","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256pqKCWEJ15AgAFfI70gzgoQnVggUxyKBOrc8BWnX4pmO-28kkmBUkpfuRIVLJcbS3_N3uY0GPDEZEVx6j9UQfcnez9dTRKdK_sdcb41l4q5212kRtZyNCjLpCTZRkg_Hz4kJs1FKlavozyKSjB8UTwZEi01qv3UlNSHM_UouGYtE0kfvGIzfphMHf3W3OZzzx1JcL2p_PzUOnky0a2SQnf-ZvH-wzvX-ZQoeYrfAYx8h3hzICehw_5Yqv_iL3R_LvFwk9gL7dx_qT4f856301fGIyQJw7Oftbv8G44x6uC6w","UiLocales":null,"Nonce":"636985225715834123.NTgzZTMyZjktODdiYy00ZjYwLWExM2EtZWNmNjA0NzQ4YzU5YjczNDA5NWUtNzkwYy00NjQ0LTk3MTEtZTdlZmExYWJlODRh","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"6a2648905997d3bda69a9390a2dc6bc1","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985225715834123.NTgzZTMyZjktODdiYy00ZjYwLWExM2EtZWNmNjA0NzQ4YzU5YjczNDA5NWUtNzkwYy00NjQ0LTk3MTEtZTdlZmExYWJlODRh","state":"CfDJ8NxwjiZxUEdNkONpYNI9256pqKCWEJ15AgAFfI70gzgoQnVggUxyKBOrc8BWnX4pmO-28kkmBUkpfuRIVLJcbS3_N3uY0GPDEZEVx6j9UQfcnez9dTRKdK_sdcb41l4q5212kRtZyNCjLpCTZRkg_Hz4kJs1FKlavozyKSjB8UTwZEi01qv3UlNSHM_UouGYtE0kfvGIzfphMHf3W3OZzzx1JcL2p_PzUOnky0a2SQnf-ZvH-wzvX-ZQoeYrfAYx8h3hzICehw_5Yqv_iL3R_LvFwk9gL7dx_qT4f856301fGIyQJw7Oftbv8G44x6uC6w","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 12:02:57.449 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 12:02:57.483 +02:00 [DBG] user_consent grant with value: mvc|818727 not found in store.
2019-07-12 12:02:57.483 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 12:02:57.484 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 12:02:57.532 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 12:02:57.533 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:02:57.533 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 12:02:57.533 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:03:01.192 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 12:03:01.240 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 12:03:01.240 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:03:01.240 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 12:03:01.273 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:03:01.286 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 12:03:01.286 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 12:03:01.287 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 12:03:01.287 +02:00 [DBG] Start authorize callback request
2019-07-12 12:03:01.295 +02:00 [DBG] User in authorize request: 818727
2019-07-12 12:03:01.295 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 12:03:01.295 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 12:03:01.295 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 12:03:01.296 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"818727","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256pqKCWEJ15AgAFfI70gzgoQnVggUxyKBOrc8BWnX4pmO-28kkmBUkpfuRIVLJcbS3_N3uY0GPDEZEVx6j9UQfcnez9dTRKdK_sdcb41l4q5212kRtZyNCjLpCTZRkg_Hz4kJs1FKlavozyKSjB8UTwZEi01qv3UlNSHM_UouGYtE0kfvGIzfphMHf3W3OZzzx1JcL2p_PzUOnky0a2SQnf-ZvH-wzvX-ZQoeYrfAYx8h3hzICehw_5Yqv_iL3R_LvFwk9gL7dx_qT4f856301fGIyQJw7Oftbv8G44x6uC6w","UiLocales":null,"Nonce":"636985225715834123.NTgzZTMyZjktODdiYy00ZjYwLWExM2EtZWNmNjA0NzQ4YzU5YjczNDA5NWUtNzkwYy00NjQ0LTk3MTEtZTdlZmExYWJlODRh","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"6a2648905997d3bda69a9390a2dc6bc1","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985225715834123.NTgzZTMyZjktODdiYy00ZjYwLWExM2EtZWNmNjA0NzQ4YzU5YjczNDA5NWUtNzkwYy00NjQ0LTk3MTEtZTdlZmExYWJlODRh","state":"CfDJ8NxwjiZxUEdNkONpYNI9256pqKCWEJ15AgAFfI70gzgoQnVggUxyKBOrc8BWnX4pmO-28kkmBUkpfuRIVLJcbS3_N3uY0GPDEZEVx6j9UQfcnez9dTRKdK_sdcb41l4q5212kRtZyNCjLpCTZRkg_Hz4kJs1FKlavozyKSjB8UTwZEi01qv3UlNSHM_UouGYtE0kfvGIzfphMHf3W3OZzzx1JcL2p_PzUOnky0a2SQnf-ZvH-wzvX-ZQoeYrfAYx8h3hzICehw_5Yqv_iL3R_LvFwk9gL7dx_qT4f856301fGIyQJw7Oftbv8G44x6uC6w","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 12:03:01.296 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 12:03:01.296 +02:00 [DBG] user_consent grant with value: mvc|818727 not found in store.
2019-07-12 12:03:01.296 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 12:03:01.308 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-12 12:03:01.311 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-12 12:03:01.318 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 818727
2019-07-12 12:03:01.355 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 12:03:01.375 +02:00 [DBG] Getting claims for identity token for subject: 818727 and client: mvc
2019-07-12 12:03:01.387 +02:00 [DBG] Get profile called for subject 818727 from client MVC Client with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 12:03:01.393 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 12:03:01.703 +02:00 [INF] Authorize endpoint response
{"SubjectId":"818727","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9256pqKCWEJ15AgAFfI70gzgoQnVggUxyKBOrc8BWnX4pmO-28kkmBUkpfuRIVLJcbS3_N3uY0GPDEZEVx6j9UQfcnez9dTRKdK_sdcb41l4q5212kRtZyNCjLpCTZRkg_Hz4kJs1FKlavozyKSjB8UTwZEi01qv3UlNSHM_UouGYtE0kfvGIzfphMHf3W3OZzzx1JcL2p_PzUOnky0a2SQnf-ZvH-wzvX-ZQoeYrfAYx8h3hzICehw_5Yqv_iL3R_LvFwk9gL7dx_qT4f856301fGIyQJw7Oftbv8G44x6uC6w","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 12:03:01.733 +02:00 [DBG] Augmenting SignInContext
2019-07-12 12:03:01.734 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 14:08:23.641 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 14:08:23.750 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 14:08:23.760 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 14:08:23.760 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 14:08:23.761 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 14:08:23.761 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 14:08:23.761 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 14:08:24.739 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 14:08:24.744 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 14:08:24.744 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 14:08:24.744 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 14:08:24.744 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 14:08:24.744 +02:00 [DBG] Error Url: /home/error
2019-07-12 14:08:24.744 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 14:12:09.193 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 14:12:09.284 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 14:12:09.294 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 14:12:09.294 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 14:12:09.294 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 14:12:09.294 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 14:12:09.294 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 14:12:10.285 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 14:12:10.292 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 14:12:10.292 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 14:12:10.292 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 14:12:10.292 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 14:12:10.292 +02:00 [DBG] Error Url: /home/error
2019-07-12 14:12:10.292 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 14:12:32.833 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 14:12:32.846 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 14:12:32.847 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 14:12:32.868 +02:00 [DBG] Start discovery request
2019-07-12 14:12:33.589 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-12 14:12:33.601 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-12 14:12:33.605 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-12 14:12:33.617 +02:00 [DBG] Start key discovery request
2019-07-12 14:12:33.887 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 14:12:33.899 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 14:12:33.899 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 14:12:33.923 +02:00 [DBG] Start authorize request
2019-07-12 14:12:33.989 +02:00 [DBG] No user present in authorize request
2019-07-12 14:12:34.009 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:12:34.121 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:12:34.327 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:12:34.439 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257vHSS8uNScaSsH6HAwFPt7wmY6PIFmLc6vQQiotjmJP0tDM9fPhx1RDn3F16qmiJgM7uP3qDy4FxjlwOVZYB_5mW6GZApwRlguXrWm6Uoq5AypmPD46QJca4EN70yonbVsh369kZlSg5PUu3rVXDwy3WO3zUcNIZ4gxoZNp3lOLdb0tw1ubrpS_uqgVOausNE7P6MxjfQdeFp4D43PzBeqrPTThESciEp1GVVwaLF6tdTc3PzZLIJmK9FmowWv-WZwx3WRrQEw_-fFGAV5WUen2jJAGqt_ZKkEWuKT6H211Q","UiLocales":null,"Nonce":"636985303537779949.NjMyMDgzODUtZjk2Ni00NTQzLTgyNjktMGI0NTEzZTcyNTU5OTY5NGYxOTItNjJlMi00ZjZjLWE2ODQtNDZhMTQ2ZTBlYTM4","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985303537779949.NjMyMDgzODUtZjk2Ni00NTQzLTgyNjktMGI0NTEzZTcyNTU5OTY5NGYxOTItNjJlMi00ZjZjLWE2ODQtNDZhMTQ2ZTBlYTM4","state":"CfDJ8NxwjiZxUEdNkONpYNI9257vHSS8uNScaSsH6HAwFPt7wmY6PIFmLc6vQQiotjmJP0tDM9fPhx1RDn3F16qmiJgM7uP3qDy4FxjlwOVZYB_5mW6GZApwRlguXrWm6Uoq5AypmPD46QJca4EN70yonbVsh369kZlSg5PUu3rVXDwy3WO3zUcNIZ4gxoZNp3lOLdb0tw1ubrpS_uqgVOausNE7P6MxjfQdeFp4D43PzBeqrPTThESciEp1GVVwaLF6tdTc3PzZLIJmK9FmowWv-WZwx3WRrQEw_-fFGAV5WUen2jJAGqt_ZKkEWuKT6H211Q","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 14:12:34.560 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 14:12:34.960 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:12:34.967 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:12:34.968 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:12:34.976 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:13:05.828 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 14:13:20.299 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 14:13:20.927 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 14:13:21.097 +02:00 [DBG] Augmenting SignInContext
2019-07-12 14:13:21.107 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 14:13:21.131 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 14:13:21.144 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 14:13:21.145 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:13:21.145 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:13:21.145 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:13:21.148 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:13:21.170 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 14:13:21.171 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 14:13:21.171 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 14:13:21.186 +02:00 [DBG] Start authorize callback request
2019-07-12 14:13:21.204 +02:00 [DBG] User in authorize request: 9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df
2019-07-12 14:13:21.205 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:13:21.205 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:13:21.205 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:13:21.212 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257vHSS8uNScaSsH6HAwFPt7wmY6PIFmLc6vQQiotjmJP0tDM9fPhx1RDn3F16qmiJgM7uP3qDy4FxjlwOVZYB_5mW6GZApwRlguXrWm6Uoq5AypmPD46QJca4EN70yonbVsh369kZlSg5PUu3rVXDwy3WO3zUcNIZ4gxoZNp3lOLdb0tw1ubrpS_uqgVOausNE7P6MxjfQdeFp4D43PzBeqrPTThESciEp1GVVwaLF6tdTc3PzZLIJmK9FmowWv-WZwx3WRrQEw_-fFGAV5WUen2jJAGqt_ZKkEWuKT6H211Q","UiLocales":null,"Nonce":"636985303537779949.NjMyMDgzODUtZjk2Ni00NTQzLTgyNjktMGI0NTEzZTcyNTU5OTY5NGYxOTItNjJlMi00ZjZjLWE2ODQtNDZhMTQ2ZTBlYTM4","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"ccce89e50dd12b6ecd9c0494feab7269","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985303537779949.NjMyMDgzODUtZjk2Ni00NTQzLTgyNjktMGI0NTEzZTcyNTU5OTY5NGYxOTItNjJlMi00ZjZjLWE2ODQtNDZhMTQ2ZTBlYTM4","state":"CfDJ8NxwjiZxUEdNkONpYNI9257vHSS8uNScaSsH6HAwFPt7wmY6PIFmLc6vQQiotjmJP0tDM9fPhx1RDn3F16qmiJgM7uP3qDy4FxjlwOVZYB_5mW6GZApwRlguXrWm6Uoq5AypmPD46QJca4EN70yonbVsh369kZlSg5PUu3rVXDwy3WO3zUcNIZ4gxoZNp3lOLdb0tw1ubrpS_uqgVOausNE7P6MxjfQdeFp4D43PzBeqrPTThESciEp1GVVwaLF6tdTc3PzZLIJmK9FmowWv-WZwx3WRrQEw_-fFGAV5WUen2jJAGqt_ZKkEWuKT6H211Q","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 14:13:21.215 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 14:13:21.280 +02:00 [DBG] user_consent grant with value: mvc|9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df not found in store.
2019-07-12 14:13:21.282 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 14:13:21.282 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 14:13:21.378 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:13:21.378 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:13:21.379 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:13:21.379 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:13:27.371 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 14:13:27.526 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:13:27.527 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:13:27.527 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:13:27.610 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:13:27.629 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 14:13:27.629 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 14:13:27.629 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 14:13:27.629 +02:00 [DBG] Start authorize callback request
2019-07-12 14:13:27.655 +02:00 [DBG] User in authorize request: 9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df
2019-07-12 14:13:27.655 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:13:27.655 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:13:27.656 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:13:27.656 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257vHSS8uNScaSsH6HAwFPt7wmY6PIFmLc6vQQiotjmJP0tDM9fPhx1RDn3F16qmiJgM7uP3qDy4FxjlwOVZYB_5mW6GZApwRlguXrWm6Uoq5AypmPD46QJca4EN70yonbVsh369kZlSg5PUu3rVXDwy3WO3zUcNIZ4gxoZNp3lOLdb0tw1ubrpS_uqgVOausNE7P6MxjfQdeFp4D43PzBeqrPTThESciEp1GVVwaLF6tdTc3PzZLIJmK9FmowWv-WZwx3WRrQEw_-fFGAV5WUen2jJAGqt_ZKkEWuKT6H211Q","UiLocales":null,"Nonce":"636985303537779949.NjMyMDgzODUtZjk2Ni00NTQzLTgyNjktMGI0NTEzZTcyNTU5OTY5NGYxOTItNjJlMi00ZjZjLWE2ODQtNDZhMTQ2ZTBlYTM4","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"ccce89e50dd12b6ecd9c0494feab7269","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985303537779949.NjMyMDgzODUtZjk2Ni00NTQzLTgyNjktMGI0NTEzZTcyNTU5OTY5NGYxOTItNjJlMi00ZjZjLWE2ODQtNDZhMTQ2ZTBlYTM4","state":"CfDJ8NxwjiZxUEdNkONpYNI9257vHSS8uNScaSsH6HAwFPt7wmY6PIFmLc6vQQiotjmJP0tDM9fPhx1RDn3F16qmiJgM7uP3qDy4FxjlwOVZYB_5mW6GZApwRlguXrWm6Uoq5AypmPD46QJca4EN70yonbVsh369kZlSg5PUu3rVXDwy3WO3zUcNIZ4gxoZNp3lOLdb0tw1ubrpS_uqgVOausNE7P6MxjfQdeFp4D43PzBeqrPTThESciEp1GVVwaLF6tdTc3PzZLIJmK9FmowWv-WZwx3WRrQEw_-fFGAV5WUen2jJAGqt_ZKkEWuKT6H211Q","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 14:13:27.657 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 14:13:27.657 +02:00 [DBG] user_consent grant with value: mvc|9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df not found in store.
2019-07-12 14:13:27.657 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 14:13:27.678 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-12 14:13:27.681 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-12 14:13:27.710 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df
2019-07-12 14:13:27.765 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 14:13:27.835 +02:00 [DBG] Getting claims for identity token for subject: 9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df and client: mvc
2019-07-12 14:13:27.848 +02:00 [DBG] Get profile called for subject 9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df from client MVC Client with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 14:13:27.863 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 14:13:28.006 +02:00 [INF] Authorize endpoint response
{"SubjectId":"9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9257vHSS8uNScaSsH6HAwFPt7wmY6PIFmLc6vQQiotjmJP0tDM9fPhx1RDn3F16qmiJgM7uP3qDy4FxjlwOVZYB_5mW6GZApwRlguXrWm6Uoq5AypmPD46QJca4EN70yonbVsh369kZlSg5PUu3rVXDwy3WO3zUcNIZ4gxoZNp3lOLdb0tw1ubrpS_uqgVOausNE7P6MxjfQdeFp4D43PzBeqrPTThESciEp1GVVwaLF6tdTc3PzZLIJmK9FmowWv-WZwx3WRrQEw_-fFGAV5WUen2jJAGqt_ZKkEWuKT6H211Q","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 14:13:28.054 +02:00 [DBG] Augmenting SignInContext
2019-07-12 14:13:28.057 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 14:14:07.781 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-12 14:14:07.791 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-12 14:14:07.791 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-12 14:14:07.791 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 14:14:07.795 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 14:14:07.796 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 14:14:07.797 +02:00 [DBG] Start discovery request
2019-07-12 14:17:21.358 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 14:17:21.361 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 14:17:21.362 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 14:17:21.362 +02:00 [DBG] Start authorize request
2019-07-12 14:17:21.365 +02:00 [DBG] No user present in authorize request
2019-07-12 14:17:21.365 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:17:21.365 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:17:21.366 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:17:21.366 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257Kfday7XKXx8whq3HUUPFUM4OS3XwxAvOR87YcwPS8iRBPb-3Yh3zjDB_LgkdGk29GMJIXOxbnCCfP6xXSfH3jMRcgaIq6iDXUAZfGGAtCSun3NN-XiVqz8Ofrg3i27kU-3uSOwFNRjcSg6g4h-ODv7KGSd5_XGKhpnGh3xXnwpoMsxKVLBKYelTFg8r3cIhhFFwrYnFOUFvyhQ3c3EG8QUYub-Q4lXnBoiqCQqlzWfWTqxwBPdkmNd6FSXRK0Cfu31q5M3f2zlikDAsat6S_dlZjB-9fPW0SnXP3Os9Yq2A","UiLocales":null,"Nonce":"636985306412378641.OGJhZjAwNjctMzkxNC00N2Y5LWE5NWItNGZmY2I1MThiNjU4OWUwYTg4MWItOWEzOS00YzBjLWEyNjgtNDVlMGM2OGJjY2Yw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985306412378641.OGJhZjAwNjctMzkxNC00N2Y5LWE5NWItNGZmY2I1MThiNjU4OWUwYTg4MWItOWEzOS00YzBjLWEyNjgtNDVlMGM2OGJjY2Yw","state":"CfDJ8NxwjiZxUEdNkONpYNI9257Kfday7XKXx8whq3HUUPFUM4OS3XwxAvOR87YcwPS8iRBPb-3Yh3zjDB_LgkdGk29GMJIXOxbnCCfP6xXSfH3jMRcgaIq6iDXUAZfGGAtCSun3NN-XiVqz8Ofrg3i27kU-3uSOwFNRjcSg6g4h-ODv7KGSd5_XGKhpnGh3xXnwpoMsxKVLBKYelTFg8r3cIhhFFwrYnFOUFvyhQ3c3EG8QUYub-Q4lXnBoiqCQqlzWfWTqxwBPdkmNd6FSXRK0Cfu31q5M3f2zlikDAsat6S_dlZjB-9fPW0SnXP3Os9Yq2A","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 14:17:21.366 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 14:17:21.483 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:17:21.484 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:17:21.484 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:17:21.484 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:17:25.173 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 14:17:46.864 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 14:17:46.879 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 14:17:46.946 +02:00 [DBG] Augmenting SignInContext
2019-07-12 14:17:46.946 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 14:17:46.947 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 14:17:46.948 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 14:17:46.948 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:17:46.948 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:17:46.949 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:17:46.949 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:17:46.996 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 14:17:46.996 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 14:17:46.997 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 14:17:47.000 +02:00 [DBG] Start authorize callback request
2019-07-12 14:17:47.000 +02:00 [DBG] User in authorize request: 9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df
2019-07-12 14:17:47.001 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:17:47.003 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:17:47.003 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:17:47.004 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257Kfday7XKXx8whq3HUUPFUM4OS3XwxAvOR87YcwPS8iRBPb-3Yh3zjDB_LgkdGk29GMJIXOxbnCCfP6xXSfH3jMRcgaIq6iDXUAZfGGAtCSun3NN-XiVqz8Ofrg3i27kU-3uSOwFNRjcSg6g4h-ODv7KGSd5_XGKhpnGh3xXnwpoMsxKVLBKYelTFg8r3cIhhFFwrYnFOUFvyhQ3c3EG8QUYub-Q4lXnBoiqCQqlzWfWTqxwBPdkmNd6FSXRK0Cfu31q5M3f2zlikDAsat6S_dlZjB-9fPW0SnXP3Os9Yq2A","UiLocales":null,"Nonce":"636985306412378641.OGJhZjAwNjctMzkxNC00N2Y5LWE5NWItNGZmY2I1MThiNjU4OWUwYTg4MWItOWEzOS00YzBjLWEyNjgtNDVlMGM2OGJjY2Yw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"60a51103c5feade1ca46f546f0dc1ad9","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985306412378641.OGJhZjAwNjctMzkxNC00N2Y5LWE5NWItNGZmY2I1MThiNjU4OWUwYTg4MWItOWEzOS00YzBjLWEyNjgtNDVlMGM2OGJjY2Yw","state":"CfDJ8NxwjiZxUEdNkONpYNI9257Kfday7XKXx8whq3HUUPFUM4OS3XwxAvOR87YcwPS8iRBPb-3Yh3zjDB_LgkdGk29GMJIXOxbnCCfP6xXSfH3jMRcgaIq6iDXUAZfGGAtCSun3NN-XiVqz8Ofrg3i27kU-3uSOwFNRjcSg6g4h-ODv7KGSd5_XGKhpnGh3xXnwpoMsxKVLBKYelTFg8r3cIhhFFwrYnFOUFvyhQ3c3EG8QUYub-Q4lXnBoiqCQqlzWfWTqxwBPdkmNd6FSXRK0Cfu31q5M3f2zlikDAsat6S_dlZjB-9fPW0SnXP3Os9Yq2A","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 14:17:47.004 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 14:17:47.040 +02:00 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-12 14:17:47.040 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 14:17:47.040 +02:00 [DBG] Getting claims for identity token for subject: 9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df and client: mvc
2019-07-12 14:17:47.041 +02:00 [DBG] Get profile called for subject 9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df from client MVC Client with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 14:17:47.041 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 14:17:47.076 +02:00 [INF] Authorize endpoint response
{"SubjectId":"9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9257Kfday7XKXx8whq3HUUPFUM4OS3XwxAvOR87YcwPS8iRBPb-3Yh3zjDB_LgkdGk29GMJIXOxbnCCfP6xXSfH3jMRcgaIq6iDXUAZfGGAtCSun3NN-XiVqz8Ofrg3i27kU-3uSOwFNRjcSg6g4h-ODv7KGSd5_XGKhpnGh3xXnwpoMsxKVLBKYelTFg8r3cIhhFFwrYnFOUFvyhQ3c3EG8QUYub-Q4lXnBoiqCQqlzWfWTqxwBPdkmNd6FSXRK0Cfu31q5M3f2zlikDAsat6S_dlZjB-9fPW0SnXP3Os9Yq2A","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 14:17:47.077 +02:00 [DBG] Augmenting SignInContext
2019-07-12 14:17:47.079 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 14:18:07.860 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-12 14:18:07.861 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-12 14:18:07.871 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-12 14:18:07.872 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 14:18:07.872 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 14:18:07.872 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 14:18:07.873 +02:00 [DBG] Start discovery request
2019-07-12 14:30:54.758 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 14:30:54.761 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 14:30:54.761 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 14:30:54.762 +02:00 [DBG] Start authorize request
2019-07-12 14:30:54.763 +02:00 [DBG] No user present in authorize request
2019-07-12 14:30:54.763 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:30:54.763 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:30:54.763 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:30:54.764 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256IsBT6cA471TeRr3tYua8DL7DXAIoRLLGnJrFXozhaMENKbM-8apfiOWBdWYYCV1pK3g9mnkfFK9OTV0b874f_3NCligV7wpGU8jBye7-P5lu8DYsLB1UVK0VtsrBcxphaNZ51xHwbSvJOTCMaCqYszUB5jksxSFns4SIpz-2Fn4E77eMPytmw7PGSwp_ci9epBtkkuWG9TeY1LNRdV5BSSdCCjmXeD_PoF2-XJ8mnsXwlZ7GyMf26INnCBOXjWrPTrJAiaHov3JetvdMFkjgbZhAirc4Re5HR56JihE8q8Q","UiLocales":null,"Nonce":"636985314547008753.ODUwZGJkZDItYjI0ZC00Zjc1LWEwM2EtMzI4NDM3YzAwZDU1MWM4YjdlZTktMWIxYi00ZjIyLTkzM2EtMjNhZmNkYTJiOGUx","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985314547008753.ODUwZGJkZDItYjI0ZC00Zjc1LWEwM2EtMzI4NDM3YzAwZDU1MWM4YjdlZTktMWIxYi00ZjIyLTkzM2EtMjNhZmNkYTJiOGUx","state":"CfDJ8NxwjiZxUEdNkONpYNI9256IsBT6cA471TeRr3tYua8DL7DXAIoRLLGnJrFXozhaMENKbM-8apfiOWBdWYYCV1pK3g9mnkfFK9OTV0b874f_3NCligV7wpGU8jBye7-P5lu8DYsLB1UVK0VtsrBcxphaNZ51xHwbSvJOTCMaCqYszUB5jksxSFns4SIpz-2Fn4E77eMPytmw7PGSwp_ci9epBtkkuWG9TeY1LNRdV5BSSdCCjmXeD_PoF2-XJ8mnsXwlZ7GyMf26INnCBOXjWrPTrJAiaHov3JetvdMFkjgbZhAirc4Re5HR56JihE8q8Q","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 14:30:54.764 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 14:30:54.796 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:30:54.797 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:30:54.798 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:30:54.798 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:30:57.230 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 14:31:21.084 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 14:31:21.099 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 14:31:21.127 +02:00 [DBG] Augmenting SignInContext
2019-07-12 14:31:21.127 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 14:31:21.128 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 14:31:21.128 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 14:31:21.128 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:31:21.128 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:31:21.129 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:31:21.129 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:31:21.169 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 14:31:21.169 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 14:31:21.169 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 14:31:21.169 +02:00 [DBG] Start authorize callback request
2019-07-12 14:31:21.170 +02:00 [DBG] User in authorize request: 9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df
2019-07-12 14:31:21.171 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:31:21.172 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:31:21.173 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:31:21.173 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256IsBT6cA471TeRr3tYua8DL7DXAIoRLLGnJrFXozhaMENKbM-8apfiOWBdWYYCV1pK3g9mnkfFK9OTV0b874f_3NCligV7wpGU8jBye7-P5lu8DYsLB1UVK0VtsrBcxphaNZ51xHwbSvJOTCMaCqYszUB5jksxSFns4SIpz-2Fn4E77eMPytmw7PGSwp_ci9epBtkkuWG9TeY1LNRdV5BSSdCCjmXeD_PoF2-XJ8mnsXwlZ7GyMf26INnCBOXjWrPTrJAiaHov3JetvdMFkjgbZhAirc4Re5HR56JihE8q8Q","UiLocales":null,"Nonce":"636985314547008753.ODUwZGJkZDItYjI0ZC00Zjc1LWEwM2EtMzI4NDM3YzAwZDU1MWM4YjdlZTktMWIxYi00ZjIyLTkzM2EtMjNhZmNkYTJiOGUx","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"cd2fbea1edac48716e07ea3cd12c9723","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985314547008753.ODUwZGJkZDItYjI0ZC00Zjc1LWEwM2EtMzI4NDM3YzAwZDU1MWM4YjdlZTktMWIxYi00ZjIyLTkzM2EtMjNhZmNkYTJiOGUx","state":"CfDJ8NxwjiZxUEdNkONpYNI9256IsBT6cA471TeRr3tYua8DL7DXAIoRLLGnJrFXozhaMENKbM-8apfiOWBdWYYCV1pK3g9mnkfFK9OTV0b874f_3NCligV7wpGU8jBye7-P5lu8DYsLB1UVK0VtsrBcxphaNZ51xHwbSvJOTCMaCqYszUB5jksxSFns4SIpz-2Fn4E77eMPytmw7PGSwp_ci9epBtkkuWG9TeY1LNRdV5BSSdCCjmXeD_PoF2-XJ8mnsXwlZ7GyMf26INnCBOXjWrPTrJAiaHov3JetvdMFkjgbZhAirc4Re5HR56JihE8q8Q","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 14:31:21.174 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 14:31:21.192 +02:00 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-12 14:31:21.193 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 14:31:21.193 +02:00 [DBG] Getting claims for identity token for subject: 9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df and client: mvc
2019-07-12 14:31:21.193 +02:00 [DBG] Get profile called for subject 9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df from client MVC Client with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 14:31:21.193 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 14:31:21.239 +02:00 [INF] Authorize endpoint response
{"SubjectId":"9e3b3642991df4a8c340e76ee5e2f987b1a50188f2f1fa4d8e0f90d23bc205df","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9256IsBT6cA471TeRr3tYua8DL7DXAIoRLLGnJrFXozhaMENKbM-8apfiOWBdWYYCV1pK3g9mnkfFK9OTV0b874f_3NCligV7wpGU8jBye7-P5lu8DYsLB1UVK0VtsrBcxphaNZ51xHwbSvJOTCMaCqYszUB5jksxSFns4SIpz-2Fn4E77eMPytmw7PGSwp_ci9epBtkkuWG9TeY1LNRdV5BSSdCCjmXeD_PoF2-XJ8mnsXwlZ7GyMf26INnCBOXjWrPTrJAiaHov3JetvdMFkjgbZhAirc4Re5HR56JihE8q8Q","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 14:31:21.240 +02:00 [DBG] Augmenting SignInContext
2019-07-12 14:31:21.241 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 14:31:31.033 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-12 14:31:31.034 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-12 14:31:31.034 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-12 14:31:31.036 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 14:31:31.036 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 14:31:31.036 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 14:31:31.036 +02:00 [DBG] Start discovery request
2019-07-12 14:44:27.943 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 14:44:28.038 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 14:44:28.046 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 14:44:28.046 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 14:44:28.046 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 14:44:28.046 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 14:44:28.046 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 14:44:28.623 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 14:44:28.627 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 14:44:28.627 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 14:44:28.627 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 14:44:28.627 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 14:44:28.627 +02:00 [DBG] Error Url: /home/error
2019-07-12 14:44:28.627 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 14:44:28.684 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 14:44:28.698 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 14:44:28.699 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 14:44:28.710 +02:00 [DBG] Start authorize request
2019-07-12 14:44:28.738 +02:00 [DBG] No user present in authorize request
2019-07-12 14:44:28.748 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:44:28.812 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:44:28.892 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:44:28.925 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256wGxRVF5R4uE1mLIQbxcPRKTL9y2Rp_6141jvO9uyOTRFcan6MPL4496kJgvtwUOKWioIElme3ERDVQRaT8tc_OJVB1HbRS25CYEeS99hPADngskJGPIXJpaWUrC90nH149WLz79py1q42b-q9TbUh0Di5MGDi5IQ45M5c41lQp8qI-QBa-sXm18-5yEVVtIy8wxFvoy9K0rWu58BvoXkayewL220Tost5PZFIJ0HrJ5_HErD8uy6GQxQqFmBN3hkAvZlUuqjcp1ATgmJVNV_OUA0L0pwT3hrAp8VwdLQoyA","UiLocales":null,"Nonce":"636985322637606735.OGQ4YjQ5NzEtMmI0ZS00ZTRjLTkzNjUtYjEzYzc5YTIwOWYwZDBjNTZhNTAtZGQxZC00ZjFiLWJmYzgtMTUyMjJkNGRmZTRh","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985322637606735.OGQ4YjQ5NzEtMmI0ZS00ZTRjLTkzNjUtYjEzYzc5YTIwOWYwZDBjNTZhNTAtZGQxZC00ZjFiLWJmYzgtMTUyMjJkNGRmZTRh","state":"CfDJ8NxwjiZxUEdNkONpYNI9256wGxRVF5R4uE1mLIQbxcPRKTL9y2Rp_6141jvO9uyOTRFcan6MPL4496kJgvtwUOKWioIElme3ERDVQRaT8tc_OJVB1HbRS25CYEeS99hPADngskJGPIXJpaWUrC90nH149WLz79py1q42b-q9TbUh0Di5MGDi5IQ45M5c41lQp8qI-QBa-sXm18-5yEVVtIy8wxFvoy9K0rWu58BvoXkayewL220Tost5PZFIJ0HrJ5_HErD8uy6GQxQqFmBN3hkAvZlUuqjcp1ATgmJVNV_OUA0L0pwT3hrAp8VwdLQoyA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 14:44:28.967 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 14:44:29.365 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:44:29.366 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:44:29.367 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:44:29.377 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:44:33.262 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 14:44:48.211 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 14:44:48.500 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 14:44:48.598 +02:00 [DBG] Augmenting SignInContext
2019-07-12 14:44:48.608 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 14:44:48.617 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 14:44:48.628 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 14:44:48.628 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:44:48.629 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:44:48.629 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:44:48.636 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:44:48.656 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 14:44:48.657 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 14:44:48.657 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 14:44:48.675 +02:00 [DBG] Start authorize callback request
2019-07-12 14:44:48.686 +02:00 [DBG] User in authorize request: d9c8f5e5b2e3efc145e40e188bd1d8bd7d0f2812ca036709f2cf4198ee34e233
2019-07-12 14:44:48.686 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:44:48.687 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:44:48.687 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:44:48.687 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"d9c8f5e5b2e3efc145e40e188bd1d8bd7d0f2812ca036709f2cf4198ee34e233","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256wGxRVF5R4uE1mLIQbxcPRKTL9y2Rp_6141jvO9uyOTRFcan6MPL4496kJgvtwUOKWioIElme3ERDVQRaT8tc_OJVB1HbRS25CYEeS99hPADngskJGPIXJpaWUrC90nH149WLz79py1q42b-q9TbUh0Di5MGDi5IQ45M5c41lQp8qI-QBa-sXm18-5yEVVtIy8wxFvoy9K0rWu58BvoXkayewL220Tost5PZFIJ0HrJ5_HErD8uy6GQxQqFmBN3hkAvZlUuqjcp1ATgmJVNV_OUA0L0pwT3hrAp8VwdLQoyA","UiLocales":null,"Nonce":"636985322637606735.OGQ4YjQ5NzEtMmI0ZS00ZTRjLTkzNjUtYjEzYzc5YTIwOWYwZDBjNTZhNTAtZGQxZC00ZjFiLWJmYzgtMTUyMjJkNGRmZTRh","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"bc3e4c00de7120ee1bc227edcfea4c41","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985322637606735.OGQ4YjQ5NzEtMmI0ZS00ZTRjLTkzNjUtYjEzYzc5YTIwOWYwZDBjNTZhNTAtZGQxZC00ZjFiLWJmYzgtMTUyMjJkNGRmZTRh","state":"CfDJ8NxwjiZxUEdNkONpYNI9256wGxRVF5R4uE1mLIQbxcPRKTL9y2Rp_6141jvO9uyOTRFcan6MPL4496kJgvtwUOKWioIElme3ERDVQRaT8tc_OJVB1HbRS25CYEeS99hPADngskJGPIXJpaWUrC90nH149WLz79py1q42b-q9TbUh0Di5MGDi5IQ45M5c41lQp8qI-QBa-sXm18-5yEVVtIy8wxFvoy9K0rWu58BvoXkayewL220Tost5PZFIJ0HrJ5_HErD8uy6GQxQqFmBN3hkAvZlUuqjcp1ATgmJVNV_OUA0L0pwT3hrAp8VwdLQoyA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 14:44:48.690 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 14:44:48.730 +02:00 [DBG] user_consent grant with value: mvc|d9c8f5e5b2e3efc145e40e188bd1d8bd7d0f2812ca036709f2cf4198ee34e233 not found in store.
2019-07-12 14:44:48.731 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 14:44:48.731 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 14:44:48.802 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:44:48.802 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:44:48.804 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:44:48.804 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:44:55.328 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 14:44:55.403 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:44:55.403 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:44:55.404 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:44:55.438 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:44:55.451 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 14:44:55.452 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 14:44:55.452 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 14:44:55.452 +02:00 [DBG] Start authorize callback request
2019-07-12 14:44:55.459 +02:00 [DBG] User in authorize request: d9c8f5e5b2e3efc145e40e188bd1d8bd7d0f2812ca036709f2cf4198ee34e233
2019-07-12 14:44:55.459 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:44:55.459 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:44:55.460 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:44:55.461 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"d9c8f5e5b2e3efc145e40e188bd1d8bd7d0f2812ca036709f2cf4198ee34e233","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256wGxRVF5R4uE1mLIQbxcPRKTL9y2Rp_6141jvO9uyOTRFcan6MPL4496kJgvtwUOKWioIElme3ERDVQRaT8tc_OJVB1HbRS25CYEeS99hPADngskJGPIXJpaWUrC90nH149WLz79py1q42b-q9TbUh0Di5MGDi5IQ45M5c41lQp8qI-QBa-sXm18-5yEVVtIy8wxFvoy9K0rWu58BvoXkayewL220Tost5PZFIJ0HrJ5_HErD8uy6GQxQqFmBN3hkAvZlUuqjcp1ATgmJVNV_OUA0L0pwT3hrAp8VwdLQoyA","UiLocales":null,"Nonce":"636985322637606735.OGQ4YjQ5NzEtMmI0ZS00ZTRjLTkzNjUtYjEzYzc5YTIwOWYwZDBjNTZhNTAtZGQxZC00ZjFiLWJmYzgtMTUyMjJkNGRmZTRh","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"bc3e4c00de7120ee1bc227edcfea4c41","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985322637606735.OGQ4YjQ5NzEtMmI0ZS00ZTRjLTkzNjUtYjEzYzc5YTIwOWYwZDBjNTZhNTAtZGQxZC00ZjFiLWJmYzgtMTUyMjJkNGRmZTRh","state":"CfDJ8NxwjiZxUEdNkONpYNI9256wGxRVF5R4uE1mLIQbxcPRKTL9y2Rp_6141jvO9uyOTRFcan6MPL4496kJgvtwUOKWioIElme3ERDVQRaT8tc_OJVB1HbRS25CYEeS99hPADngskJGPIXJpaWUrC90nH149WLz79py1q42b-q9TbUh0Di5MGDi5IQ45M5c41lQp8qI-QBa-sXm18-5yEVVtIy8wxFvoy9K0rWu58BvoXkayewL220Tost5PZFIJ0HrJ5_HErD8uy6GQxQqFmBN3hkAvZlUuqjcp1ATgmJVNV_OUA0L0pwT3hrAp8VwdLQoyA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 14:44:55.461 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 14:44:55.462 +02:00 [DBG] user_consent grant with value: mvc|d9c8f5e5b2e3efc145e40e188bd1d8bd7d0f2812ca036709f2cf4198ee34e233 not found in store.
2019-07-12 14:44:55.462 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 14:44:55.475 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-12 14:44:55.478 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-12 14:44:55.495 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: d9c8f5e5b2e3efc145e40e188bd1d8bd7d0f2812ca036709f2cf4198ee34e233
2019-07-12 14:44:55.538 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 14:44:55.561 +02:00 [DBG] Getting claims for identity token for subject: d9c8f5e5b2e3efc145e40e188bd1d8bd7d0f2812ca036709f2cf4198ee34e233 and client: mvc
2019-07-12 14:44:55.571 +02:00 [DBG] Get profile called for subject d9c8f5e5b2e3efc145e40e188bd1d8bd7d0f2812ca036709f2cf4198ee34e233 from client MVC Client with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 14:44:55.576 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 14:44:55.686 +02:00 [INF] Authorize endpoint response
{"SubjectId":"d9c8f5e5b2e3efc145e40e188bd1d8bd7d0f2812ca036709f2cf4198ee34e233","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9256wGxRVF5R4uE1mLIQbxcPRKTL9y2Rp_6141jvO9uyOTRFcan6MPL4496kJgvtwUOKWioIElme3ERDVQRaT8tc_OJVB1HbRS25CYEeS99hPADngskJGPIXJpaWUrC90nH149WLz79py1q42b-q9TbUh0Di5MGDi5IQ45M5c41lQp8qI-QBa-sXm18-5yEVVtIy8wxFvoy9K0rWu58BvoXkayewL220Tost5PZFIJ0HrJ5_HErD8uy6GQxQqFmBN3hkAvZlUuqjcp1ATgmJVNV_OUA0L0pwT3hrAp8VwdLQoyA","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 14:44:55.742 +02:00 [DBG] Augmenting SignInContext
2019-07-12 14:44:55.743 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 14:45:05.089 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-12 14:45:05.098 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-12 14:45:05.099 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-12 14:45:05.099 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 14:45:05.103 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 14:45:05.103 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 14:45:05.111 +02:00 [DBG] Start discovery request
2019-07-12 14:51:57.293 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 14:51:57.362 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 14:51:57.372 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 14:51:57.372 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 14:51:57.373 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 14:51:57.373 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 14:51:57.373 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 14:51:58.091 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 14:51:58.094 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 14:51:58.094 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 14:51:58.094 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 14:51:58.094 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 14:51:58.094 +02:00 [DBG] Error Url: /home/error
2019-07-12 14:51:58.094 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 14:51:58.144 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 14:51:58.150 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 14:51:58.150 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 14:51:58.156 +02:00 [DBG] Start discovery request
2019-07-12 14:51:58.440 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-12 14:51:58.441 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-12 14:51:58.441 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-12 14:51:58.449 +02:00 [DBG] Start key discovery request
2019-07-12 14:51:58.603 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 14:51:58.615 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 14:51:58.616 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 14:51:58.623 +02:00 [DBG] Start authorize request
2019-07-12 14:51:58.655 +02:00 [DBG] No user present in authorize request
2019-07-12 14:51:58.669 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:51:58.715 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:51:58.765 +02:00 [ERR] Invalid grant type for client: implicit
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"","State":"CfDJ8NxwjiZxUEdNkONpYNI92542Ily1zvaJXlUJU552gUH2rTmoyChizdj6fULBP_FzGeuZjpGwtnSF1s5YJkd4ulY_BN1X7fuglZrZeWmyg-ssHuNGfMMCyDJ_og9tfimfpIlhCcjJD_pJpmAP-hjT8iuAYrvds0be6ZXZtJzEJGMe5ebddeT2ITn-6ikgTyxPlgVrhjqcTyiU1YrAknfHNMfd8aMXJax023jEnxw7Yy9yQhoLbobBmLoKIjX0RDPHnGkAPkzMHQ1-EZjslZT4ZhdQXFOP8WvONcW6IlpuJvIZwPjRTxJ8YrLLUogTTjF_Sw","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985327185330299.MGQzYTRhMjctMzdiZi00ZTc1LWEwMjYtNzdlMjhjZmNjNDY1ZjViM2M2NGYtNjNlNy00Y2YyLTljMjctMmJhOGY5OWE0YzAx","state":"CfDJ8NxwjiZxUEdNkONpYNI92542Ily1zvaJXlUJU552gUH2rTmoyChizdj6fULBP_FzGeuZjpGwtnSF1s5YJkd4ulY_BN1X7fuglZrZeWmyg-ssHuNGfMMCyDJ_og9tfimfpIlhCcjJD_pJpmAP-hjT8iuAYrvds0be6ZXZtJzEJGMe5ebddeT2ITn-6ikgTyxPlgVrhjqcTyiU1YrAknfHNMfd8aMXJax023jEnxw7Yy9yQhoLbobBmLoKIjX0RDPHnGkAPkzMHQ1-EZjslZT4ZhdQXFOP8WvONcW6IlpuJvIZwPjRTxJ8YrLLUogTTjF_Sw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 14:51:58.801 +02:00 [ERR] Request validation failed
2019-07-12 14:51:58.801 +02:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"","State":"CfDJ8NxwjiZxUEdNkONpYNI92542Ily1zvaJXlUJU552gUH2rTmoyChizdj6fULBP_FzGeuZjpGwtnSF1s5YJkd4ulY_BN1X7fuglZrZeWmyg-ssHuNGfMMCyDJ_og9tfimfpIlhCcjJD_pJpmAP-hjT8iuAYrvds0be6ZXZtJzEJGMe5ebddeT2ITn-6ikgTyxPlgVrhjqcTyiU1YrAknfHNMfd8aMXJax023jEnxw7Yy9yQhoLbobBmLoKIjX0RDPHnGkAPkzMHQ1-EZjslZT4ZhdQXFOP8WvONcW6IlpuJvIZwPjRTxJ8YrLLUogTTjF_Sw","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985327185330299.MGQzYTRhMjctMzdiZi00ZTc1LWEwMjYtNzdlMjhjZmNjNDY1ZjViM2M2NGYtNjNlNy00Y2YyLTljMjctMmJhOGY5OWE0YzAx","state":"CfDJ8NxwjiZxUEdNkONpYNI92542Ily1zvaJXlUJU552gUH2rTmoyChizdj6fULBP_FzGeuZjpGwtnSF1s5YJkd4ulY_BN1X7fuglZrZeWmyg-ssHuNGfMMCyDJ_og9tfimfpIlhCcjJD_pJpmAP-hjT8iuAYrvds0be6ZXZtJzEJGMe5ebddeT2ITn-6ikgTyxPlgVrhjqcTyiU1YrAknfHNMfd8aMXJax023jEnxw7Yy9yQhoLbobBmLoKIjX0RDPHnGkAPkzMHQ1-EZjslZT4ZhdQXFOP8WvONcW6IlpuJvIZwPjRTxJ8YrLLUogTTjF_Sw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 14:53:51.621 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 14:53:51.803 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 14:53:51.824 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 14:53:51.824 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 14:53:51.824 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 14:53:51.824 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 14:53:51.824 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 14:53:52.917 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 14:53:52.920 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 14:53:52.920 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 14:53:52.920 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 14:53:52.920 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 14:53:52.920 +02:00 [DBG] Error Url: /home/error
2019-07-12 14:53:52.920 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 14:53:52.969 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 14:53:52.976 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 14:53:52.976 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 14:53:52.982 +02:00 [DBG] Start discovery request
2019-07-12 14:53:53.305 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-12 14:53:53.306 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-12 14:53:53.306 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-12 14:53:53.315 +02:00 [DBG] Start key discovery request
2019-07-12 14:53:53.481 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 14:53:53.489 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 14:53:53.489 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 14:53:53.500 +02:00 [DBG] Start authorize request
2019-07-12 14:53:53.521 +02:00 [DBG] No user present in authorize request
2019-07-12 14:53:53.533 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:53:53.578 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:53:53.659 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:53:53.698 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256TTn50OVc9XeN8igD8JtAAe6lxquhz-wyjfMRzo3zcIpMDSgoLQkHidatWwis4BqvdokiCJTMP-iNnSgffc2d0orYOPpEKX0uGRTPhcOogNVhuJHgJo-TpffEcGeZTseqCQZEmLHajIM4al5AIObwJmtW1WDkC--8yKMu1CmRX7igzq5prBdz9P-KWb-AHXmaF2hNrs_twxiOUkAwAoVkVoIxw26AcinOMCK6azYrUvXdPHXULERz7KUSxo499Xm4SjKD2_0Lg22UZo7tVso1RXEy-7kKlfAA8T-PABmC1TA","UiLocales":null,"Nonce":"636985328334365924.NmRkZjM1OTAtMzU4Zi00NDA3LTgzMzctZmI5OTA4N2UzNjUwODc5MTZlNGMtMGU0My00NWFkLTk5MTEtNjliMWM0NGZlMDAz","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985328334365924.NmRkZjM1OTAtMzU4Zi00NDA3LTgzMzctZmI5OTA4N2UzNjUwODc5MTZlNGMtMGU0My00NWFkLTk5MTEtNjliMWM0NGZlMDAz","state":"CfDJ8NxwjiZxUEdNkONpYNI9256TTn50OVc9XeN8igD8JtAAe6lxquhz-wyjfMRzo3zcIpMDSgoLQkHidatWwis4BqvdokiCJTMP-iNnSgffc2d0orYOPpEKX0uGRTPhcOogNVhuJHgJo-TpffEcGeZTseqCQZEmLHajIM4al5AIObwJmtW1WDkC--8yKMu1CmRX7igzq5prBdz9P-KWb-AHXmaF2hNrs_twxiOUkAwAoVkVoIxw26AcinOMCK6azYrUvXdPHXULERz7KUSxo499Xm4SjKD2_0Lg22UZo7tVso1RXEy-7kKlfAA8T-PABmC1TA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 14:53:53.740 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 14:53:54.153 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:53:54.153 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:53:54.154 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:53:54.159 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:53:58.024 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 14:54:11.896 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 14:54:12.207 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 14:54:12.323 +02:00 [DBG] Augmenting SignInContext
2019-07-12 14:54:12.330 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 14:54:12.341 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 14:54:12.359 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 14:54:12.361 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:54:12.361 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:54:12.361 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:54:12.366 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:54:12.380 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 14:54:12.383 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 14:54:12.383 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 14:54:12.397 +02:00 [DBG] Start authorize callback request
2019-07-12 14:54:12.406 +02:00 [DBG] User in authorize request: 0c73b303aeffcd0a39857bbb4150fd683f04e0a770e941a789631f6d67370556
2019-07-12 14:54:12.406 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:54:12.406 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:54:12.407 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:54:12.408 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"0c73b303aeffcd0a39857bbb4150fd683f04e0a770e941a789631f6d67370556","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256TTn50OVc9XeN8igD8JtAAe6lxquhz-wyjfMRzo3zcIpMDSgoLQkHidatWwis4BqvdokiCJTMP-iNnSgffc2d0orYOPpEKX0uGRTPhcOogNVhuJHgJo-TpffEcGeZTseqCQZEmLHajIM4al5AIObwJmtW1WDkC--8yKMu1CmRX7igzq5prBdz9P-KWb-AHXmaF2hNrs_twxiOUkAwAoVkVoIxw26AcinOMCK6azYrUvXdPHXULERz7KUSxo499Xm4SjKD2_0Lg22UZo7tVso1RXEy-7kKlfAA8T-PABmC1TA","UiLocales":null,"Nonce":"636985328334365924.NmRkZjM1OTAtMzU4Zi00NDA3LTgzMzctZmI5OTA4N2UzNjUwODc5MTZlNGMtMGU0My00NWFkLTk5MTEtNjliMWM0NGZlMDAz","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"5ecf5dea031325a61e03e16ab4a06a50","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985328334365924.NmRkZjM1OTAtMzU4Zi00NDA3LTgzMzctZmI5OTA4N2UzNjUwODc5MTZlNGMtMGU0My00NWFkLTk5MTEtNjliMWM0NGZlMDAz","state":"CfDJ8NxwjiZxUEdNkONpYNI9256TTn50OVc9XeN8igD8JtAAe6lxquhz-wyjfMRzo3zcIpMDSgoLQkHidatWwis4BqvdokiCJTMP-iNnSgffc2d0orYOPpEKX0uGRTPhcOogNVhuJHgJo-TpffEcGeZTseqCQZEmLHajIM4al5AIObwJmtW1WDkC--8yKMu1CmRX7igzq5prBdz9P-KWb-AHXmaF2hNrs_twxiOUkAwAoVkVoIxw26AcinOMCK6azYrUvXdPHXULERz7KUSxo499Xm4SjKD2_0Lg22UZo7tVso1RXEy-7kKlfAA8T-PABmC1TA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 14:54:12.411 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 14:54:12.451 +02:00 [DBG] user_consent grant with value: mvc|0c73b303aeffcd0a39857bbb4150fd683f04e0a770e941a789631f6d67370556 not found in store.
2019-07-12 14:54:12.451 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 14:54:12.453 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 14:54:12.512 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:54:12.513 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:54:12.513 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:54:12.513 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:54:15.331 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 14:54:15.385 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:54:15.386 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:54:15.386 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:54:15.412 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:54:15.422 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 14:54:15.423 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 14:54:15.423 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 14:54:15.424 +02:00 [DBG] Start authorize callback request
2019-07-12 14:54:15.431 +02:00 [DBG] User in authorize request: 0c73b303aeffcd0a39857bbb4150fd683f04e0a770e941a789631f6d67370556
2019-07-12 14:54:15.432 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:54:15.432 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:54:15.432 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 14:54:15.432 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"0c73b303aeffcd0a39857bbb4150fd683f04e0a770e941a789631f6d67370556","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256TTn50OVc9XeN8igD8JtAAe6lxquhz-wyjfMRzo3zcIpMDSgoLQkHidatWwis4BqvdokiCJTMP-iNnSgffc2d0orYOPpEKX0uGRTPhcOogNVhuJHgJo-TpffEcGeZTseqCQZEmLHajIM4al5AIObwJmtW1WDkC--8yKMu1CmRX7igzq5prBdz9P-KWb-AHXmaF2hNrs_twxiOUkAwAoVkVoIxw26AcinOMCK6azYrUvXdPHXULERz7KUSxo499Xm4SjKD2_0Lg22UZo7tVso1RXEy-7kKlfAA8T-PABmC1TA","UiLocales":null,"Nonce":"636985328334365924.NmRkZjM1OTAtMzU4Zi00NDA3LTgzMzctZmI5OTA4N2UzNjUwODc5MTZlNGMtMGU0My00NWFkLTk5MTEtNjliMWM0NGZlMDAz","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"5ecf5dea031325a61e03e16ab4a06a50","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985328334365924.NmRkZjM1OTAtMzU4Zi00NDA3LTgzMzctZmI5OTA4N2UzNjUwODc5MTZlNGMtMGU0My00NWFkLTk5MTEtNjliMWM0NGZlMDAz","state":"CfDJ8NxwjiZxUEdNkONpYNI9256TTn50OVc9XeN8igD8JtAAe6lxquhz-wyjfMRzo3zcIpMDSgoLQkHidatWwis4BqvdokiCJTMP-iNnSgffc2d0orYOPpEKX0uGRTPhcOogNVhuJHgJo-TpffEcGeZTseqCQZEmLHajIM4al5AIObwJmtW1WDkC--8yKMu1CmRX7igzq5prBdz9P-KWb-AHXmaF2hNrs_twxiOUkAwAoVkVoIxw26AcinOMCK6azYrUvXdPHXULERz7KUSxo499Xm4SjKD2_0Lg22UZo7tVso1RXEy-7kKlfAA8T-PABmC1TA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 14:54:15.432 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 14:54:15.433 +02:00 [DBG] user_consent grant with value: mvc|0c73b303aeffcd0a39857bbb4150fd683f04e0a770e941a789631f6d67370556 not found in store.
2019-07-12 14:54:15.433 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 14:54:15.443 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-12 14:54:15.445 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-12 14:54:15.453 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 0c73b303aeffcd0a39857bbb4150fd683f04e0a770e941a789631f6d67370556
2019-07-12 14:54:15.486 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 14:54:15.509 +02:00 [DBG] Getting claims for identity token for subject: 0c73b303aeffcd0a39857bbb4150fd683f04e0a770e941a789631f6d67370556 and client: mvc
2019-07-12 14:54:15.519 +02:00 [DBG] Get profile called for subject 0c73b303aeffcd0a39857bbb4150fd683f04e0a770e941a789631f6d67370556 from client MVC Client with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 14:54:15.526 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 14:54:15.595 +02:00 [INF] Authorize endpoint response
{"SubjectId":"0c73b303aeffcd0a39857bbb4150fd683f04e0a770e941a789631f6d67370556","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9256TTn50OVc9XeN8igD8JtAAe6lxquhz-wyjfMRzo3zcIpMDSgoLQkHidatWwis4BqvdokiCJTMP-iNnSgffc2d0orYOPpEKX0uGRTPhcOogNVhuJHgJo-TpffEcGeZTseqCQZEmLHajIM4al5AIObwJmtW1WDkC--8yKMu1CmRX7igzq5prBdz9P-KWb-AHXmaF2hNrs_twxiOUkAwAoVkVoIxw26AcinOMCK6azYrUvXdPHXULERz7KUSxo499Xm4SjKD2_0Lg22UZo7tVso1RXEy-7kKlfAA8T-PABmC1TA","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 14:54:15.628 +02:00 [DBG] Augmenting SignInContext
2019-07-12 14:54:15.628 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 14:54:26.639 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-12 14:54:26.645 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-12 14:54:26.645 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-12 14:54:26.646 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 14:54:26.648 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 14:54:26.648 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 14:54:26.648 +02:00 [DBG] Start discovery request
2019-07-12 14:56:52.395 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 14:56:52.466 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 14:56:52.472 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 14:56:52.472 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 14:56:52.472 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 14:56:52.472 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 14:56:52.472 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 14:56:53.247 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 14:56:53.257 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 14:56:53.257 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 14:56:53.257 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 14:56:53.257 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 14:56:53.258 +02:00 [DBG] Error Url: /home/error
2019-07-12 14:56:53.258 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 14:56:53.311 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 14:56:53.319 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 14:56:53.320 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 14:56:53.326 +02:00 [DBG] Start discovery request
2019-07-12 14:56:53.618 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-12 14:56:53.619 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-12 14:56:53.619 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-12 14:56:53.625 +02:00 [DBG] Start key discovery request
2019-07-12 14:56:53.778 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 14:56:53.787 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 14:56:53.787 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 14:56:53.795 +02:00 [DBG] Start authorize request
2019-07-12 14:56:53.826 +02:00 [DBG] No user present in authorize request
2019-07-12 14:56:53.839 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 14:56:53.877 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 14:56:53.925 +02:00 [ERR] Invalid grant type for client: implicit
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"","State":"CfDJ8NxwjiZxUEdNkONpYNI9255P_0l9NlTMmS0XI-xwaqom-H0UGr-DwaIhURY9qV_SDAnZ_Sd3MY1LOErqWFQZNo5IBOptBAuTTKjAdP0svw7S-rLsOOyyUfiQREr5q5D-fFCrViPpG66DORrOwrXEEpD3sEtCdcVjanh6k9w6wLU86Sx4RUmieo27XRl0d_lbpxQAJtnS9lc_uWhLqiMrY6i8lIIEE6EBxSttrd8jnvmeLzMTwqMLl1FNpCUvaYKvaj5y3WblPzf12JQqvtiuZ8DdyXQjepg_03M5VfzwkRQcT3ZcZ_Qc6ocqaijyTRRHgQ","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985330137045730.YjA1ZDBlZDUtYTkzNi00YWU5LThkNjctODM3YTk4NGY3NGQ3NmE1MmFkNmMtNDIzNy00MjcwLThjZjctOTYyYjg3NzE1NTFh","state":"CfDJ8NxwjiZxUEdNkONpYNI9255P_0l9NlTMmS0XI-xwaqom-H0UGr-DwaIhURY9qV_SDAnZ_Sd3MY1LOErqWFQZNo5IBOptBAuTTKjAdP0svw7S-rLsOOyyUfiQREr5q5D-fFCrViPpG66DORrOwrXEEpD3sEtCdcVjanh6k9w6wLU86Sx4RUmieo27XRl0d_lbpxQAJtnS9lc_uWhLqiMrY6i8lIIEE6EBxSttrd8jnvmeLzMTwqMLl1FNpCUvaYKvaj5y3WblPzf12JQqvtiuZ8DdyXQjepg_03M5VfzwkRQcT3ZcZ_Qc6ocqaijyTRRHgQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 14:56:53.954 +02:00 [ERR] Request validation failed
2019-07-12 14:56:53.954 +02:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"","State":"CfDJ8NxwjiZxUEdNkONpYNI9255P_0l9NlTMmS0XI-xwaqom-H0UGr-DwaIhURY9qV_SDAnZ_Sd3MY1LOErqWFQZNo5IBOptBAuTTKjAdP0svw7S-rLsOOyyUfiQREr5q5D-fFCrViPpG66DORrOwrXEEpD3sEtCdcVjanh6k9w6wLU86Sx4RUmieo27XRl0d_lbpxQAJtnS9lc_uWhLqiMrY6i8lIIEE6EBxSttrd8jnvmeLzMTwqMLl1FNpCUvaYKvaj5y3WblPzf12JQqvtiuZ8DdyXQjepg_03M5VfzwkRQcT3ZcZ_Qc6ocqaijyTRRHgQ","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985330137045730.YjA1ZDBlZDUtYTkzNi00YWU5LThkNjctODM3YTk4NGY3NGQ3NmE1MmFkNmMtNDIzNy00MjcwLThjZjctOTYyYjg3NzE1NTFh","state":"CfDJ8NxwjiZxUEdNkONpYNI9255P_0l9NlTMmS0XI-xwaqom-H0UGr-DwaIhURY9qV_SDAnZ_Sd3MY1LOErqWFQZNo5IBOptBAuTTKjAdP0svw7S-rLsOOyyUfiQREr5q5D-fFCrViPpG66DORrOwrXEEpD3sEtCdcVjanh6k9w6wLU86Sx4RUmieo27XRl0d_lbpxQAJtnS9lc_uWhLqiMrY6i8lIIEE6EBxSttrd8jnvmeLzMTwqMLl1FNpCUvaYKvaj5y3WblPzf12JQqvtiuZ8DdyXQjepg_03M5VfzwkRQcT3ZcZ_Qc6ocqaijyTRRHgQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 15:03:47.510 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 15:03:47.627 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 15:03:47.634 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 15:03:47.635 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 15:03:47.635 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 15:03:47.635 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 15:03:47.635 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 15:03:48.767 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 15:03:48.771 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 15:03:48.772 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 15:03:48.772 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 15:03:48.772 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 15:03:48.772 +02:00 [DBG] Error Url: /home/error
2019-07-12 15:03:48.772 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 15:04:00.068 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 15:04:00.082 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 15:04:00.083 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 15:04:00.094 +02:00 [DBG] Start discovery request
2019-07-12 15:04:00.449 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-12 15:04:00.450 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-12 15:04:00.450 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-12 15:04:00.459 +02:00 [DBG] Start key discovery request
2019-07-12 15:04:00.595 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 15:04:00.602 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 15:04:00.602 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 15:04:00.611 +02:00 [DBG] Start authorize request
2019-07-12 15:04:00.630 +02:00 [DBG] No user present in authorize request
2019-07-12 15:04:00.640 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:04:00.684 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:04:00.767 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:04:00.810 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9255l1t-mmEYFa2sGx--1svBkdnk1i2RgYBaoR2FDWNbN7H83_CiGMJ3lOSQ1sBaZD0QqCZB_jp8LIsTyrloMr-yjYluQX5nwIB64PFinJX4xdKKBV27pDBeftAt36RQoiQ8tv9xiuIX7WGTGuntx1tCaAj3hgzZkp6mCbrWQCGk21Nwv-DbwYxFulBtF7kWmXIj6FBl0T5a2m_Z27q9yCi64wDG48QH2TX1k2zgA3BrT0EGbduNO1n-iBjHbW7cfP2mHoslUE0HaKnKDx6-WchaY5r-N1qS805P0rr8NBgJ1lA","UiLocales":null,"Nonce":"636985334405483459.ZTVjYmY3ODktNzgwOS00OWRlLWIzMzQtOWVmYWZjNjJhMzA2NzkxMzM2N2YtYmViZS00NTc3LTg1MTYtYjJjMDI0M2JkMzMy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985334405483459.ZTVjYmY3ODktNzgwOS00OWRlLWIzMzQtOWVmYWZjNjJhMzA2NzkxMzM2N2YtYmViZS00NTc3LTg1MTYtYjJjMDI0M2JkMzMy","state":"CfDJ8NxwjiZxUEdNkONpYNI9255l1t-mmEYFa2sGx--1svBkdnk1i2RgYBaoR2FDWNbN7H83_CiGMJ3lOSQ1sBaZD0QqCZB_jp8LIsTyrloMr-yjYluQX5nwIB64PFinJX4xdKKBV27pDBeftAt36RQoiQ8tv9xiuIX7WGTGuntx1tCaAj3hgzZkp6mCbrWQCGk21Nwv-DbwYxFulBtF7kWmXIj6FBl0T5a2m_Z27q9yCi64wDG48QH2TX1k2zgA3BrT0EGbduNO1n-iBjHbW7cfP2mHoslUE0HaKnKDx6-WchaY5r-N1qS805P0rr8NBgJ1lA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 15:04:00.859 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 15:04:18.793 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:04:18.794 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:04:18.795 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:04:18.806 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:07:08.898 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 15:07:25.833 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 15:07:26.220 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 15:18:20.827 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 15:18:20.927 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 15:18:20.934 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 15:18:20.934 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 15:18:20.934 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 15:18:20.934 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 15:18:20.934 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 15:18:21.627 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 15:18:21.631 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 15:18:21.631 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 15:18:21.631 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 15:18:21.631 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 15:18:21.631 +02:00 [DBG] Error Url: /home/error
2019-07-12 15:18:21.631 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 15:18:24.994 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 15:18:27.927 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 15:18:28.858 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 15:18:28.902 +02:00 [ERR] Message contains error: 'unsupported_response_type', error_description: 'MSIS9600%3a+The+authorization+server+does+not+support+the+requested+%27response_type%27.+The+authorization+server+only+supports+the+following+response+types%3a+code%2c+id_token%2c+token.', error_uri: 'error_uri is null'.
2019-07-12 15:18:28.903 +02:00 [INF] Error from RemoteAuthentication: Message contains error: 'unsupported_response_type', error_description: 'MSIS9600%3a+The+authorization+server+does+not+support+the+requested+%27response_type%27.+The+authorization+server+only+supports+the+following+response+types%3a+code%2c+id_token%2c+token.', error_uri: 'error_uri is null'..
2019-07-12 15:18:28.906 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error was encountered while handling the remote login. ---> Microsoft.IdentityModel.Protocols.OpenIdConnect.OpenIdConnectProtocolException: Message contains error: 'unsupported_response_type', error_description: 'MSIS9600%3a+The+authorization+server+does+not+support+the+requested+%27response_type%27.+The+authorization+server+only+supports+the+following+response+types%3a+code%2c+id_token%2c+token.', error_uri: 'error_uri is null'.
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 15:25:58.294 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 15:25:58.356 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 15:25:58.362 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 15:25:58.362 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 15:25:58.362 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 15:25:58.362 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 15:25:58.362 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 15:25:58.973 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 15:25:58.976 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 15:25:58.976 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 15:25:58.976 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 15:25:58.976 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 15:25:58.976 +02:00 [DBG] Error Url: /home/error
2019-07-12 15:25:58.976 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 15:26:01.745 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 15:26:04.362 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 15:26:05.104 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 15:26:05.148 +02:00 [ERR] Message contains error: 'unsupported_response_type', error_description: 'MSIS9600%3a+The+authorization+server+does+not+support+the+requested+%27response_type%27.+The+authorization+server+only+supports+the+following+response+types%3a+code%2c+id_token%2c+token.', error_uri: 'error_uri is null'.
2019-07-12 15:26:05.149 +02:00 [INF] Error from RemoteAuthentication: Message contains error: 'unsupported_response_type', error_description: 'MSIS9600%3a+The+authorization+server+does+not+support+the+requested+%27response_type%27.+The+authorization+server+only+supports+the+following+response+types%3a+code%2c+id_token%2c+token.', error_uri: 'error_uri is null'..
2019-07-12 15:26:05.154 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error was encountered while handling the remote login. ---> Microsoft.IdentityModel.Protocols.OpenIdConnect.OpenIdConnectProtocolException: Message contains error: 'unsupported_response_type', error_description: 'MSIS9600%3a+The+authorization+server+does+not+support+the+requested+%27response_type%27.+The+authorization+server+only+supports+the+following+response+types%3a+code%2c+id_token%2c+token.', error_uri: 'error_uri is null'.
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 15:31:30.793 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 15:31:31.005 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 15:31:31.024 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 15:31:31.024 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 15:31:31.025 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 15:31:31.025 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 15:31:31.025 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 15:31:31.950 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 15:31:31.956 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 15:31:31.956 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 15:31:31.956 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 15:31:31.956 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 15:31:31.956 +02:00 [DBG] Error Url: /home/error
2019-07-12 15:31:31.956 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 15:31:35.306 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 15:31:38.530 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 15:31:39.370 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 15:31:39.441 +02:00 [ERR] Message contains error: 'unauthorized_client', error_description: 'MSIS9637%3a+The+authorization+server+does+not+support+the+response+type+%27token%27+for+confidential+clients.', error_uri: 'error_uri is null'.
2019-07-12 15:31:39.442 +02:00 [INF] Error from RemoteAuthentication: Message contains error: 'unauthorized_client', error_description: 'MSIS9637%3a+The+authorization+server+does+not+support+the+response+type+%27token%27+for+confidential+clients.', error_uri: 'error_uri is null'..
2019-07-12 15:31:39.444 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error was encountered while handling the remote login. ---> Microsoft.IdentityModel.Protocols.OpenIdConnect.OpenIdConnectProtocolException: Message contains error: 'unauthorized_client', error_description: 'MSIS9637%3a+The+authorization+server+does+not+support+the+response+type+%27token%27+for+confidential+clients.', error_uri: 'error_uri is null'.
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 15:32:42.423 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 15:32:42.537 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 15:32:42.547 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 15:32:42.548 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 15:32:42.548 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 15:32:42.548 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 15:32:42.548 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 15:32:43.363 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 15:32:43.366 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 15:32:43.366 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 15:32:43.366 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 15:32:43.366 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 15:32:43.366 +02:00 [DBG] Error Url: /home/error
2019-07-12 15:32:43.369 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 15:32:43.442 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 15:32:43.448 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 15:32:43.448 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 15:32:43.461 +02:00 [DBG] Start discovery request
2019-07-12 15:32:43.835 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-12 15:32:43.836 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-12 15:32:43.836 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-12 15:32:43.844 +02:00 [DBG] Start key discovery request
2019-07-12 15:32:44.046 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 15:32:44.062 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 15:32:44.062 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 15:32:44.080 +02:00 [DBG] Start authorize request
2019-07-12 15:32:44.106 +02:00 [DBG] No user present in authorize request
2019-07-12 15:32:44.118 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:32:44.177 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:32:44.251 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:32:44.287 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257CAWaloY4YfEeKZrRYwLe-ABbDfX12jUvaA3xQomBhg9cwhe7i6NqQRanYM25SW7ytnQAl2HFtTT-X9k4EEQS-wr056EIh2eaNViPcVtj0KAySu1C_UOqF0PY6eiQ9AUWDqfBqJ4zTn68cjnIACSeymBlG-TuIKO0KuLNZe8XjiJDWStuLqdea3pkPNZwUM6txh5rrepJ4QBlVW98xDCBg1hqy6QJ2LBhWZkSv6wg1KvM-t5M1S3pl2HBEC9UbQKd9R4QwKZHSQunLsEvxpXqaX1ZDJD_tnQC8765W1U7zCA","UiLocales":null,"Nonce":"636985351639599073.NGZjNjZiOTgtYzljZC00ZDdiLTgyMWMtYTkwMGM5YzBlNmQ0MzNlOTk1MjMtY2QxYy00OGJjLTgwYzktN2QwMGNiZTE1ZmM4","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985351639599073.NGZjNjZiOTgtYzljZC00ZDdiLTgyMWMtYTkwMGM5YzBlNmQ0MzNlOTk1MjMtY2QxYy00OGJjLTgwYzktN2QwMGNiZTE1ZmM4","state":"CfDJ8NxwjiZxUEdNkONpYNI9257CAWaloY4YfEeKZrRYwLe-ABbDfX12jUvaA3xQomBhg9cwhe7i6NqQRanYM25SW7ytnQAl2HFtTT-X9k4EEQS-wr056EIh2eaNViPcVtj0KAySu1C_UOqF0PY6eiQ9AUWDqfBqJ4zTn68cjnIACSeymBlG-TuIKO0KuLNZe8XjiJDWStuLqdea3pkPNZwUM6txh5rrepJ4QBlVW98xDCBg1hqy6QJ2LBhWZkSv6wg1KvM-t5M1S3pl2HBEC9UbQKd9R4QwKZHSQunLsEvxpXqaX1ZDJD_tnQC8765W1U7zCA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 15:32:44.337 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 15:32:44.640 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:32:44.641 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:32:44.641 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:32:44.645 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:32:47.876 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 15:32:48.381 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 15:32:48.445 +02:00 [ERR] Message contains error: 'unsupported_response_type', error_description: 'MSIS9600%3a+The+authorization+server+does+not+support+the+requested+%27response_type%27.+The+authorization+server+only+supports+the+following+response+types%3a+code%2c+id_token%2c+token.', error_uri: 'error_uri is null'.
2019-07-12 15:32:48.446 +02:00 [INF] Error from RemoteAuthentication: Message contains error: 'unsupported_response_type', error_description: 'MSIS9600%3a+The+authorization+server+does+not+support+the+requested+%27response_type%27.+The+authorization+server+only+supports+the+following+response+types%3a+code%2c+id_token%2c+token.', error_uri: 'error_uri is null'..
2019-07-12 15:32:48.453 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error was encountered while handling the remote login. ---> Microsoft.IdentityModel.Protocols.OpenIdConnect.OpenIdConnectProtocolException: Message contains error: 'unsupported_response_type', error_description: 'MSIS9600%3a+The+authorization+server+does+not+support+the+requested+%27response_type%27.+The+authorization+server+only+supports+the+following+response+types%3a+code%2c+id_token%2c+token.', error_uri: 'error_uri is null'.
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 15:33:27.179 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 15:33:27.258 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 15:33:27.265 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 15:33:27.265 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 15:33:27.265 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 15:33:27.266 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 15:33:27.266 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 15:33:27.941 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 15:33:27.946 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 15:33:27.947 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 15:33:27.947 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 15:33:27.947 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 15:33:27.947 +02:00 [DBG] Error Url: /home/error
2019-07-12 15:33:27.947 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 15:33:27.994 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 15:33:28.005 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 15:33:28.006 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 15:33:28.018 +02:00 [DBG] Start authorize request
2019-07-12 15:33:28.061 +02:00 [DBG] No user present in authorize request
2019-07-12 15:33:28.082 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:33:28.126 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:33:28.218 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:33:28.244 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9255q7IiacmiX781zs52pNkaCgZZ8feYvYKwgW7URsBSdNR6PhwKJdOil0KOTMgHohLrGNK8zXjTkxPdPyJTpcjT4bTfqbOIGC7Hi6Wsw46Gi8B2bdRefi3BW_RZikf5g8_Ec3iw5caP0lyRb0xkM0OQosrFH0tOtgoDD7tWBdi-NZVVwBMa-Zj-jh40e4DmfwXkeZYguRbV9tQQb1ShflXQpfoiPbgOncAOfhrkPC_ty-MuutsgidxzWNFztP0CV87r1Kcjo8iB7mXWGUMehuYTjk220I_xN-1n9-wtIkvSDVw","UiLocales":null,"Nonce":"636985352029550921.MGI5ZjFjYzctYTkwMy00N2QwLWEwMDctOWZhYmRjOTM4OGIwZGRjNzI0M2ItNWI5OC00N2FmLWI0YTItMTMyNjZmMGY0ZmQ4","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985352029550921.MGI5ZjFjYzctYTkwMy00N2QwLWEwMDctOWZhYmRjOTM4OGIwZGRjNzI0M2ItNWI5OC00N2FmLWI0YTItMTMyNjZmMGY0ZmQ4","state":"CfDJ8NxwjiZxUEdNkONpYNI9255q7IiacmiX781zs52pNkaCgZZ8feYvYKwgW7URsBSdNR6PhwKJdOil0KOTMgHohLrGNK8zXjTkxPdPyJTpcjT4bTfqbOIGC7Hi6Wsw46Gi8B2bdRefi3BW_RZikf5g8_Ec3iw5caP0lyRb0xkM0OQosrFH0tOtgoDD7tWBdi-NZVVwBMa-Zj-jh40e4DmfwXkeZYguRbV9tQQb1ShflXQpfoiPbgOncAOfhrkPC_ty-MuutsgidxzWNFztP0CV87r1Kcjo8iB7mXWGUMehuYTjk220I_xN-1n9-wtIkvSDVw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 15:33:28.277 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 15:33:28.735 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:33:28.735 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:33:28.736 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:33:28.742 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:33:32.135 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 15:33:32.600 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 15:33:32.659 +02:00 [ERR] Message contains error: 'unauthorized_client', error_description: 'MSIS9637%3a+The+authorization+server+does+not+support+the+response+type+%27token%27+for+confidential+clients.', error_uri: 'error_uri is null'.
2019-07-12 15:33:32.660 +02:00 [INF] Error from RemoteAuthentication: Message contains error: 'unauthorized_client', error_description: 'MSIS9637%3a+The+authorization+server+does+not+support+the+response+type+%27token%27+for+confidential+clients.', error_uri: 'error_uri is null'..
2019-07-12 15:33:32.662 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error was encountered while handling the remote login. ---> Microsoft.IdentityModel.Protocols.OpenIdConnect.OpenIdConnectProtocolException: Message contains error: 'unauthorized_client', error_description: 'MSIS9637%3a+The+authorization+server+does+not+support+the+response+type+%27token%27+for+confidential+clients.', error_uri: 'error_uri is null'.
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 15:35:02.869 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 15:35:03.025 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 15:35:03.030 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 15:35:03.030 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 15:35:03.030 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 15:35:03.030 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 15:35:03.030 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 15:35:03.838 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 15:35:03.848 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 15:35:03.849 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 15:35:03.849 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 15:35:03.849 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 15:35:03.849 +02:00 [DBG] Error Url: /home/error
2019-07-12 15:35:03.849 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 15:35:03.921 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 15:35:03.936 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 15:35:03.936 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 15:35:03.948 +02:00 [DBG] Start authorize request
2019-07-12 15:35:03.973 +02:00 [DBG] No user present in authorize request
2019-07-12 15:35:03.984 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:35:04.055 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:35:04.171 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:35:04.212 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9255nn2ZJF-z3XJmecmkjAtJwNi-ALbeyaJFcGt3df2H4nFnylnVzjhbLGg84DnUCc5YjYaXwARgclwdojp61-o_qL7QNeex1yL4vIB88J1s55uq8YqWy5hfwCvKOurcvtzWgFSMKgJFZnSodMH_GgJw7paZdA4OhgfIPejclPZ8NmQ_gGh9g-fr-H9Z6Zwosh09fQafcV56eG4Cj4OfcJ5WnYkNaD-PWhy1OYgYTnzVsZeBM72dDQAyjBbhf-R8ZvbMZwcP3XOswFfq6S4HLG2LCrh_hg_XqRtX7rxiq0MdExw","UiLocales":null,"Nonce":"636985352981597454.MDkxODg4MzUtOGIwNC00Y2Y0LWE1NGQtOTk5MGY3NGQ4OTA0MDFiMGE2MGYtZjI2Zi00NGI0LTg2ZDQtOWJhMmM2YmJjNTA1","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985352981597454.MDkxODg4MzUtOGIwNC00Y2Y0LWE1NGQtOTk5MGY3NGQ4OTA0MDFiMGE2MGYtZjI2Zi00NGI0LTg2ZDQtOWJhMmM2YmJjNTA1","state":"CfDJ8NxwjiZxUEdNkONpYNI9255nn2ZJF-z3XJmecmkjAtJwNi-ALbeyaJFcGt3df2H4nFnylnVzjhbLGg84DnUCc5YjYaXwARgclwdojp61-o_qL7QNeex1yL4vIB88J1s55uq8YqWy5hfwCvKOurcvtzWgFSMKgJFZnSodMH_GgJw7paZdA4OhgfIPejclPZ8NmQ_gGh9g-fr-H9Z6Zwosh09fQafcV56eG4Cj4OfcJ5WnYkNaD-PWhy1OYgYTnzVsZeBM72dDQAyjBbhf-R8ZvbMZwcP3XOswFfq6S4HLG2LCrh_hg_XqRtX7rxiq0MdExw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 15:35:04.250 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 15:35:04.788 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:35:04.789 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:35:04.794 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:35:04.800 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:35:08.158 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 15:35:25.662 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 15:35:26.339 +02:00 [ERR] Message contains error: 'invalid_client', error_description: 'MSIS9622: Client authentication failed. Please verify the credential provided for client authentication is valid.', error_uri: 'error_uri is null', status code '400'.
2019-07-12 15:35:26.401 +02:00 [ERR] Exception occurred while processing message.
Microsoft.IdentityModel.Protocols.OpenIdConnect.OpenIdConnectProtocolException: Message contains error: 'invalid_client', error_description: 'MSIS9622: Client authentication failed. Please verify the credential provided for client authentication is valid.', error_uri: 'error_uri is null'.
   at Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler.RedeemAuthorizationCodeAsync(OpenIdConnectMessage tokenEndpointRequest)
   at Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler.HandleRemoteAuthenticateAsync()
2019-07-12 15:35:26.603 +02:00 [INF] Error from RemoteAuthentication: Message contains error: 'invalid_client', error_description: 'MSIS9622: Client authentication failed. Please verify the credential provided for client authentication is valid.', error_uri: 'error_uri is null'..
2019-07-12 15:35:26.615 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error was encountered while handling the remote login. ---> Microsoft.IdentityModel.Protocols.OpenIdConnect.OpenIdConnectProtocolException: Message contains error: 'invalid_client', error_description: 'MSIS9622: Client authentication failed. Please verify the credential provided for client authentication is valid.', error_uri: 'error_uri is null'.
   at Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler.RedeemAuthorizationCodeAsync(OpenIdConnectMessage tokenEndpointRequest)
   at Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler.HandleRemoteAuthenticateAsync()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 15:38:17.086 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 15:38:17.148 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 15:38:17.153 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 15:38:17.153 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 15:38:17.153 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 15:38:17.153 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 15:38:17.153 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 15:38:17.596 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 15:38:17.599 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 15:38:17.599 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 15:38:17.599 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 15:38:17.599 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 15:38:17.599 +02:00 [DBG] Error Url: /home/error
2019-07-12 15:38:17.599 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 15:38:17.645 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 15:38:17.656 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 15:38:17.657 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 15:38:17.666 +02:00 [DBG] Start authorize request
2019-07-12 15:38:17.687 +02:00 [DBG] No user present in authorize request
2019-07-12 15:38:17.699 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:38:17.738 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:38:17.819 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:38:17.851 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9255itFCoo_Bw_gWDWVPYCU7oX2LrFgjayFZd716VqyBPReGdrwfwKc5uL_d1O47vpkNq51K6F457OTn2B6pEaTkjVjmSVvYRKEa0Bcrx0Dj-aYxsUPOPRttxgUA7IVrUGhPHr8yCwvWIWTe7PWDo0-3OgK8yN8SX3tOLZn9ROfwgJFodGxFvH40geBhMEQ56TkY3v7xL8qpNI7WQfs_yT1k_kYmxyGb-OckBoIagSD0kX0gbHZV2PRhk3NGNzPT1EEVV7RRfHtFNV7h2BWCOf9nPN7CpAb35Wv9fyaJz7o42kw","UiLocales":null,"Nonce":"636985354927524397.OTRhODBjNmMtNjIwYS00NTAwLWI3ZGItNzljMDdmNDQ4MDgwZDRkNTU4NmItNDUzMS00OTc1LThmZmMtY2RjNDE5MDkyOGYw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985354927524397.OTRhODBjNmMtNjIwYS00NTAwLWI3ZGItNzljMDdmNDQ4MDgwZDRkNTU4NmItNDUzMS00OTc1LThmZmMtY2RjNDE5MDkyOGYw","state":"CfDJ8NxwjiZxUEdNkONpYNI9255itFCoo_Bw_gWDWVPYCU7oX2LrFgjayFZd716VqyBPReGdrwfwKc5uL_d1O47vpkNq51K6F457OTn2B6pEaTkjVjmSVvYRKEa0Bcrx0Dj-aYxsUPOPRttxgUA7IVrUGhPHr8yCwvWIWTe7PWDo0-3OgK8yN8SX3tOLZn9ROfwgJFodGxFvH40geBhMEQ56TkY3v7xL8qpNI7WQfs_yT1k_kYmxyGb-OckBoIagSD0kX0gbHZV2PRhk3NGNzPT1EEVV7RRfHtFNV7h2BWCOf9nPN7CpAb35Wv9fyaJz7o42kw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 15:38:17.899 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 15:38:18.301 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:38:18.302 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:38:18.302 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:38:18.307 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:38:21.621 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 15:38:22.538 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 15:38:23.198 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 15:38:23.323 +02:00 [DBG] Augmenting SignInContext
2019-07-12 15:38:23.334 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 15:38:23.347 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 15:38:23.364 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 15:38:23.365 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:38:23.365 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:38:23.365 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:38:23.368 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:38:23.385 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 15:38:23.386 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 15:38:23.386 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 15:38:23.404 +02:00 [DBG] Start authorize callback request
2019-07-12 15:38:23.414 +02:00 [DBG] User in authorize request: aee3e0b80864aa8f0367f476c6ec7f27ea9654e028defaec610cd87c5d6886f0
2019-07-12 15:38:23.415 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:38:23.415 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:38:23.415 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:38:23.416 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"aee3e0b80864aa8f0367f476c6ec7f27ea9654e028defaec610cd87c5d6886f0","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9255itFCoo_Bw_gWDWVPYCU7oX2LrFgjayFZd716VqyBPReGdrwfwKc5uL_d1O47vpkNq51K6F457OTn2B6pEaTkjVjmSVvYRKEa0Bcrx0Dj-aYxsUPOPRttxgUA7IVrUGhPHr8yCwvWIWTe7PWDo0-3OgK8yN8SX3tOLZn9ROfwgJFodGxFvH40geBhMEQ56TkY3v7xL8qpNI7WQfs_yT1k_kYmxyGb-OckBoIagSD0kX0gbHZV2PRhk3NGNzPT1EEVV7RRfHtFNV7h2BWCOf9nPN7CpAb35Wv9fyaJz7o42kw","UiLocales":null,"Nonce":"636985354927524397.OTRhODBjNmMtNjIwYS00NTAwLWI3ZGItNzljMDdmNDQ4MDgwZDRkNTU4NmItNDUzMS00OTc1LThmZmMtY2RjNDE5MDkyOGYw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"3d30394b4088854c50ee68daceb3bc61","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985354927524397.OTRhODBjNmMtNjIwYS00NTAwLWI3ZGItNzljMDdmNDQ4MDgwZDRkNTU4NmItNDUzMS00OTc1LThmZmMtY2RjNDE5MDkyOGYw","state":"CfDJ8NxwjiZxUEdNkONpYNI9255itFCoo_Bw_gWDWVPYCU7oX2LrFgjayFZd716VqyBPReGdrwfwKc5uL_d1O47vpkNq51K6F457OTn2B6pEaTkjVjmSVvYRKEa0Bcrx0Dj-aYxsUPOPRttxgUA7IVrUGhPHr8yCwvWIWTe7PWDo0-3OgK8yN8SX3tOLZn9ROfwgJFodGxFvH40geBhMEQ56TkY3v7xL8qpNI7WQfs_yT1k_kYmxyGb-OckBoIagSD0kX0gbHZV2PRhk3NGNzPT1EEVV7RRfHtFNV7h2BWCOf9nPN7CpAb35Wv9fyaJz7o42kw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 15:38:23.419 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 15:38:23.475 +02:00 [DBG] user_consent grant with value: mvc|aee3e0b80864aa8f0367f476c6ec7f27ea9654e028defaec610cd87c5d6886f0 not found in store.
2019-07-12 15:38:23.476 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 15:38:23.476 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 15:38:23.570 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:38:23.570 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:38:23.570 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:38:23.571 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:38:26.503 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 15:38:26.566 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:38:26.566 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:38:26.567 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:38:26.598 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:38:26.608 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 15:38:26.610 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 15:38:26.611 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 15:38:26.612 +02:00 [DBG] Start authorize callback request
2019-07-12 15:38:26.629 +02:00 [DBG] User in authorize request: aee3e0b80864aa8f0367f476c6ec7f27ea9654e028defaec610cd87c5d6886f0
2019-07-12 15:38:26.630 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:38:26.630 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:38:26.630 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:38:26.631 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"aee3e0b80864aa8f0367f476c6ec7f27ea9654e028defaec610cd87c5d6886f0","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9255itFCoo_Bw_gWDWVPYCU7oX2LrFgjayFZd716VqyBPReGdrwfwKc5uL_d1O47vpkNq51K6F457OTn2B6pEaTkjVjmSVvYRKEa0Bcrx0Dj-aYxsUPOPRttxgUA7IVrUGhPHr8yCwvWIWTe7PWDo0-3OgK8yN8SX3tOLZn9ROfwgJFodGxFvH40geBhMEQ56TkY3v7xL8qpNI7WQfs_yT1k_kYmxyGb-OckBoIagSD0kX0gbHZV2PRhk3NGNzPT1EEVV7RRfHtFNV7h2BWCOf9nPN7CpAb35Wv9fyaJz7o42kw","UiLocales":null,"Nonce":"636985354927524397.OTRhODBjNmMtNjIwYS00NTAwLWI3ZGItNzljMDdmNDQ4MDgwZDRkNTU4NmItNDUzMS00OTc1LThmZmMtY2RjNDE5MDkyOGYw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"3d30394b4088854c50ee68daceb3bc61","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985354927524397.OTRhODBjNmMtNjIwYS00NTAwLWI3ZGItNzljMDdmNDQ4MDgwZDRkNTU4NmItNDUzMS00OTc1LThmZmMtY2RjNDE5MDkyOGYw","state":"CfDJ8NxwjiZxUEdNkONpYNI9255itFCoo_Bw_gWDWVPYCU7oX2LrFgjayFZd716VqyBPReGdrwfwKc5uL_d1O47vpkNq51K6F457OTn2B6pEaTkjVjmSVvYRKEa0Bcrx0Dj-aYxsUPOPRttxgUA7IVrUGhPHr8yCwvWIWTe7PWDo0-3OgK8yN8SX3tOLZn9ROfwgJFodGxFvH40geBhMEQ56TkY3v7xL8qpNI7WQfs_yT1k_kYmxyGb-OckBoIagSD0kX0gbHZV2PRhk3NGNzPT1EEVV7RRfHtFNV7h2BWCOf9nPN7CpAb35Wv9fyaJz7o42kw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 15:38:26.631 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 15:38:26.632 +02:00 [DBG] user_consent grant with value: mvc|aee3e0b80864aa8f0367f476c6ec7f27ea9654e028defaec610cd87c5d6886f0 not found in store.
2019-07-12 15:38:26.632 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 15:38:26.653 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-12 15:38:26.655 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-12 15:38:26.669 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: aee3e0b80864aa8f0367f476c6ec7f27ea9654e028defaec610cd87c5d6886f0
2019-07-12 15:38:26.733 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 15:38:26.771 +02:00 [DBG] Getting claims for identity token for subject: aee3e0b80864aa8f0367f476c6ec7f27ea9654e028defaec610cd87c5d6886f0 and client: mvc
2019-07-12 15:38:26.787 +02:00 [DBG] Get profile called for subject aee3e0b80864aa8f0367f476c6ec7f27ea9654e028defaec610cd87c5d6886f0 from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 15:38:26.791 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 15:38:26.854 +02:00 [INF] Authorize endpoint response
{"SubjectId":"aee3e0b80864aa8f0367f476c6ec7f27ea9654e028defaec610cd87c5d6886f0","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9255itFCoo_Bw_gWDWVPYCU7oX2LrFgjayFZd716VqyBPReGdrwfwKc5uL_d1O47vpkNq51K6F457OTn2B6pEaTkjVjmSVvYRKEa0Bcrx0Dj-aYxsUPOPRttxgUA7IVrUGhPHr8yCwvWIWTe7PWDo0-3OgK8yN8SX3tOLZn9ROfwgJFodGxFvH40geBhMEQ56TkY3v7xL8qpNI7WQfs_yT1k_kYmxyGb-OckBoIagSD0kX0gbHZV2PRhk3NGNzPT1EEVV7RRfHtFNV7h2BWCOf9nPN7CpAb35Wv9fyaJz7o42kw","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 15:38:26.901 +02:00 [DBG] Augmenting SignInContext
2019-07-12 15:38:26.902 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 15:38:47.235 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-12 15:38:47.252 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-12 15:38:47.253 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-12 15:38:47.254 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 15:38:47.262 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 15:38:47.262 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 15:38:47.280 +02:00 [DBG] Start discovery request
2019-07-12 15:53:25.970 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 15:53:26.039 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 15:53:26.051 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 15:53:26.051 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 15:53:26.051 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 15:53:26.051 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 15:53:26.051 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 15:53:26.461 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 15:53:26.464 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 15:53:26.464 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 15:53:26.464 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 15:53:26.465 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 15:53:26.465 +02:00 [DBG] Error Url: /home/error
2019-07-12 15:53:26.465 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 15:53:26.507 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 15:53:26.513 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 15:53:26.513 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 15:53:26.520 +02:00 [DBG] Start discovery request
2019-07-12 15:53:26.737 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-12 15:53:26.745 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-12 15:53:26.745 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-12 15:53:26.752 +02:00 [DBG] Start key discovery request
2019-07-12 15:53:26.893 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 15:53:26.901 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 15:53:26.902 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 15:53:26.910 +02:00 [DBG] Start authorize request
2019-07-12 15:53:26.936 +02:00 [DBG] No user present in authorize request
2019-07-12 15:53:26.947 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:53:26.987 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:53:27.062 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:53:27.095 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI92561zY9ngJM6nxce642r2aTgS3tje-KqDYBkTfz-fOaNBn_mLuwaCNVMx-KVD0oBzf80ftpP4ouzPhGVqcV9Iohw9sTSCIrLmTuiJn1cRxiFtov-qH2faJHdILzSZCKzVQQhhzrIOiW48YK7i3_epj02KDnpyCOnuAstMET7V62wAvyDzlQICOpXCMkDxHzuCWOEhI4kvY9uXsRwl9kNKcnuLsBW58HdsGXa_XO4tc2wQnBhzDJSbDBv8f9NtF8hkk-BNsYBxov1S_uvUOX8e7_mKqyXMqAxBewoF52buBIwQQ","UiLocales":null,"Nonce":"636985364068251975.MzQyOGZkN2QtMDFkNy00ZDg1LWIzYTYtM2EyNjlhMjAxNGEzMTcyNDg0MmMtMjVjYy00NTVlLTlkNzYtZWUyNjA5NjliMmVm","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985364068251975.MzQyOGZkN2QtMDFkNy00ZDg1LWIzYTYtM2EyNjlhMjAxNGEzMTcyNDg0MmMtMjVjYy00NTVlLTlkNzYtZWUyNjA5NjliMmVm","state":"CfDJ8NxwjiZxUEdNkONpYNI92561zY9ngJM6nxce642r2aTgS3tje-KqDYBkTfz-fOaNBn_mLuwaCNVMx-KVD0oBzf80ftpP4ouzPhGVqcV9Iohw9sTSCIrLmTuiJn1cRxiFtov-qH2faJHdILzSZCKzVQQhhzrIOiW48YK7i3_epj02KDnpyCOnuAstMET7V62wAvyDzlQICOpXCMkDxHzuCWOEhI4kvY9uXsRwl9kNKcnuLsBW58HdsGXa_XO4tc2wQnBhzDJSbDBv8f9NtF8hkk-BNsYBxov1S_uvUOX8e7_mKqyXMqAxBewoF52buBIwQQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 15:53:27.144 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 15:53:27.432 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:53:27.433 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:53:27.433 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:53:27.439 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:53:30.731 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 15:53:45.143 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 15:53:45.455 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 15:53:45.537 +02:00 [DBG] Augmenting SignInContext
2019-07-12 15:53:45.542 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 15:53:45.550 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 15:53:45.561 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 15:53:45.561 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:53:45.561 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:53:45.562 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:53:45.564 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:53:45.575 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 15:53:45.576 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 15:53:45.576 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 15:53:45.586 +02:00 [DBG] Start authorize callback request
2019-07-12 15:53:45.594 +02:00 [DBG] User in authorize request: 81b33a4bbfe3e8a877c05de42b7aea605b4ce9fb998de2ad1223ae38cab1845d
2019-07-12 15:53:45.594 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:53:45.594 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:53:45.595 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:53:45.595 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"81b33a4bbfe3e8a877c05de42b7aea605b4ce9fb998de2ad1223ae38cab1845d","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI92561zY9ngJM6nxce642r2aTgS3tje-KqDYBkTfz-fOaNBn_mLuwaCNVMx-KVD0oBzf80ftpP4ouzPhGVqcV9Iohw9sTSCIrLmTuiJn1cRxiFtov-qH2faJHdILzSZCKzVQQhhzrIOiW48YK7i3_epj02KDnpyCOnuAstMET7V62wAvyDzlQICOpXCMkDxHzuCWOEhI4kvY9uXsRwl9kNKcnuLsBW58HdsGXa_XO4tc2wQnBhzDJSbDBv8f9NtF8hkk-BNsYBxov1S_uvUOX8e7_mKqyXMqAxBewoF52buBIwQQ","UiLocales":null,"Nonce":"636985364068251975.MzQyOGZkN2QtMDFkNy00ZDg1LWIzYTYtM2EyNjlhMjAxNGEzMTcyNDg0MmMtMjVjYy00NTVlLTlkNzYtZWUyNjA5NjliMmVm","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"95758a67d64aab61033ff8109316297e","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985364068251975.MzQyOGZkN2QtMDFkNy00ZDg1LWIzYTYtM2EyNjlhMjAxNGEzMTcyNDg0MmMtMjVjYy00NTVlLTlkNzYtZWUyNjA5NjliMmVm","state":"CfDJ8NxwjiZxUEdNkONpYNI92561zY9ngJM6nxce642r2aTgS3tje-KqDYBkTfz-fOaNBn_mLuwaCNVMx-KVD0oBzf80ftpP4ouzPhGVqcV9Iohw9sTSCIrLmTuiJn1cRxiFtov-qH2faJHdILzSZCKzVQQhhzrIOiW48YK7i3_epj02KDnpyCOnuAstMET7V62wAvyDzlQICOpXCMkDxHzuCWOEhI4kvY9uXsRwl9kNKcnuLsBW58HdsGXa_XO4tc2wQnBhzDJSbDBv8f9NtF8hkk-BNsYBxov1S_uvUOX8e7_mKqyXMqAxBewoF52buBIwQQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 15:53:45.597 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 15:53:45.625 +02:00 [DBG] user_consent grant with value: mvc|81b33a4bbfe3e8a877c05de42b7aea605b4ce9fb998de2ad1223ae38cab1845d not found in store.
2019-07-12 15:53:45.626 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 15:53:45.626 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 15:53:45.684 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:53:45.685 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:53:45.685 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:53:45.685 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:53:47.919 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 15:53:47.984 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:53:47.984 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:53:47.985 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:53:48.014 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:53:48.025 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 15:53:48.025 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 15:53:48.025 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 15:53:48.025 +02:00 [DBG] Start authorize callback request
2019-07-12 15:53:48.032 +02:00 [DBG] User in authorize request: 81b33a4bbfe3e8a877c05de42b7aea605b4ce9fb998de2ad1223ae38cab1845d
2019-07-12 15:53:48.032 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:53:48.032 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:53:48.032 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:53:48.033 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"81b33a4bbfe3e8a877c05de42b7aea605b4ce9fb998de2ad1223ae38cab1845d","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI92561zY9ngJM6nxce642r2aTgS3tje-KqDYBkTfz-fOaNBn_mLuwaCNVMx-KVD0oBzf80ftpP4ouzPhGVqcV9Iohw9sTSCIrLmTuiJn1cRxiFtov-qH2faJHdILzSZCKzVQQhhzrIOiW48YK7i3_epj02KDnpyCOnuAstMET7V62wAvyDzlQICOpXCMkDxHzuCWOEhI4kvY9uXsRwl9kNKcnuLsBW58HdsGXa_XO4tc2wQnBhzDJSbDBv8f9NtF8hkk-BNsYBxov1S_uvUOX8e7_mKqyXMqAxBewoF52buBIwQQ","UiLocales":null,"Nonce":"636985364068251975.MzQyOGZkN2QtMDFkNy00ZDg1LWIzYTYtM2EyNjlhMjAxNGEzMTcyNDg0MmMtMjVjYy00NTVlLTlkNzYtZWUyNjA5NjliMmVm","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"95758a67d64aab61033ff8109316297e","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985364068251975.MzQyOGZkN2QtMDFkNy00ZDg1LWIzYTYtM2EyNjlhMjAxNGEzMTcyNDg0MmMtMjVjYy00NTVlLTlkNzYtZWUyNjA5NjliMmVm","state":"CfDJ8NxwjiZxUEdNkONpYNI92561zY9ngJM6nxce642r2aTgS3tje-KqDYBkTfz-fOaNBn_mLuwaCNVMx-KVD0oBzf80ftpP4ouzPhGVqcV9Iohw9sTSCIrLmTuiJn1cRxiFtov-qH2faJHdILzSZCKzVQQhhzrIOiW48YK7i3_epj02KDnpyCOnuAstMET7V62wAvyDzlQICOpXCMkDxHzuCWOEhI4kvY9uXsRwl9kNKcnuLsBW58HdsGXa_XO4tc2wQnBhzDJSbDBv8f9NtF8hkk-BNsYBxov1S_uvUOX8e7_mKqyXMqAxBewoF52buBIwQQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 15:53:48.033 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 15:53:48.033 +02:00 [DBG] user_consent grant with value: mvc|81b33a4bbfe3e8a877c05de42b7aea605b4ce9fb998de2ad1223ae38cab1845d not found in store.
2019-07-12 15:53:48.033 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 15:53:48.043 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-12 15:53:48.045 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-12 15:53:48.051 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 81b33a4bbfe3e8a877c05de42b7aea605b4ce9fb998de2ad1223ae38cab1845d
2019-07-12 15:53:48.084 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 15:53:48.104 +02:00 [DBG] Getting claims for identity token for subject: 81b33a4bbfe3e8a877c05de42b7aea605b4ce9fb998de2ad1223ae38cab1845d and client: mvc
2019-07-12 15:53:48.113 +02:00 [DBG] Get profile called for subject 81b33a4bbfe3e8a877c05de42b7aea605b4ce9fb998de2ad1223ae38cab1845d from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 15:53:48.117 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 15:53:48.204 +02:00 [INF] Authorize endpoint response
{"SubjectId":"81b33a4bbfe3e8a877c05de42b7aea605b4ce9fb998de2ad1223ae38cab1845d","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI92561zY9ngJM6nxce642r2aTgS3tje-KqDYBkTfz-fOaNBn_mLuwaCNVMx-KVD0oBzf80ftpP4ouzPhGVqcV9Iohw9sTSCIrLmTuiJn1cRxiFtov-qH2faJHdILzSZCKzVQQhhzrIOiW48YK7i3_epj02KDnpyCOnuAstMET7V62wAvyDzlQICOpXCMkDxHzuCWOEhI4kvY9uXsRwl9kNKcnuLsBW58HdsGXa_XO4tc2wQnBhzDJSbDBv8f9NtF8hkk-BNsYBxov1S_uvUOX8e7_mKqyXMqAxBewoF52buBIwQQ","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 15:53:48.245 +02:00 [DBG] Augmenting SignInContext
2019-07-12 15:53:48.246 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 15:54:00.246 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-12 15:54:00.256 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-12 15:54:00.256 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-12 15:54:00.256 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 15:54:00.257 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 15:54:00.258 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 15:54:00.258 +02:00 [DBG] Start discovery request
2019-07-12 15:54:43.650 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 15:54:43.719 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 15:54:43.725 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 15:54:43.726 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 15:54:43.726 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 15:54:43.726 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 15:54:43.726 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 15:54:44.831 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 15:54:44.837 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 15:54:44.837 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 15:54:44.837 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 15:54:44.837 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 15:54:44.837 +02:00 [DBG] Error Url: /home/error
2019-07-12 15:54:44.837 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 15:54:51.383 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 15:55:13.191 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 15:55:14.242 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 15:55:14.660 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 15:56:19.982 +02:00 [DBG] Augmenting SignInContext
2019-07-12 15:56:19.986 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 15:56:20.004 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 15:56:21.139 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 15:57:10.823 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 15:57:10.905 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 15:57:10.914 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 15:57:10.914 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 15:57:10.914 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 15:57:10.914 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 15:57:10.914 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 15:57:11.965 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 15:57:11.973 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 15:57:11.974 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 15:57:11.974 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 15:57:11.974 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 15:57:11.974 +02:00 [DBG] Error Url: /home/error
2019-07-12 15:57:11.974 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 15:57:55.375 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 15:57:55.405 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 15:57:55.406 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 15:57:55.421 +02:00 [DBG] Start authorize request
2019-07-12 15:57:55.447 +02:00 [DBG] No user present in authorize request
2019-07-12 15:57:55.457 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:57:55.498 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:57:55.586 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:57:55.626 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257zjR7coonj1y17QMgjBpx6wQx65T8f1RmBCzv5ejeNwXYw0Z0ag_yEvOEZ5j2eFbIy3zB4QgIbLQsuPKcm94Ns8nyrvyqmfhczjxU03oauN30h6pgot90j-xkE_BvxUhtzXJUVqKfDQok87NMEEg5Xde7TOCkemmvkdXaWxUFx4eKNOoH632ZKI4hxjQhwtt-RiEOlYKSnXyi56Vjn-LDPLNGJ3Jn_QBumAlOt0NG4LD65SxKc6aPdRV4Uy2oMIqjS7m25lnH--mRqLOXtVqwuHeBMm7epSd61_ojB0it7AA","UiLocales":null,"Nonce":"636985366753406387.NmY2OTU5MDUtODQ1ZS00NDMzLThhOTgtNDM2Nzg3MjZkMmI5Njc4OGJjZWQtZWZmZC00MDlkLWI0ZTctZTg0OGNjY2U1Yzc2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985366753406387.NmY2OTU5MDUtODQ1ZS00NDMzLThhOTgtNDM2Nzg3MjZkMmI5Njc4OGJjZWQtZWZmZC00MDlkLWI0ZTctZTg0OGNjY2U1Yzc2","state":"CfDJ8NxwjiZxUEdNkONpYNI9257zjR7coonj1y17QMgjBpx6wQx65T8f1RmBCzv5ejeNwXYw0Z0ag_yEvOEZ5j2eFbIy3zB4QgIbLQsuPKcm94Ns8nyrvyqmfhczjxU03oauN30h6pgot90j-xkE_BvxUhtzXJUVqKfDQok87NMEEg5Xde7TOCkemmvkdXaWxUFx4eKNOoH632ZKI4hxjQhwtt-RiEOlYKSnXyi56Vjn-LDPLNGJ3Jn_QBumAlOt0NG4LD65SxKc6aPdRV4Uy2oMIqjS7m25lnH--mRqLOXtVqwuHeBMm7epSd61_ojB0it7AA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 15:57:55.670 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 15:57:58.044 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 15:57:58.045 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:57:58.045 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 15:57:58.053 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 15:58:07.233 +02:00 [INF] AuthenticationScheme: adfs was challenged.
2019-07-12 15:58:20.450 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 15:58:20.799 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 17:16:31.837 +02:00 [DBG] Augmenting SignInContext
2019-07-12 17:16:31.843 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 17:16:31.854 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 17:16:31.867 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 17:16:31.868 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:16:31.868 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:16:31.869 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:16:31.872 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:16:31.912 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 17:16:31.915 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 17:16:31.916 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 17:16:31.927 +02:00 [DBG] Start authorize callback request
2019-07-12 17:16:31.944 +02:00 [DBG] User in authorize request: 09fda90af7b71a077a5cd2253887c45144a833020912b4f3cdcfd53c29e30c07
2019-07-12 17:16:31.944 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:16:31.944 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:16:31.945 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:16:31.946 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"09fda90af7b71a077a5cd2253887c45144a833020912b4f3cdcfd53c29e30c07","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257zjR7coonj1y17QMgjBpx6wQx65T8f1RmBCzv5ejeNwXYw0Z0ag_yEvOEZ5j2eFbIy3zB4QgIbLQsuPKcm94Ns8nyrvyqmfhczjxU03oauN30h6pgot90j-xkE_BvxUhtzXJUVqKfDQok87NMEEg5Xde7TOCkemmvkdXaWxUFx4eKNOoH632ZKI4hxjQhwtt-RiEOlYKSnXyi56Vjn-LDPLNGJ3Jn_QBumAlOt0NG4LD65SxKc6aPdRV4Uy2oMIqjS7m25lnH--mRqLOXtVqwuHeBMm7epSd61_ojB0it7AA","UiLocales":null,"Nonce":"636985366753406387.NmY2OTU5MDUtODQ1ZS00NDMzLThhOTgtNDM2Nzg3MjZkMmI5Njc4OGJjZWQtZWZmZC00MDlkLWI0ZTctZTg0OGNjY2U1Yzc2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"a56a71d226b287e97939e28f6cfead11","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985366753406387.NmY2OTU5MDUtODQ1ZS00NDMzLThhOTgtNDM2Nzg3MjZkMmI5Njc4OGJjZWQtZWZmZC00MDlkLWI0ZTctZTg0OGNjY2U1Yzc2","state":"CfDJ8NxwjiZxUEdNkONpYNI9257zjR7coonj1y17QMgjBpx6wQx65T8f1RmBCzv5ejeNwXYw0Z0ag_yEvOEZ5j2eFbIy3zB4QgIbLQsuPKcm94Ns8nyrvyqmfhczjxU03oauN30h6pgot90j-xkE_BvxUhtzXJUVqKfDQok87NMEEg5Xde7TOCkemmvkdXaWxUFx4eKNOoH632ZKI4hxjQhwtt-RiEOlYKSnXyi56Vjn-LDPLNGJ3Jn_QBumAlOt0NG4LD65SxKc6aPdRV4Uy2oMIqjS7m25lnH--mRqLOXtVqwuHeBMm7epSd61_ojB0it7AA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:16:31.949 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 17:16:31.978 +02:00 [DBG] user_consent grant with value: mvc|09fda90af7b71a077a5cd2253887c45144a833020912b4f3cdcfd53c29e30c07 not found in store.
2019-07-12 17:16:31.978 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 17:16:31.978 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 17:16:47.526 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:16:47.526 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:16:47.526 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:16:47.527 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:17:01.274 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 17:17:01.328 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:17:01.328 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:17:01.328 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:17:01.360 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:17:01.370 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 17:17:01.371 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 17:17:01.371 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 17:17:01.371 +02:00 [DBG] Start authorize callback request
2019-07-12 17:17:01.379 +02:00 [DBG] User in authorize request: 09fda90af7b71a077a5cd2253887c45144a833020912b4f3cdcfd53c29e30c07
2019-07-12 17:17:01.379 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:17:01.379 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:17:01.380 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:17:01.380 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"09fda90af7b71a077a5cd2253887c45144a833020912b4f3cdcfd53c29e30c07","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257zjR7coonj1y17QMgjBpx6wQx65T8f1RmBCzv5ejeNwXYw0Z0ag_yEvOEZ5j2eFbIy3zB4QgIbLQsuPKcm94Ns8nyrvyqmfhczjxU03oauN30h6pgot90j-xkE_BvxUhtzXJUVqKfDQok87NMEEg5Xde7TOCkemmvkdXaWxUFx4eKNOoH632ZKI4hxjQhwtt-RiEOlYKSnXyi56Vjn-LDPLNGJ3Jn_QBumAlOt0NG4LD65SxKc6aPdRV4Uy2oMIqjS7m25lnH--mRqLOXtVqwuHeBMm7epSd61_ojB0it7AA","UiLocales":null,"Nonce":"636985366753406387.NmY2OTU5MDUtODQ1ZS00NDMzLThhOTgtNDM2Nzg3MjZkMmI5Njc4OGJjZWQtZWZmZC00MDlkLWI0ZTctZTg0OGNjY2U1Yzc2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"a56a71d226b287e97939e28f6cfead11","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985366753406387.NmY2OTU5MDUtODQ1ZS00NDMzLThhOTgtNDM2Nzg3MjZkMmI5Njc4OGJjZWQtZWZmZC00MDlkLWI0ZTctZTg0OGNjY2U1Yzc2","state":"CfDJ8NxwjiZxUEdNkONpYNI9257zjR7coonj1y17QMgjBpx6wQx65T8f1RmBCzv5ejeNwXYw0Z0ag_yEvOEZ5j2eFbIy3zB4QgIbLQsuPKcm94Ns8nyrvyqmfhczjxU03oauN30h6pgot90j-xkE_BvxUhtzXJUVqKfDQok87NMEEg5Xde7TOCkemmvkdXaWxUFx4eKNOoH632ZKI4hxjQhwtt-RiEOlYKSnXyi56Vjn-LDPLNGJ3Jn_QBumAlOt0NG4LD65SxKc6aPdRV4Uy2oMIqjS7m25lnH--mRqLOXtVqwuHeBMm7epSd61_ojB0it7AA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:17:01.380 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 17:17:01.381 +02:00 [DBG] user_consent grant with value: mvc|09fda90af7b71a077a5cd2253887c45144a833020912b4f3cdcfd53c29e30c07 not found in store.
2019-07-12 17:17:01.381 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 17:17:01.391 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-12 17:17:01.394 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-12 17:17:01.401 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 09fda90af7b71a077a5cd2253887c45144a833020912b4f3cdcfd53c29e30c07
2019-07-12 17:17:01.439 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 17:17:01.464 +02:00 [DBG] Getting claims for identity token for subject: 09fda90af7b71a077a5cd2253887c45144a833020912b4f3cdcfd53c29e30c07 and client: mvc
2019-07-12 17:17:01.476 +02:00 [DBG] Get profile called for subject 09fda90af7b71a077a5cd2253887c45144a833020912b4f3cdcfd53c29e30c07 from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 17:17:01.481 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 17:17:01.587 +02:00 [INF] Authorize endpoint response
{"SubjectId":"09fda90af7b71a077a5cd2253887c45144a833020912b4f3cdcfd53c29e30c07","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9257zjR7coonj1y17QMgjBpx6wQx65T8f1RmBCzv5ejeNwXYw0Z0ag_yEvOEZ5j2eFbIy3zB4QgIbLQsuPKcm94Ns8nyrvyqmfhczjxU03oauN30h6pgot90j-xkE_BvxUhtzXJUVqKfDQok87NMEEg5Xde7TOCkemmvkdXaWxUFx4eKNOoH632ZKI4hxjQhwtt-RiEOlYKSnXyi56Vjn-LDPLNGJ3Jn_QBumAlOt0NG4LD65SxKc6aPdRV4Uy2oMIqjS7m25lnH--mRqLOXtVqwuHeBMm7epSd61_ojB0it7AA","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 17:17:01.624 +02:00 [DBG] Augmenting SignInContext
2019-07-12 17:17:01.624 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 17:17:21.781 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:17:21.781 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:17:21.782 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:17:21.782 +02:00 [DBG] Start authorize request
2019-07-12 17:17:21.782 +02:00 [DBG] User in authorize request: 09fda90af7b71a077a5cd2253887c45144a833020912b4f3cdcfd53c29e30c07
2019-07-12 17:17:21.784 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:17:21.788 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:17:21.789 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:17:21.790 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"09fda90af7b71a077a5cd2253887c45144a833020912b4f3cdcfd53c29e30c07","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254Ty2rXosp3j5JRbjBzmwojiqZaI76HfV3XCzmPNgzHvdCNp8ttX4hK-uIDbHysg14bcwR4veQqXXio_0cCxA7sESArMJSZZ80wDJva2iPTV6ycV8zR2TwYjA_TI9LFQhOIvAMLZtqGI2hOS0ld_1tEDAJmDqIBnOC6xsUNBb7VmKvH0nnRsMQLy-KxT5-WDBdLbUdIai6wgaP3LMQZaaxlQrsdViX8G3v4yqG6RDG8G-8ym_lsk4ozkxwNqOfk0S-Zo1zINVj9C5leW9b9gPaE2xi5KvS6HS3tqRbOQsGLJQ","UiLocales":null,"Nonce":"636985414417642187.MDVhYzM3OTUtNjI4ZC00YWE5LTkxNjYtMDY1ODNhZmMxMDIxYzdmZGI4ZjktOTAyYS00ZDUxLWE1YWItNWE4ZGQ1YmJkZGMx","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"a56a71d226b287e97939e28f6cfead11","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985414417642187.MDVhYzM3OTUtNjI4ZC00YWE5LTkxNjYtMDY1ODNhZmMxMDIxYzdmZGI4ZjktOTAyYS00ZDUxLWE1YWItNWE4ZGQ1YmJkZGMx","state":"CfDJ8NxwjiZxUEdNkONpYNI9254Ty2rXosp3j5JRbjBzmwojiqZaI76HfV3XCzmPNgzHvdCNp8ttX4hK-uIDbHysg14bcwR4veQqXXio_0cCxA7sESArMJSZZ80wDJva2iPTV6ycV8zR2TwYjA_TI9LFQhOIvAMLZtqGI2hOS0ld_1tEDAJmDqIBnOC6xsUNBb7VmKvH0nnRsMQLy-KxT5-WDBdLbUdIai6wgaP3LMQZaaxlQrsdViX8G3v4yqG6RDG8G-8ym_lsk4ozkxwNqOfk0S-Zo1zINVj9C5leW9b9gPaE2xi5KvS6HS3tqRbOQsGLJQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:17:21.790 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 17:17:21.803 +02:00 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-12 17:17:21.803 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 17:17:21.804 +02:00 [DBG] Getting claims for identity token for subject: 09fda90af7b71a077a5cd2253887c45144a833020912b4f3cdcfd53c29e30c07 and client: mvc
2019-07-12 17:17:21.805 +02:00 [DBG] Get profile called for subject 09fda90af7b71a077a5cd2253887c45144a833020912b4f3cdcfd53c29e30c07 from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 17:17:21.806 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 17:17:21.812 +02:00 [INF] Authorize endpoint response
{"SubjectId":"09fda90af7b71a077a5cd2253887c45144a833020912b4f3cdcfd53c29e30c07","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9254Ty2rXosp3j5JRbjBzmwojiqZaI76HfV3XCzmPNgzHvdCNp8ttX4hK-uIDbHysg14bcwR4veQqXXio_0cCxA7sESArMJSZZ80wDJva2iPTV6ycV8zR2TwYjA_TI9LFQhOIvAMLZtqGI2hOS0ld_1tEDAJmDqIBnOC6xsUNBb7VmKvH0nnRsMQLy-KxT5-WDBdLbUdIai6wgaP3LMQZaaxlQrsdViX8G3v4yqG6RDG8G-8ym_lsk4ozkxwNqOfk0S-Zo1zINVj9C5leW9b9gPaE2xi5KvS6HS3tqRbOQsGLJQ","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 17:34:58.799 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 17:34:59.041 +02:00 [FTL] Application startup exception
System.InvalidOperationException: Scheme already exists: adfs
   at Microsoft.AspNetCore.Authentication.AuthenticationOptions.AddScheme(String name, Action`1 configureBuilder)
   at Microsoft.AspNetCore.Authentication.AuthenticationBuilder.<>c__DisplayClass4_0`2.<AddSchemeHelper>b__0(AuthenticationOptions o)
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsManager`1.<>c__DisplayClass5_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsManager`1.Get(String name)
   at Microsoft.Extensions.Options.OptionsManager`1.get_Value()
   at Microsoft.AspNetCore.Authentication.AuthenticationSchemeProvider..ctor(IOptions`1 options, IDictionary`2 schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationSchemeProvider..ctor(IOptions`1 options)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitSingleton(SingletonCallSite singletonCallSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Builder.IdentityServerApplicationBuilderExtensions.ValidateAsync(IServiceProvider services, ILogger logger)
   at Microsoft.AspNetCore.Builder.IdentityServerApplicationBuilderExtensions.Validate(IApplicationBuilder app) in C:\local\identity\server4\IdentityServer4\src\Configuration\IdentityServerApplicationBuilderExtensions.cs:line 74
   at Microsoft.AspNetCore.Builder.IdentityServerApplicationBuilderExtensions.UseIdentityServer(IApplicationBuilder app) in C:\local\identity\server4\IdentityServer4\src\Configuration\IdentityServerApplicationBuilderExtensions.cs:line 30
   at IdentityServer.Startup.Configure(IApplicationBuilder app) in C:\Users\P7G8\source\repos\IdentityServer\quickstart\IdentityServer\Startup.cs:line 88
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.Configure(IApplicationBuilder app)
   at Microsoft.AspNetCore.Server.IISIntegration.IISSetupFilter.<>c__DisplayClass4_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.Internal.AutoRequestServicesStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()
2019-07-12 17:35:44.635 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 17:35:44.693 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 17:35:44.700 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 17:35:44.700 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 17:35:44.700 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 17:35:44.700 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 17:35:44.700 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 17:35:45.176 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The 'CallbackPath' option must be provided.
Parameter name: CallbackPath
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationOptions.Validate()
   at Microsoft.AspNetCore.Authentication.OAuth.OAuthOptions.Validate()
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationOptions.Validate(String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 17:36:27.035 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 17:36:27.100 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 17:36:27.107 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 17:36:27.107 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 17:36:27.107 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 17:36:27.110 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 17:36:27.110 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 17:36:27.639 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 17:36:27.644 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 17:36:27.644 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 17:36:27.644 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 17:36:27.644 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 17:36:27.644 +02:00 [DBG] Error Url: /home/error
2019-07-12 17:36:27.644 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 17:36:27.695 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:36:27.695 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:36:27.705 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:36:27.705 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:36:27.706 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:36:27.706 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:36:27.715 +02:00 [DBG] Start authorize request
2019-07-12 17:36:27.715 +02:00 [DBG] Start authorize request
2019-07-12 17:36:27.742 +02:00 [DBG] No user present in authorize request
2019-07-12 17:36:27.742 +02:00 [DBG] No user present in authorize request
2019-07-12 17:36:27.751 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:36:27.751 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:36:27.783 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:36:27.783 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:36:27.842 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:36:27.842 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:36:27.867 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9255HHH2Pu3wW0HbJRog64kLIS9Wp8P_Vc-pZvO3jqH-6Cubw1PMzaUNQ9hsiO9MIznHyYOpW65vR9JX6a7wxgrukYC6V08GlYOp4Q3bV17bmCn16yXAZRQE1nh0UKfcX1JSUeY0nE4xRZ18w1QgOsDUKGea6ux0dfEw19Q7eQRoXjY8DF6zHXMhayVaVvo7wPMqC5_nv6-rhmOdQnH-zgM60TzJgJysvtO9g2KDT8YfyNyFzPZvm3nlvTbQrSHo31o2UA5xSwjvLv9rAhUt0hQHegkO3N7TB3p9oJdGdoaXsRQ","UiLocales":null,"Nonce":"636985425802572033.MjczYWIyYjItMzEyNy00OTAyLWI0M2UtMDA1ZjIzNWY2MmQ4Y2E2MGUxNGUtNGJlMi00YWE5LTkxYTAtMTVhODc4MzZhMzUx","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985425802572033.MjczYWIyYjItMzEyNy00OTAyLWI0M2UtMDA1ZjIzNWY2MmQ4Y2E2MGUxNGUtNGJlMi00YWE5LTkxYTAtMTVhODc4MzZhMzUx","state":"CfDJ8NxwjiZxUEdNkONpYNI9255HHH2Pu3wW0HbJRog64kLIS9Wp8P_Vc-pZvO3jqH-6Cubw1PMzaUNQ9hsiO9MIznHyYOpW65vR9JX6a7wxgrukYC6V08GlYOp4Q3bV17bmCn16yXAZRQE1nh0UKfcX1JSUeY0nE4xRZ18w1QgOsDUKGea6ux0dfEw19Q7eQRoXjY8DF6zHXMhayVaVvo7wPMqC5_nv6-rhmOdQnH-zgM60TzJgJysvtO9g2KDT8YfyNyFzPZvm3nlvTbQrSHo31o2UA5xSwjvLv9rAhUt0hQHegkO3N7TB3p9oJdGdoaXsRQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:36:27.867 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9255HHH2Pu3wW0HbJRog64kLIS9Wp8P_Vc-pZvO3jqH-6Cubw1PMzaUNQ9hsiO9MIznHyYOpW65vR9JX6a7wxgrukYC6V08GlYOp4Q3bV17bmCn16yXAZRQE1nh0UKfcX1JSUeY0nE4xRZ18w1QgOsDUKGea6ux0dfEw19Q7eQRoXjY8DF6zHXMhayVaVvo7wPMqC5_nv6-rhmOdQnH-zgM60TzJgJysvtO9g2KDT8YfyNyFzPZvm3nlvTbQrSHo31o2UA5xSwjvLv9rAhUt0hQHegkO3N7TB3p9oJdGdoaXsRQ","UiLocales":null,"Nonce":"636985425802572033.MjczYWIyYjItMzEyNy00OTAyLWI0M2UtMDA1ZjIzNWY2MmQ4Y2E2MGUxNGUtNGJlMi00YWE5LTkxYTAtMTVhODc4MzZhMzUx","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985425802572033.MjczYWIyYjItMzEyNy00OTAyLWI0M2UtMDA1ZjIzNWY2MmQ4Y2E2MGUxNGUtNGJlMi00YWE5LTkxYTAtMTVhODc4MzZhMzUx","state":"CfDJ8NxwjiZxUEdNkONpYNI9255HHH2Pu3wW0HbJRog64kLIS9Wp8P_Vc-pZvO3jqH-6Cubw1PMzaUNQ9hsiO9MIznHyYOpW65vR9JX6a7wxgrukYC6V08GlYOp4Q3bV17bmCn16yXAZRQE1nh0UKfcX1JSUeY0nE4xRZ18w1QgOsDUKGea6ux0dfEw19Q7eQRoXjY8DF6zHXMhayVaVvo7wPMqC5_nv6-rhmOdQnH-zgM60TzJgJysvtO9g2KDT8YfyNyFzPZvm3nlvTbQrSHo31o2UA5xSwjvLv9rAhUt0hQHegkO3N7TB3p9oJdGdoaXsRQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:36:27.900 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:36:27.900 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:36:28.137 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:36:28.137 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:36:28.137 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:36:28.143 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:36:33.896 +02:00 [INF] AuthenticationScheme: AdfsOAuth was challenged.
2019-07-12 17:36:34.639 +02:00 [INF] Error from RemoteAuthentication: access_denied;Description=MSIS9605: The client is not allowed to access the requested resource..
2019-07-12 17:36:34.641 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error was encountered while handling the remote login. ---> System.Exception: access_denied;Description=MSIS9605: The client is not allowed to access the requested resource.
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 17:38:10.779 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 17:38:10.860 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 17:38:10.869 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 17:38:10.869 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 17:38:10.869 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 17:38:10.869 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 17:38:10.869 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 17:38:11.447 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 17:38:11.451 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 17:38:11.451 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 17:38:11.451 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 17:38:11.451 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 17:38:11.452 +02:00 [DBG] Error Url: /home/error
2019-07-12 17:38:11.452 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 17:38:11.497 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:38:11.497 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:38:11.508 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:38:11.508 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:38:11.509 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:38:11.509 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:38:11.516 +02:00 [DBG] Start authorize request
2019-07-12 17:38:11.516 +02:00 [DBG] Start authorize request
2019-07-12 17:38:11.540 +02:00 [DBG] No user present in authorize request
2019-07-12 17:38:11.540 +02:00 [DBG] No user present in authorize request
2019-07-12 17:38:11.548 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:38:11.548 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:38:11.584 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:38:11.584 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:38:11.642 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:38:11.642 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:38:11.667 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254eGZRfifA_IPcyzNDfVBqTftdsE6MxjqMo6cI8Esd_dS-rxCZ0bFTdz1qGMfcg2y0zccpyM-BOTXLg6j4d0zSOerHvGmNzt_9Sttc1VSYm2S2TcgxX4XQM6BLNlbfH8-zNXXAqh-2bpD2N6vGy6aXPZnBsjOnYW4xMXnQuBLK3M2srjES4G2JMN_tei4y6OyDEM2xHCVDU_1xVPixii-UyNXABxM99RHWIgcs-v9dhH82z-bcP9gxOGxafQno7EZW0AqayEv5MvyDdt59zJNB3VMcM09cbpPZHNMwlD3eANQ","UiLocales":null,"Nonce":"636985426873574194.MjI1Y2VkODgtYjZjZC00ZDIyLWI0MmEtZTZiOGQ1MzVlMGVlZmY1NTg5OWYtYWQ3YS00ZDRiLTljMTQtMzAxZmQxNmY0NDMw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985426873574194.MjI1Y2VkODgtYjZjZC00ZDIyLWI0MmEtZTZiOGQ1MzVlMGVlZmY1NTg5OWYtYWQ3YS00ZDRiLTljMTQtMzAxZmQxNmY0NDMw","state":"CfDJ8NxwjiZxUEdNkONpYNI9254eGZRfifA_IPcyzNDfVBqTftdsE6MxjqMo6cI8Esd_dS-rxCZ0bFTdz1qGMfcg2y0zccpyM-BOTXLg6j4d0zSOerHvGmNzt_9Sttc1VSYm2S2TcgxX4XQM6BLNlbfH8-zNXXAqh-2bpD2N6vGy6aXPZnBsjOnYW4xMXnQuBLK3M2srjES4G2JMN_tei4y6OyDEM2xHCVDU_1xVPixii-UyNXABxM99RHWIgcs-v9dhH82z-bcP9gxOGxafQno7EZW0AqayEv5MvyDdt59zJNB3VMcM09cbpPZHNMwlD3eANQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:38:11.667 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254eGZRfifA_IPcyzNDfVBqTftdsE6MxjqMo6cI8Esd_dS-rxCZ0bFTdz1qGMfcg2y0zccpyM-BOTXLg6j4d0zSOerHvGmNzt_9Sttc1VSYm2S2TcgxX4XQM6BLNlbfH8-zNXXAqh-2bpD2N6vGy6aXPZnBsjOnYW4xMXnQuBLK3M2srjES4G2JMN_tei4y6OyDEM2xHCVDU_1xVPixii-UyNXABxM99RHWIgcs-v9dhH82z-bcP9gxOGxafQno7EZW0AqayEv5MvyDdt59zJNB3VMcM09cbpPZHNMwlD3eANQ","UiLocales":null,"Nonce":"636985426873574194.MjI1Y2VkODgtYjZjZC00ZDIyLWI0MmEtZTZiOGQ1MzVlMGVlZmY1NTg5OWYtYWQ3YS00ZDRiLTljMTQtMzAxZmQxNmY0NDMw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985426873574194.MjI1Y2VkODgtYjZjZC00ZDIyLWI0MmEtZTZiOGQ1MzVlMGVlZmY1NTg5OWYtYWQ3YS00ZDRiLTljMTQtMzAxZmQxNmY0NDMw","state":"CfDJ8NxwjiZxUEdNkONpYNI9254eGZRfifA_IPcyzNDfVBqTftdsE6MxjqMo6cI8Esd_dS-rxCZ0bFTdz1qGMfcg2y0zccpyM-BOTXLg6j4d0zSOerHvGmNzt_9Sttc1VSYm2S2TcgxX4XQM6BLNlbfH8-zNXXAqh-2bpD2N6vGy6aXPZnBsjOnYW4xMXnQuBLK3M2srjES4G2JMN_tei4y6OyDEM2xHCVDU_1xVPixii-UyNXABxM99RHWIgcs-v9dhH82z-bcP9gxOGxafQno7EZW0AqayEv5MvyDdt59zJNB3VMcM09cbpPZHNMwlD3eANQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:38:11.700 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:38:11.700 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:38:12.040 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:38:12.041 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:38:12.041 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:38:12.048 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:38:14.695 +02:00 [INF] AuthenticationScheme: AdfsOAuth was challenged.
2019-07-12 17:38:14.895 +02:00 [INF] Error from RemoteAuthentication: access_denied;Description=MSIS9605: The client is not allowed to access the requested resource..
2019-07-12 17:38:14.897 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error was encountered while handling the remote login. ---> System.Exception: access_denied;Description=MSIS9605: The client is not allowed to access the requested resource.
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 17:38:53.798 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 17:38:53.859 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 17:38:53.863 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 17:38:53.864 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 17:38:53.864 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 17:38:53.864 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 17:38:53.864 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 17:38:54.399 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 17:38:54.403 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 17:38:54.403 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 17:38:54.403 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 17:38:54.403 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 17:38:54.403 +02:00 [DBG] Error Url: /home/error
2019-07-12 17:38:54.403 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 17:38:54.445 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:38:54.456 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:38:54.456 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:38:54.463 +02:00 [DBG] Start authorize request
2019-07-12 17:38:54.480 +02:00 [DBG] No user present in authorize request
2019-07-12 17:38:54.488 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:38:54.510 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:38:54.562 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:38:54.580 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257sVAd5zieNCkxdu5IKHqWDql5yd3KkowjpQEQV7B5XXoMyiUZ1o7o6iAYLrFld9XDBxNtFwh_7tkokLPankW0mHrC248jP172BLk4EegHYlq1XGzIWnJHcJVSWowoU8cTtVbvrkh7bcihDZIo0S8Uh2LqaXevWLWlKl46bE76sTt7krRf89aEmMeGcPzT30D_9BHpaaU-kfy6lwLZccQmqEtxTO8gXgmDPWYm0nrbOZEp3Vy6GGO6MKEbp7V8ZlhqQYFL3vb7oqntDvTvBjW5vV44jEERcn3vhF1rmtPZwtw","UiLocales":null,"Nonce":"636985427308307263.NTMxNzU2ZmEtNGY2MS00ZjdkLTg2MDctODNjY2Q2Y2JlMzAwMjI2NGYwMzgtYmFhNi00YjczLTgwMTQtZjU1ZjJlMGZjYTUy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985427308307263.NTMxNzU2ZmEtNGY2MS00ZjdkLTg2MDctODNjY2Q2Y2JlMzAwMjI2NGYwMzgtYmFhNi00YjczLTgwMTQtZjU1ZjJlMGZjYTUy","state":"CfDJ8NxwjiZxUEdNkONpYNI9257sVAd5zieNCkxdu5IKHqWDql5yd3KkowjpQEQV7B5XXoMyiUZ1o7o6iAYLrFld9XDBxNtFwh_7tkokLPankW0mHrC248jP172BLk4EegHYlq1XGzIWnJHcJVSWowoU8cTtVbvrkh7bcihDZIo0S8Uh2LqaXevWLWlKl46bE76sTt7krRf89aEmMeGcPzT30D_9BHpaaU-kfy6lwLZccQmqEtxTO8gXgmDPWYm0nrbOZEp3Vy6GGO6MKEbp7V8ZlhqQYFL3vb7oqntDvTvBjW5vV44jEERcn3vhF1rmtPZwtw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:38:54.611 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:38:54.948 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:38:54.948 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:38:54.948 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:38:54.948 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:38:54.949 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:38:54.949 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:38:54.952 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:38:54.952 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:38:55.213 +02:00 [WRN] Connection processing ended abnormally.
Microsoft.AspNetCore.Connections.ConnectionAbortedException: The connection was aborted
   at System.IO.Pipelines.PipeCompletion.ThrowLatchedException()
   at System.IO.Pipelines.Pipe.GetReadResult(ReadResult& result)
   at System.IO.Pipelines.Pipe.GetReadAsyncResult()
   at System.IO.Pipelines.Pipe.DefaultPipeReader.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2019-07-12 17:38:56.196 +02:00 [INF] AuthenticationScheme: AdfsOAuth was challenged.
2019-07-12 17:39:09.330 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:39:09.332 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:39:09.332 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:39:09.334 +02:00 [DBG] Start authorize request
2019-07-12 17:39:09.335 +02:00 [DBG] No user present in authorize request
2019-07-12 17:39:09.336 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:39:09.336 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:39:09.338 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:39:09.339 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9255_J8VkXpwfgm6Lv150csN0YLJ5Lul2HmjK3uz8DFOXIq9kz9yTZUFgjlOh3GyHuSrWpo_y3i715pdm2GPQQGsZCjRTt0-n9TzwS5uNx7Q_gZpgNw5I7KO2mtwraggtTFX0uskG_p5GHV1fxdMElaC1bwflrr7qc06qjrPa0ZyG1_0VDwnWWWunUeUOQvfkSH4e4QVtkgDKhPKVmB7gCahnEkDVXq2pWXVh7BaxeUHfJh3xibnKcQg2eC07LnJ30CJlvpGIlBmbjDutyU0J0TuA1GpP9htGoOeJAcK3uCokmw","UiLocales":null,"Nonce":"636985427493207144.NTljM2IxNjEtZDhjYy00ZWEyLTk0NGYtYTFlZDY5ZDYwZjBjMDVjMDM2OGItNTNmYy00YzA3LWE1MjctYzMxYTQ5YzNkZDMy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985427493207144.NTljM2IxNjEtZDhjYy00ZWEyLTk0NGYtYTFlZDY5ZDYwZjBjMDVjMDM2OGItNTNmYy00YzA3LWE1MjctYzMxYTQ5YzNkZDMy","state":"CfDJ8NxwjiZxUEdNkONpYNI9255_J8VkXpwfgm6Lv150csN0YLJ5Lul2HmjK3uz8DFOXIq9kz9yTZUFgjlOh3GyHuSrWpo_y3i715pdm2GPQQGsZCjRTt0-n9TzwS5uNx7Q_gZpgNw5I7KO2mtwraggtTFX0uskG_p5GHV1fxdMElaC1bwflrr7qc06qjrPa0ZyG1_0VDwnWWWunUeUOQvfkSH4e4QVtkgDKhPKVmB7gCahnEkDVXq2pWXVh7BaxeUHfJh3xibnKcQg2eC07LnJ30CJlvpGIlBmbjDutyU0J0TuA1GpP9htGoOeJAcK3uCokmw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:39:09.339 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:39:09.353 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:39:09.354 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:39:09.354 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:39:09.354 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:39:11.648 +02:00 [INF] AuthenticationScheme: AdfsOAuth was challenged.
2019-07-12 17:39:32.720 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 17:39:32.790 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Unknown userid
   at IdentityServer4.Quickstart.UI.ExternalController.FindUserFromExternalProvider(AuthenticateResult result) in C:\Users\P7G8\source\repos\IdentityServer\quickstart\IdentityServer\Quickstart\Account\ExternalController.cs:line 192
   at IdentityServer4.Quickstart.UI.ExternalController.Callback() in C:\Users\P7G8\source\repos\IdentityServer\quickstart\IdentityServer\Quickstart\Account\ExternalController.cs:line 95
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 17:39:58.966 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Unknown userid
   at IdentityServer4.Quickstart.UI.ExternalController.FindUserFromExternalProvider(AuthenticateResult result) in C:\Users\P7G8\source\repos\IdentityServer\quickstart\IdentityServer\Quickstart\Account\ExternalController.cs:line 192
   at IdentityServer4.Quickstart.UI.ExternalController.Callback() in C:\Users\P7G8\source\repos\IdentityServer\quickstart\IdentityServer\Quickstart\Account\ExternalController.cs:line 95
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 17:40:00.552 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Unknown userid
   at IdentityServer4.Quickstart.UI.ExternalController.FindUserFromExternalProvider(AuthenticateResult result) in C:\Users\P7G8\source\repos\IdentityServer\quickstart\IdentityServer\Quickstart\Account\ExternalController.cs:line 192
   at IdentityServer4.Quickstart.UI.ExternalController.Callback() in C:\Users\P7G8\source\repos\IdentityServer\quickstart\IdentityServer\Quickstart\Account\ExternalController.cs:line 95
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 17:40:21.431 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 17:40:21.506 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 17:40:21.511 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 17:40:21.511 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 17:40:21.511 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 17:40:21.511 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 17:40:21.511 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 17:40:22.480 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 17:40:22.486 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 17:40:22.486 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 17:40:22.486 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 17:40:22.486 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 17:40:22.487 +02:00 [DBG] Error Url: /home/error
2019-07-12 17:40:22.487 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 17:40:50.476 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:40:50.494 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:40:50.495 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:40:50.512 +02:00 [DBG] Start authorize request
2019-07-12 17:40:50.533 +02:00 [DBG] No user present in authorize request
2019-07-12 17:40:50.543 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:40:50.588 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:40:50.671 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:40:50.704 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256NzGf7BYwXCZidsYceufK4gRiA8mIRuBXuCgRRhF7ATPjW4P3rN1LMzjyDmwpcC0txWHTy-Ec5blNb4I19ucKd_BkmHej36qu2iq04c8arePZLGiaN7i0y7QuDCH0Psu7X8YRhEZ1yU-oVkRD4xcB2EMZU7cCM92EYNUAlrnM3FuXdowC9gE1CKlY3pFVYRlbovXKBXUqvwbLF8b_ytFDj6p59aB_ekDh_THo_sJOrta-zqJxHYq9ztH9YUoQNVRPZ54Xk6YwsEjCrU741YL9cGrbSiRHFdiwNjxIOVuMVUw","UiLocales":null,"Nonce":"636985428504436010.OGU0MDk3YjctODBhOS00Yzc2LTlmZTAtZWM3MzZiMTBiY2MyNjg3ZWYxMGEtMjg3ZC00NDU1LTgxZWEtZWI5MTQ2ZDQyZTc4","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985428504436010.OGU0MDk3YjctODBhOS00Yzc2LTlmZTAtZWM3MzZiMTBiY2MyNjg3ZWYxMGEtMjg3ZC00NDU1LTgxZWEtZWI5MTQ2ZDQyZTc4","state":"CfDJ8NxwjiZxUEdNkONpYNI9256NzGf7BYwXCZidsYceufK4gRiA8mIRuBXuCgRRhF7ATPjW4P3rN1LMzjyDmwpcC0txWHTy-Ec5blNb4I19ucKd_BkmHej36qu2iq04c8arePZLGiaN7i0y7QuDCH0Psu7X8YRhEZ1yU-oVkRD4xcB2EMZU7cCM92EYNUAlrnM3FuXdowC9gE1CKlY3pFVYRlbovXKBXUqvwbLF8b_ytFDj6p59aB_ekDh_THo_sJOrta-zqJxHYq9ztH9YUoQNVRPZ54Xk6YwsEjCrU741YL9cGrbSiRHFdiwNjxIOVuMVUw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:40:50.750 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:40:50.892 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:40:50.892 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:40:50.893 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:40:50.901 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:40:54.188 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 17:40:55.088 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 17:40:55.150 +02:00 [ERR] Message contains error: 'unauthorized_client', error_description: 'MSIS9637%3a+The+authorization+server+does+not+support+the+response+type+%27token%27+for+confidential+clients.', error_uri: 'error_uri is null'.
2019-07-12 17:40:55.152 +02:00 [INF] Error from RemoteAuthentication: Message contains error: 'unauthorized_client', error_description: 'MSIS9637%3a+The+authorization+server+does+not+support+the+response+type+%27token%27+for+confidential+clients.', error_uri: 'error_uri is null'..
2019-07-12 17:40:55.156 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error was encountered while handling the remote login. ---> Microsoft.IdentityModel.Protocols.OpenIdConnect.OpenIdConnectProtocolException: Message contains error: 'unauthorized_client', error_description: 'MSIS9637%3a+The+authorization+server+does+not+support+the+response+type+%27token%27+for+confidential+clients.', error_uri: 'error_uri is null'.
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 17:41:02.754 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:41:02.755 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:41:02.756 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:41:02.756 +02:00 [DBG] Start authorize request
2019-07-12 17:41:02.756 +02:00 [DBG] No user present in authorize request
2019-07-12 17:41:02.756 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:41:02.756 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:41:02.757 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:41:02.757 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256PvDj-sfOAzuLNiFqhgDzf3BHFgoGQ6WFcbmf0zL3T8nHSAONJxXyZz9AVQfXndOHD3DiTND5HNEDVl8SM-_HkJLUPYTpcMukkmMWDssblJ23lk8RCTkUUpZdOz82YZMMyc5B98IEoulzJ_nl3WlZW6GOYfFj_mG0RJUlBL0k7-CDMdsK3l-V1OVdIMnEvvHSkziB3J8f1tF5kIrKCtd4ud4XphwNsvVrqEeX2RqGLlG817YY1y8vIlutxefbZDkPoByCGbkUOi8s7l9Au9AbRCqsOFwPcc6ehqrYZkLvnmg","UiLocales":null,"Nonce":"636985428627379488.ZDUzMDU5ZTMtNDdiZC00M2E4LWE5NzItOGFhZTYxYTM2MjliNjU2NjAyMDAtNTFmMS00NjZjLWJmYjUtYzhkYWFhYWI0ZTc1","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985428627379488.ZDUzMDU5ZTMtNDdiZC00M2E4LWE5NzItOGFhZTYxYTM2MjliNjU2NjAyMDAtNTFmMS00NjZjLWJmYjUtYzhkYWFhYWI0ZTc1","state":"CfDJ8NxwjiZxUEdNkONpYNI9256PvDj-sfOAzuLNiFqhgDzf3BHFgoGQ6WFcbmf0zL3T8nHSAONJxXyZz9AVQfXndOHD3DiTND5HNEDVl8SM-_HkJLUPYTpcMukkmMWDssblJ23lk8RCTkUUpZdOz82YZMMyc5B98IEoulzJ_nl3WlZW6GOYfFj_mG0RJUlBL0k7-CDMdsK3l-V1OVdIMnEvvHSkziB3J8f1tF5kIrKCtd4ud4XphwNsvVrqEeX2RqGLlG817YY1y8vIlutxefbZDkPoByCGbkUOi8s7l9Au9AbRCqsOFwPcc6ehqrYZkLvnmg","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:41:02.758 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:41:02.795 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:41:02.795 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:41:02.796 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:41:02.797 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:41:05.225 +02:00 [INF] AuthenticationScheme: AdfsOAuth was challenged.
2019-07-12 17:41:36.014 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 17:45:33.198 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Unknown userid
   at IdentityServer4.Quickstart.UI.ExternalController.FindUserFromExternalProvider(AuthenticateResult result) in C:\Users\P7G8\source\repos\IdentityServer\quickstart\IdentityServer\Quickstart\Account\ExternalController.cs:line 192
   at IdentityServer4.Quickstart.UI.ExternalController.Callback() in C:\Users\P7G8\source\repos\IdentityServer\quickstart\IdentityServer\Quickstart\Account\ExternalController.cs:line 95
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 17:48:46.635 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 17:48:46.713 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 17:48:46.721 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 17:48:46.721 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 17:48:46.721 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 17:48:46.721 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 17:48:46.721 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 17:48:47.318 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 17:48:47.322 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 17:48:47.322 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 17:48:47.322 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 17:48:47.322 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 17:48:47.322 +02:00 [DBG] Error Url: /home/error
2019-07-12 17:48:47.322 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 17:48:47.374 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:48:47.374 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:48:47.383 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:48:47.384 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:48:47.384 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:48:47.384 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:48:47.391 +02:00 [DBG] Start authorize request
2019-07-12 17:48:47.391 +02:00 [DBG] Start authorize request
2019-07-12 17:48:47.416 +02:00 [DBG] No user present in authorize request
2019-07-12 17:48:47.416 +02:00 [DBG] No user present in authorize request
2019-07-12 17:48:47.424 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:48:47.424 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:48:47.465 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:48:47.465 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:48:47.550 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:48:47.550 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:48:47.589 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI92561t4uLz6vnYKUOPaymtqX29qKELIAezEnhxkqLO1M8vwY0Wpby5TpvMG-eoJjNNLO7Z8oIaU-1eds1QenJ-FQFo1BTqi203-z7vrCNjwY820k6jKe4Kwr7KuaT3kq6jHhBIm6TkIeQf32rU7dl0O_fsvSB6hOfiuI1nJcXRBqf_t6VwdW58y42rWprrQhEvGp5oalO8i1JCs9u8GKug0IT7GHt6SLvj5aBKThVC-dBxb7zRoszAcn4T4ieAsZwl3Kn9admmgZiOHa3GhvSSX_0jZi-2t6Pq6YRlGr700apRQ","UiLocales":null,"Nonce":"636985433229500925.OGE2MTE4NzYtMjkwNS00ZjcxLTg2NDEtOWEyMjYyYzI2YjdkYWY5NDI4MWMtNGMzMC00MjdiLWJkZDEtZWQ5YjExOTViMzQ1","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985433229500925.OGE2MTE4NzYtMjkwNS00ZjcxLTg2NDEtOWEyMjYyYzI2YjdkYWY5NDI4MWMtNGMzMC00MjdiLWJkZDEtZWQ5YjExOTViMzQ1","state":"CfDJ8NxwjiZxUEdNkONpYNI92561t4uLz6vnYKUOPaymtqX29qKELIAezEnhxkqLO1M8vwY0Wpby5TpvMG-eoJjNNLO7Z8oIaU-1eds1QenJ-FQFo1BTqi203-z7vrCNjwY820k6jKe4Kwr7KuaT3kq6jHhBIm6TkIeQf32rU7dl0O_fsvSB6hOfiuI1nJcXRBqf_t6VwdW58y42rWprrQhEvGp5oalO8i1JCs9u8GKug0IT7GHt6SLvj5aBKThVC-dBxb7zRoszAcn4T4ieAsZwl3Kn9admmgZiOHa3GhvSSX_0jZi-2t6Pq6YRlGr700apRQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:48:47.589 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI92561t4uLz6vnYKUOPaymtqX29qKELIAezEnhxkqLO1M8vwY0Wpby5TpvMG-eoJjNNLO7Z8oIaU-1eds1QenJ-FQFo1BTqi203-z7vrCNjwY820k6jKe4Kwr7KuaT3kq6jHhBIm6TkIeQf32rU7dl0O_fsvSB6hOfiuI1nJcXRBqf_t6VwdW58y42rWprrQhEvGp5oalO8i1JCs9u8GKug0IT7GHt6SLvj5aBKThVC-dBxb7zRoszAcn4T4ieAsZwl3Kn9admmgZiOHa3GhvSSX_0jZi-2t6Pq6YRlGr700apRQ","UiLocales":null,"Nonce":"636985433229500925.OGE2MTE4NzYtMjkwNS00ZjcxLTg2NDEtOWEyMjYyYzI2YjdkYWY5NDI4MWMtNGMzMC00MjdiLWJkZDEtZWQ5YjExOTViMzQ1","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985433229500925.OGE2MTE4NzYtMjkwNS00ZjcxLTg2NDEtOWEyMjYyYzI2YjdkYWY5NDI4MWMtNGMzMC00MjdiLWJkZDEtZWQ5YjExOTViMzQ1","state":"CfDJ8NxwjiZxUEdNkONpYNI92561t4uLz6vnYKUOPaymtqX29qKELIAezEnhxkqLO1M8vwY0Wpby5TpvMG-eoJjNNLO7Z8oIaU-1eds1QenJ-FQFo1BTqi203-z7vrCNjwY820k6jKe4Kwr7KuaT3kq6jHhBIm6TkIeQf32rU7dl0O_fsvSB6hOfiuI1nJcXRBqf_t6VwdW58y42rWprrQhEvGp5oalO8i1JCs9u8GKug0IT7GHt6SLvj5aBKThVC-dBxb7zRoszAcn4T4ieAsZwl3Kn9admmgZiOHa3GhvSSX_0jZi-2t6Pq6YRlGr700apRQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:48:47.630 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:48:47.630 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:48:48.147 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:48:48.148 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:48:48.148 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:48:48.155 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:48:50.016 +02:00 [INF] AuthenticationScheme: AdfsOAuth was challenged.
2019-07-12 17:48:50.551 +02:00 [INF] Error from RemoteAuthentication: access_denied;Description=MSIS9605: The client is not allowed to access the requested resource..
2019-07-12 17:48:50.553 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error was encountered while handling the remote login. ---> System.Exception: access_denied;Description=MSIS9605: The client is not allowed to access the requested resource.
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 17:49:35.711 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 17:49:35.768 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 17:49:35.773 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 17:49:35.773 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 17:49:35.773 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 17:49:35.773 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 17:49:35.773 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 17:49:36.378 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 17:49:36.381 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 17:49:36.381 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 17:49:36.381 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 17:49:36.381 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 17:49:36.381 +02:00 [DBG] Error Url: /home/error
2019-07-12 17:49:36.381 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 17:49:36.420 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:49:36.428 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:49:36.428 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:49:36.435 +02:00 [DBG] Start authorize request
2019-07-12 17:49:36.452 +02:00 [DBG] No user present in authorize request
2019-07-12 17:49:36.459 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:49:36.483 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:49:36.532 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:49:36.551 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254VifWEKFL_blCk3w7CV67cyQn9ew79G4Y3yd-s_iNmkaBjihbNxCGXzhJj4uf_SycV2W7OHZ1yhkb_XSvBOXWmNVjw8Ik2KeoNLwur5T7Sh_dxWM9P2puLTXSuVLMUZTqG3ZrXjarFrCnKfYhr0bkJv8AZjOATLRxkvZKbiXg9XeGIU0Xn7VrkldRqB4unhNZ8fJJMI9nJ1ijTGEO1qBv4ACADpE5h__59lztq8qdPvWeLM9O1VetBGMHPBjan0QKI3-MfUORcdaur4LyNL8jsgFfaS_c2-PjYh23FmHiAZg","UiLocales":null,"Nonce":"636985433730734473.NjUyZWMwOTgtYzZlZi00MzcwLTg2YTMtZTFjMGZiMDE5YzQ3OGExZWNhMDItYjdhZC00ZDE4LTk5MTEtOWM0MmNkNTVkNzdm","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985433730734473.NjUyZWMwOTgtYzZlZi00MzcwLTg2YTMtZTFjMGZiMDE5YzQ3OGExZWNhMDItYjdhZC00ZDE4LTk5MTEtOWM0MmNkNTVkNzdm","state":"CfDJ8NxwjiZxUEdNkONpYNI9254VifWEKFL_blCk3w7CV67cyQn9ew79G4Y3yd-s_iNmkaBjihbNxCGXzhJj4uf_SycV2W7OHZ1yhkb_XSvBOXWmNVjw8Ik2KeoNLwur5T7Sh_dxWM9P2puLTXSuVLMUZTqG3ZrXjarFrCnKfYhr0bkJv8AZjOATLRxkvZKbiXg9XeGIU0Xn7VrkldRqB4unhNZ8fJJMI9nJ1ijTGEO1qBv4ACADpE5h__59lztq8qdPvWeLM9O1VetBGMHPBjan0QKI3-MfUORcdaur4LyNL8jsgFfaS_c2-PjYh23FmHiAZg","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:49:36.578 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:49:36.911 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:49:36.911 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:49:36.912 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:49:36.917 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:49:37.219 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:49:37.220 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:49:37.222 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:49:37.222 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:49:55.084 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:49:55.084 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:49:55.084 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:49:55.084 +02:00 [DBG] Start authorize request
2019-07-12 17:49:55.086 +02:00 [DBG] No user present in authorize request
2019-07-12 17:49:55.086 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:49:55.086 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:49:55.087 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:49:55.087 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256TB8XnXEt22hBfiTOntw2SFP8Upznqyer0L8nNP78LIVWfGdFOAedNvwFI0TOMEyMCVOkihgbOEmSBAdfs-34HplHizYwtRVqFDASo-B-8VXCPocvxilfU7hUB5qHnnSh2r8JIgVMN0uDLMdzcJgRtCyaDuSn-XRdPUtJ6vjlW5246akHQpkAaRTj1FBs2F6y04oR9bJ5PrktLA8VqKrUTtZCc2XYNI7eU_PxRxH1D3ogJxAxP1gvONEDa3SoVPMy0RfIaoMhRs9JQFeLVhiKaf3GihMWa_KeX2RMOWUHZbg","UiLocales":null,"Nonce":"636985433950707055.MTIyNjViNWYtZmY3ZC00NmRlLTljNDAtNmU2YzE2NTZlNzlhNDI2MDc0NjItYTFkZS00NWE4LTkzOWUtNWI3MzBmZGEyNzZm","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985433950707055.MTIyNjViNWYtZmY3ZC00NmRlLTljNDAtNmU2YzE2NTZlNzlhNDI2MDc0NjItYTFkZS00NWE4LTkzOWUtNWI3MzBmZGEyNzZm","state":"CfDJ8NxwjiZxUEdNkONpYNI9256TB8XnXEt22hBfiTOntw2SFP8Upznqyer0L8nNP78LIVWfGdFOAedNvwFI0TOMEyMCVOkihgbOEmSBAdfs-34HplHizYwtRVqFDASo-B-8VXCPocvxilfU7hUB5qHnnSh2r8JIgVMN0uDLMdzcJgRtCyaDuSn-XRdPUtJ6vjlW5246akHQpkAaRTj1FBs2F6y04oR9bJ5PrktLA8VqKrUTtZCc2XYNI7eU_PxRxH1D3ogJxAxP1gvONEDa3SoVPMy0RfIaoMhRs9JQFeLVhiKaf3GihMWa_KeX2RMOWUHZbg","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:49:55.087 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:49:55.105 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:49:55.106 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:49:55.106 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:49:55.108 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:49:58.210 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 17:50:43.354 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 17:50:43.438 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 17:50:43.444 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 17:50:43.444 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 17:50:43.444 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 17:50:43.445 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 17:50:43.445 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 17:50:43.874 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 17:50:43.877 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 17:50:43.877 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 17:50:43.877 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 17:50:43.877 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 17:50:43.877 +02:00 [DBG] Error Url: /home/error
2019-07-12 17:50:43.877 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 17:50:43.923 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:50:43.931 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:50:43.931 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:50:43.938 +02:00 [DBG] Start authorize request
2019-07-12 17:50:43.956 +02:00 [DBG] No user present in authorize request
2019-07-12 17:50:43.963 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:50:43.988 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:50:44.043 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:50:44.065 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9255uTok8S7Ev_75NTPdfffvNIs-A4-fj5lSJBUp3i3VRGy5ms_v06TZCERUK5X0WO0UBaQXn0dQZXtLKStdoMwrdPag_6qKpTSqNgEs-3MCSan0ERwvRTr4b_v-xpNqFih5vVYWg-AZTsbN16RILtBJRcGYt_BE5QLovJ7MCrMhF6DifsnxKVMZgIE8a-f7_jaQLgShNiJwx9AbZYg76EPr63zvLRJjFIJd1_NyO1C8sN3S64UUu30-6WtojYhhTOiLwxs8H2ALo_qGx7xRG4cbOx7YJesLjYCvNHZf8vBQGQQ","UiLocales":null,"Nonce":"636985434403058737.MzZjYjc4YzgtZWMwOS00NmUzLTllMTUtZTM1ZmE5MTM0NmQ3ZjMwMmU4NmUtNWE1ZC00ZjQyLTg5MzktMTIzNmQ1ZTRjZWVm","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985434403058737.MzZjYjc4YzgtZWMwOS00NmUzLTllMTUtZTM1ZmE5MTM0NmQ3ZjMwMmU4NmUtNWE1ZC00ZjQyLTg5MzktMTIzNmQ1ZTRjZWVm","state":"CfDJ8NxwjiZxUEdNkONpYNI9255uTok8S7Ev_75NTPdfffvNIs-A4-fj5lSJBUp3i3VRGy5ms_v06TZCERUK5X0WO0UBaQXn0dQZXtLKStdoMwrdPag_6qKpTSqNgEs-3MCSan0ERwvRTr4b_v-xpNqFih5vVYWg-AZTsbN16RILtBJRcGYt_BE5QLovJ7MCrMhF6DifsnxKVMZgIE8a-f7_jaQLgShNiJwx9AbZYg76EPr63zvLRJjFIJd1_NyO1C8sN3S64UUu30-6WtojYhhTOiLwxs8H2ALo_qGx7xRG4cbOx7YJesLjYCvNHZf8vBQGQQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:50:44.097 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:50:44.449 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:50:44.449 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:50:44.450 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:50:44.454 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:50:48.374 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 17:50:58.449 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:50:58.449 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:50:58.449 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:50:58.450 +02:00 [DBG] Start authorize request
2019-07-12 17:50:58.450 +02:00 [DBG] No user present in authorize request
2019-07-12 17:50:58.450 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:50:58.450 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:50:58.450 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:50:58.451 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256y11KiaGBl0veArbrg4Ka-uQd6EcDXGJ-tiXRLLA25oW11FM4AUC6lFFppWniaeqRZAWigyCnDxBk86sW4w0JhyEj7kdX3pfStSckGT2kklEQkgLe8EVZS_wdJjHbN5E8WlqYGhRFMdVP48HLMijwqqWlFOdjS2IMaisJkMHPVw6fS6VuF7ih27PJahUFHUEc4awdjg7xEsb8FLgIrK4DZwQR9syYjbbwbI8tyZ4CL6RhRL25XStS6ImA-NlNgGSDQO8TqA_uJNw-bQbq5xALFC5sX2yvZYQBPUeEGo7wiSQ","UiLocales":null,"Nonce":"636985434584296539.ZjRhY2IzMjQtZmQyZC00NDdhLWEzYzEtMDBmMjUyZjQxODA3YTNlNmE3NTItODFkYS00YjIyLWI5NTktMWMxMzZhODg3MmU4","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985434584296539.ZjRhY2IzMjQtZmQyZC00NDdhLWEzYzEtMDBmMjUyZjQxODA3YTNlNmE3NTItODFkYS00YjIyLWI5NTktMWMxMzZhODg3MmU4","state":"CfDJ8NxwjiZxUEdNkONpYNI9256y11KiaGBl0veArbrg4Ka-uQd6EcDXGJ-tiXRLLA25oW11FM4AUC6lFFppWniaeqRZAWigyCnDxBk86sW4w0JhyEj7kdX3pfStSckGT2kklEQkgLe8EVZS_wdJjHbN5E8WlqYGhRFMdVP48HLMijwqqWlFOdjS2IMaisJkMHPVw6fS6VuF7ih27PJahUFHUEc4awdjg7xEsb8FLgIrK4DZwQR9syYjbbwbI8tyZ4CL6RhRL25XStS6ImA-NlNgGSDQO8TqA_uJNw-bQbq5xALFC5sX2yvZYQBPUeEGo7wiSQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:50:58.451 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:50:58.463 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:50:58.463 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:50:58.463 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:50:58.463 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:50:59.060 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:50:59.060 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:50:59.064 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:50:59.065 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:51:00.824 +02:00 [INF] AuthenticationScheme: AdfsOAuth was challenged.
2019-07-12 17:51:01.023 +02:00 [INF] Error from RemoteAuthentication: access_denied;Description=MSIS9605: The client is not allowed to access the requested resource..
2019-07-12 17:51:01.026 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error was encountered while handling the remote login. ---> System.Exception: access_denied;Description=MSIS9605: The client is not allowed to access the requested resource.
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 17:51:27.311 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:51:27.312 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:51:27.312 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:51:27.313 +02:00 [DBG] Start authorize request
2019-07-12 17:51:27.313 +02:00 [DBG] No user present in authorize request
2019-07-12 17:51:27.313 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:51:27.313 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:51:27.314 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:51:27.315 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9255t1bTSWMIAlLxWqafLJxpYvvBdhWpnow_YAIUkhqAi3TdbFioX01vVR2P8QiUZeZmg0cDNy6QEEzxcw2zU-sQDdPYi_OM3KJy4__gZkWvhKsfLAy6J-OXtJuG8SRyqHybMoVdI6A52aGiv8OWeS08S-EYEF22CroHKUEuKJR4gVVczJBLHUUw7djRAokdgETVEBu2zuUGQXS8H_kieXwOOAraBuc1d17JL8xJvTUBnoG7FvFzom5YNdQXlqB0th8mTG_RwZ9OPnDeQgvCti0IsQt2nOP--BhMOP0cuB_4E0w","UiLocales":null,"Nonce":"636985434872957404.NDIxYmFhN2YtMWQzZi00YWJiLTg2YTktYTFkYWNhNzkyMGY1N2NlNzg5M2UtNGRjMi00NTdjLWE5ZGEtOGU2ZGJlNjIzMmQ5","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985434872957404.NDIxYmFhN2YtMWQzZi00YWJiLTg2YTktYTFkYWNhNzkyMGY1N2NlNzg5M2UtNGRjMi00NTdjLWE5ZGEtOGU2ZGJlNjIzMmQ5","state":"CfDJ8NxwjiZxUEdNkONpYNI9255t1bTSWMIAlLxWqafLJxpYvvBdhWpnow_YAIUkhqAi3TdbFioX01vVR2P8QiUZeZmg0cDNy6QEEzxcw2zU-sQDdPYi_OM3KJy4__gZkWvhKsfLAy6J-OXtJuG8SRyqHybMoVdI6A52aGiv8OWeS08S-EYEF22CroHKUEuKJR4gVVczJBLHUUw7djRAokdgETVEBu2zuUGQXS8H_kieXwOOAraBuc1d17JL8xJvTUBnoG7FvFzom5YNdQXlqB0th8mTG_RwZ9OPnDeQgvCti0IsQt2nOP--BhMOP0cuB_4E0w","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:51:27.315 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:51:27.326 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:51:27.327 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:51:27.327 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:51:27.328 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:51:29.067 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:51:29.068 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:51:29.068 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:51:29.068 +02:00 [DBG] Start authorize request
2019-07-12 17:51:29.068 +02:00 [DBG] No user present in authorize request
2019-07-12 17:51:29.068 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:51:29.068 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:51:29.069 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:51:29.069 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257ahJK-34bGUNFY6qOfRKsAZHX5dSmd_6xZKiNykYpewGBbqN4YPhpXslPxVeirdcfP6jdZRHgxT0Jk0R7EyFH-Jy1k_W1bK3JbH8TllDuB0qoCbmBFpVpOsyL66-PbiYpQ8-45UUu5moyMp70admgH195xbOJ6oxHOm2mlH6guftNjZiz4thY02CDZkrqsyaZmrgEafmACzw8cRr3FpFkCo1i68BTBe5bKi3zxByVJlFv2To0SBmuLMgcB0JpRmMyLPWMwySK4kZ3Bae1X3cCjr296yXiMXbtLrSsSTRnGPw","UiLocales":null,"Nonce":"636985434890523210.YzlmZmE1NjItYTkwMS00NWZkLWJmMzktNTc2MDZhMjUyNTZiYzQwNmU1MTktMDY5NC00OTA5LWE4MmQtYTk5M2EzMGMwYjAz","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985434890523210.YzlmZmE1NjItYTkwMS00NWZkLWJmMzktNTc2MDZhMjUyNTZiYzQwNmU1MTktMDY5NC00OTA5LWE4MmQtYTk5M2EzMGMwYjAz","state":"CfDJ8NxwjiZxUEdNkONpYNI9257ahJK-34bGUNFY6qOfRKsAZHX5dSmd_6xZKiNykYpewGBbqN4YPhpXslPxVeirdcfP6jdZRHgxT0Jk0R7EyFH-Jy1k_W1bK3JbH8TllDuB0qoCbmBFpVpOsyL66-PbiYpQ8-45UUu5moyMp70admgH195xbOJ6oxHOm2mlH6guftNjZiz4thY02CDZkrqsyaZmrgEafmACzw8cRr3FpFkCo1i68BTBe5bKi3zxByVJlFv2To0SBmuLMgcB0JpRmMyLPWMwySK4kZ3Bae1X3cCjr296yXiMXbtLrSsSTRnGPw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:51:29.070 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:51:29.084 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:51:29.084 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:51:29.084 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:51:29.084 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:51:30.733 +02:00 [INF] AuthenticationScheme: AdfsOAuth was challenged.
2019-07-12 17:51:31.410 +02:00 [INF] Error from RemoteAuthentication: access_denied;Description=MSIS9605: The client is not allowed to access the requested resource..
2019-07-12 17:51:31.411 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error was encountered while handling the remote login. ---> System.Exception: access_denied;Description=MSIS9605: The client is not allowed to access the requested resource.
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 17:51:32.184 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 17:52:16.097 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 17:52:16.158 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 17:52:16.162 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 17:52:16.162 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 17:52:16.162 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 17:52:16.162 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 17:52:16.162 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 17:52:16.581 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 17:52:16.584 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 17:52:16.584 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 17:52:16.584 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 17:52:16.584 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 17:52:16.584 +02:00 [DBG] Error Url: /home/error
2019-07-12 17:52:16.585 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 17:52:16.627 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:52:16.637 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:52:16.638 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:52:16.644 +02:00 [DBG] Start authorize request
2019-07-12 17:52:16.661 +02:00 [DBG] No user present in authorize request
2019-07-12 17:52:16.670 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:52:16.699 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:52:16.751 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:52:16.773 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI92574Z6eua0BgdFWs1Odiu3WOALKOQjn9S5oXc5NgNhV9gweHjSwrXDWMkcrB3YfbGxrdiAQ0kSLZEBumSodt2RQDMrhE0JgqxkBVj_I3ail-3GXrvUoUQmpaSi899vKNYGuK2vixeJvdOra2s0WQhS7IjZZh8lPazI-dWy8hwIMRxTkiwTwlf4Mv1QnMnL-a3hs87lPP3x7HyAq0j_qJMFFJKHgAlANHVuZC7WykvSyZQd6ipLi-_emWp5_cLv8CO3PU3QAniVYFGg2w-jlBwYBiw3MPZounTXP8e4CF8M7btQ","UiLocales":null,"Nonce":"636985435327653038.NjM0YWQ0YjUtODk0MC00ODg3LWI3YTQtNjNlY2NmYzUwNzc3MjFhM2Y3MWQtOTJiYy00ZDE3LWI1ZGEtYjg5OTYwZWVlNWJj","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985435327653038.NjM0YWQ0YjUtODk0MC00ODg3LWI3YTQtNjNlY2NmYzUwNzc3MjFhM2Y3MWQtOTJiYy00ZDE3LWI1ZGEtYjg5OTYwZWVlNWJj","state":"CfDJ8NxwjiZxUEdNkONpYNI92574Z6eua0BgdFWs1Odiu3WOALKOQjn9S5oXc5NgNhV9gweHjSwrXDWMkcrB3YfbGxrdiAQ0kSLZEBumSodt2RQDMrhE0JgqxkBVj_I3ail-3GXrvUoUQmpaSi899vKNYGuK2vixeJvdOra2s0WQhS7IjZZh8lPazI-dWy8hwIMRxTkiwTwlf4Mv1QnMnL-a3hs87lPP3x7HyAq0j_qJMFFJKHgAlANHVuZC7WykvSyZQd6ipLi-_emWp5_cLv8CO3PU3QAniVYFGg2w-jlBwYBiw3MPZounTXP8e4CF8M7btQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:52:16.802 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:52:17.113 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:52:17.114 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:52:17.114 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:52:17.119 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:52:19.299 +02:00 [INF] AuthenticationScheme: AdfsOAuth was challenged.
2019-07-12 17:52:47.764 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:52:47.765 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:52:47.769 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:52:47.769 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:52:50.759 +02:00 [INF] AuthenticationScheme: AdfsOAuth was challenged.
2019-07-12 17:52:55.647 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:52:55.647 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:52:55.653 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:52:55.653 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:53:07.988 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 17:56:48.018 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 17:56:48.076 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 17:56:48.082 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 17:56:48.082 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 17:56:48.082 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 17:56:48.083 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 17:56:48.083 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 17:56:48.656 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 17:56:48.659 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 17:56:48.659 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 17:56:48.659 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 17:56:48.659 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 17:56:48.659 +02:00 [DBG] Error Url: /home/error
2019-07-12 17:56:48.659 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 17:56:48.701 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:56:48.711 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:56:48.711 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:56:48.717 +02:00 [DBG] Start authorize request
2019-07-12 17:56:48.737 +02:00 [DBG] No user present in authorize request
2019-07-12 17:56:48.745 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:56:48.768 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:56:48.823 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:56:48.851 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:56:48.851 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:56:48.852 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:56:48.852 +02:00 [DBG] Start authorize request
2019-07-12 17:56:48.852 +02:00 [DBG] No user present in authorize request
2019-07-12 17:56:48.852 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:56:48.852 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:56:48.853 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:56:48.855 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254cqffORiWjUEjP0i2VdjiGtsVoLI0tqdqlRJyVHubIAIhe-U2Cc8Fl-tyqn8MJyCzHnOaMBgCkTg32eB093G1-Sca-lSBmPuD5OCEKK06g4ZJxTaf7MCOMyZye8mhq5-GxzXAlyFD9ViveDXzQ2gdO39LPQX9lmj2vDZs7a6gwZ6guYYnkvVx9zpT6-O29CEPwOX3jwzAFmFpC8-bg5HDFH8FMRBV_1b_jeKMwRPtpw-8zkj6PhwHLQ3JWtwZqIBeFFQhgcDFdFHeE4hb5Tn9xGmi0K8Yl2BBqexRAHgDrSQ","UiLocales":null,"Nonce":"636985438048494422.ZjFlNGYyYjctNmI4MS00MTA0LWI2MjctMzA2NzRiN2M4ZDMxMzdlYzIxNTktMWMwOC00ZTcyLTliMDItOGRlODg1Mzk2OTdk","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985438048494422.ZjFlNGYyYjctNmI4MS00MTA0LWI2MjctMzA2NzRiN2M4ZDMxMzdlYzIxNTktMWMwOC00ZTcyLTliMDItOGRlODg1Mzk2OTdk","state":"CfDJ8NxwjiZxUEdNkONpYNI9254cqffORiWjUEjP0i2VdjiGtsVoLI0tqdqlRJyVHubIAIhe-U2Cc8Fl-tyqn8MJyCzHnOaMBgCkTg32eB093G1-Sca-lSBmPuD5OCEKK06g4ZJxTaf7MCOMyZye8mhq5-GxzXAlyFD9ViveDXzQ2gdO39LPQX9lmj2vDZs7a6gwZ6guYYnkvVx9zpT6-O29CEPwOX3jwzAFmFpC8-bg5HDFH8FMRBV_1b_jeKMwRPtpw-8zkj6PhwHLQ3JWtwZqIBeFFQhgcDFdFHeE4hb5Tn9xGmi0K8Yl2BBqexRAHgDrSQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:56:48.855 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254cqffORiWjUEjP0i2VdjiGtsVoLI0tqdqlRJyVHubIAIhe-U2Cc8Fl-tyqn8MJyCzHnOaMBgCkTg32eB093G1-Sca-lSBmPuD5OCEKK06g4ZJxTaf7MCOMyZye8mhq5-GxzXAlyFD9ViveDXzQ2gdO39LPQX9lmj2vDZs7a6gwZ6guYYnkvVx9zpT6-O29CEPwOX3jwzAFmFpC8-bg5HDFH8FMRBV_1b_jeKMwRPtpw-8zkj6PhwHLQ3JWtwZqIBeFFQhgcDFdFHeE4hb5Tn9xGmi0K8Yl2BBqexRAHgDrSQ","UiLocales":null,"Nonce":"636985438048494422.ZjFlNGYyYjctNmI4MS00MTA0LWI2MjctMzA2NzRiN2M4ZDMxMzdlYzIxNTktMWMwOC00ZTcyLTliMDItOGRlODg1Mzk2OTdk","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985438048494422.ZjFlNGYyYjctNmI4MS00MTA0LWI2MjctMzA2NzRiN2M4ZDMxMzdlYzIxNTktMWMwOC00ZTcyLTliMDItOGRlODg1Mzk2OTdk","state":"CfDJ8NxwjiZxUEdNkONpYNI9254cqffORiWjUEjP0i2VdjiGtsVoLI0tqdqlRJyVHubIAIhe-U2Cc8Fl-tyqn8MJyCzHnOaMBgCkTg32eB093G1-Sca-lSBmPuD5OCEKK06g4ZJxTaf7MCOMyZye8mhq5-GxzXAlyFD9ViveDXzQ2gdO39LPQX9lmj2vDZs7a6gwZ6guYYnkvVx9zpT6-O29CEPwOX3jwzAFmFpC8-bg5HDFH8FMRBV_1b_jeKMwRPtpw-8zkj6PhwHLQ3JWtwZqIBeFFQhgcDFdFHeE4hb5Tn9xGmi0K8Yl2BBqexRAHgDrSQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:56:48.902 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:56:48.902 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:56:49.258 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:56:49.258 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:56:49.259 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:56:49.263 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:56:51.123 +02:00 [INF] AuthenticationScheme: AdfsOAuth was challenged.
2019-07-12 17:57:18.124 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:57:18.125 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:57:18.126 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:57:18.127 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:57:20.644 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 17:58:22.950 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 17:58:23.037 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 17:58:23.043 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 17:58:23.044 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 17:58:23.044 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 17:58:23.044 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 17:58:23.044 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 17:58:24.339 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 17:58:24.350 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 17:58:24.351 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 17:58:24.351 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 17:58:24.351 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 17:58:24.351 +02:00 [DBG] Error Url: /home/error
2019-07-12 17:58:24.351 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 17:58:48.179 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:58:48.194 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:58:48.195 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:58:48.204 +02:00 [DBG] Start authorize request
2019-07-12 17:58:48.223 +02:00 [DBG] No user present in authorize request
2019-07-12 17:58:48.232 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:58:48.269 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:58:48.355 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:58:48.389 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257JraeBdRz4bNVgddDyBfntzmXh9a7w6RtXkB-xfVMiDyEPs5hYFJdVH80-fgWebyUyhlYOMAhr8ZHprCpQtsFsm5y5ZMbHNed7dBFm24uQ5H2YHu3VRssrHO8vImUw8pHOF30EvwWOzkXhC3PqMVBFVd3lLzsSG-W4RwarJbowSx5DNjqIzWQ0pourRvxykgdL3vve1XvuPilJA_adFFOqFNqWa8LQW09tgIEkfbszk88RwatTwATFrN-tTTrj9l23J6ktqLJs5DQwGLKu6TqM-EAH3R3gVNwv_J0Y3PCQrg","UiLocales":null,"Nonce":"636985439281382822.ZDVkY2RlNjctZDZmYS00NjA4LTljM2ItYTJlZmQ0NmU0ZDA5OWI2ODI0ZGQtMDVmOS00ZWNhLTk3ZWQtMmIyYzIzYjlkY2U2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985439281382822.ZDVkY2RlNjctZDZmYS00NjA4LTljM2ItYTJlZmQ0NmU0ZDA5OWI2ODI0ZGQtMDVmOS00ZWNhLTk3ZWQtMmIyYzIzYjlkY2U2","state":"CfDJ8NxwjiZxUEdNkONpYNI9257JraeBdRz4bNVgddDyBfntzmXh9a7w6RtXkB-xfVMiDyEPs5hYFJdVH80-fgWebyUyhlYOMAhr8ZHprCpQtsFsm5y5ZMbHNed7dBFm24uQ5H2YHu3VRssrHO8vImUw8pHOF30EvwWOzkXhC3PqMVBFVd3lLzsSG-W4RwarJbowSx5DNjqIzWQ0pourRvxykgdL3vve1XvuPilJA_adFFOqFNqWa8LQW09tgIEkfbszk88RwatTwATFrN-tTTrj9l23J6ktqLJs5DQwGLKu6TqM-EAH3R3gVNwv_J0Y3PCQrg","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:58:48.435 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:58:48.559 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:58:48.560 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:58:48.560 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:58:48.566 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:58:48.842 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:58:48.844 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:58:48.844 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:58:48.845 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:58:51.063 +02:00 [INF] AuthenticationScheme: AdfsOAuth was challenged.
2019-07-12 17:59:07.843 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 17:59:10.744 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Unknown userid
   at IdentityServer4.Quickstart.UI.ExternalController.FindUserFromExternalProvider(AuthenticateResult result) in C:\Users\P7G8\source\repos\IdentityServer\quickstart\IdentityServer\Quickstart\Account\ExternalController.cs:line 192
   at IdentityServer4.Quickstart.UI.ExternalController.Callback() in C:\Users\P7G8\source\repos\IdentityServer\quickstart\IdentityServer\Quickstart\Account\ExternalController.cs:line 95
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 17:59:24.512 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 17:59:24.514 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 17:59:24.514 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 17:59:24.515 +02:00 [DBG] Start authorize request
2019-07-12 17:59:24.515 +02:00 [DBG] No user present in authorize request
2019-07-12 17:59:24.515 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:59:24.515 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:59:24.515 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:59:24.516 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257R1Lnk_JBoobTEUbVOXmY9cHsDpffMNhRXJf2figYFHOvnHmTGT5XWLtAZTcqATJmKI7K2RQ3YGml5xrDYlfUbJp1wXX6Dx_ZJdOXd1p4w23QcpzhydQGsOJhPK8dzRyZo-hNvLhtTkJ4jAFBeE_0ASSWlkN6KfNPJ4JI9ofvZtxm8FPcV9hrcdU_CNxG7R8SzpH3oVswgekRsfeu76t3fLpaqhPt3AUhITYmd6PF_YHNj5YwyWeD3O-Ztg8KHn7dJyPhGbwucezBANO1HGFFZRcJyu41lUS6hu66aU4YgSw","UiLocales":null,"Nonce":"636985439645002016.MDJhNzM0YmEtYjFmMy00ZTllLWExNDctYjYxMzBmNTJjNzEyNjRiNzJkODUtY2I4ZC00MDdmLTg3ZTYtZmZiMjdiZTVlYmJj","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985439645002016.MDJhNzM0YmEtYjFmMy00ZTllLWExNDctYjYxMzBmNTJjNzEyNjRiNzJkODUtY2I4ZC00MDdmLTg3ZTYtZmZiMjdiZTVlYmJj","state":"CfDJ8NxwjiZxUEdNkONpYNI9257R1Lnk_JBoobTEUbVOXmY9cHsDpffMNhRXJf2figYFHOvnHmTGT5XWLtAZTcqATJmKI7K2RQ3YGml5xrDYlfUbJp1wXX6Dx_ZJdOXd1p4w23QcpzhydQGsOJhPK8dzRyZo-hNvLhtTkJ4jAFBeE_0ASSWlkN6KfNPJ4JI9ofvZtxm8FPcV9hrcdU_CNxG7R8SzpH3oVswgekRsfeu76t3fLpaqhPt3AUhITYmd6PF_YHNj5YwyWeD3O-Ztg8KHn7dJyPhGbwucezBANO1HGFFZRcJyu41lUS6hu66aU4YgSw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 17:59:24.516 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 17:59:30.270 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:59:30.270 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:59:30.271 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:59:30.272 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:59:33.226 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 17:59:33.226 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:59:33.227 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 17:59:33.227 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 17:59:35.641 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 17:59:36.028 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 17:59:36.351 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 18:03:28.859 +02:00 [DBG] Augmenting SignInContext
2019-07-12 18:03:28.864 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 18:03:28.872 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 18:03:30.190 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 18:03:39.155 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 18:03:39.156 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 18:03:39.156 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 18:03:43.557 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 18:03:54.959 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 18:03:54.960 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 18:03:54.960 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 18:03:54.973 +02:00 [DBG] Start authorize callback request
2019-07-12 18:03:54.985 +02:00 [DBG] User in authorize request: 2d4e363cac2d38dadc4d6e59449a27a57c511aa29e274025562f555c45c64b22
2019-07-12 18:03:54.985 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 18:03:54.985 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 18:03:54.986 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 18:03:54.986 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"2d4e363cac2d38dadc4d6e59449a27a57c511aa29e274025562f555c45c64b22","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257R1Lnk_JBoobTEUbVOXmY9cHsDpffMNhRXJf2figYFHOvnHmTGT5XWLtAZTcqATJmKI7K2RQ3YGml5xrDYlfUbJp1wXX6Dx_ZJdOXd1p4w23QcpzhydQGsOJhPK8dzRyZo-hNvLhtTkJ4jAFBeE_0ASSWlkN6KfNPJ4JI9ofvZtxm8FPcV9hrcdU_CNxG7R8SzpH3oVswgekRsfeu76t3fLpaqhPt3AUhITYmd6PF_YHNj5YwyWeD3O-Ztg8KHn7dJyPhGbwucezBANO1HGFFZRcJyu41lUS6hu66aU4YgSw","UiLocales":null,"Nonce":"636985439645002016.MDJhNzM0YmEtYjFmMy00ZTllLWExNDctYjYxMzBmNTJjNzEyNjRiNzJkODUtY2I4ZC00MDdmLTg3ZTYtZmZiMjdiZTVlYmJj","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"71a9859d3351fba98698e71937d94703","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985439645002016.MDJhNzM0YmEtYjFmMy00ZTllLWExNDctYjYxMzBmNTJjNzEyNjRiNzJkODUtY2I4ZC00MDdmLTg3ZTYtZmZiMjdiZTVlYmJj","state":"CfDJ8NxwjiZxUEdNkONpYNI9257R1Lnk_JBoobTEUbVOXmY9cHsDpffMNhRXJf2figYFHOvnHmTGT5XWLtAZTcqATJmKI7K2RQ3YGml5xrDYlfUbJp1wXX6Dx_ZJdOXd1p4w23QcpzhydQGsOJhPK8dzRyZo-hNvLhtTkJ4jAFBeE_0ASSWlkN6KfNPJ4JI9ofvZtxm8FPcV9hrcdU_CNxG7R8SzpH3oVswgekRsfeu76t3fLpaqhPt3AUhITYmd6PF_YHNj5YwyWeD3O-Ztg8KHn7dJyPhGbwucezBANO1HGFFZRcJyu41lUS6hu66aU4YgSw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 18:03:54.988 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 18:03:55.019 +02:00 [DBG] user_consent grant with value: mvc|2d4e363cac2d38dadc4d6e59449a27a57c511aa29e274025562f555c45c64b22 not found in store.
2019-07-12 18:03:55.020 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 18:03:55.020 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 18:03:55.073 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 18:03:55.073 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 18:03:55.073 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 18:03:55.074 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 18:18:10.916 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 18:18:10.998 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 18:18:11.007 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 18:18:11.009 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 18:18:11.011 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 18:18:11.012 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 18:18:11.012 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 18:18:12.086 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 18:18:12.096 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 18:18:12.097 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 18:18:12.098 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 18:18:12.099 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 18:18:12.099 +02:00 [DBG] Error Url: /home/error
2019-07-12 18:18:12.099 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 18:18:39.412 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 18:18:46.040 +02:00 [INF] AuthenticationScheme: AdfsOAuth was challenged.
2019-07-12 18:23:58.489 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 18:23:58.556 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 18:23:58.561 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 18:23:58.562 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 18:23:58.562 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 18:23:58.562 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 18:23:58.562 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 18:23:59.745 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 18:23:59.749 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 18:23:59.749 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 18:23:59.749 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 18:23:59.749 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 18:23:59.749 +02:00 [DBG] Error Url: /home/error
2019-07-12 18:23:59.749 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 18:24:20.198 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 18:24:22.044 +02:00 [INF] AuthenticationScheme: AdfsOAuth was challenged.
2019-07-12 18:29:59.992 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 18:30:00.078 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 18:30:00.092 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 18:30:00.093 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 18:30:00.093 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 18:30:00.094 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 18:30:00.094 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 18:30:01.291 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 18:30:01.296 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 18:30:01.296 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 18:30:01.296 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 18:30:01.296 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 18:30:01.297 +02:00 [DBG] Error Url: /home/error
2019-07-12 18:30:01.297 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 18:30:27.877 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 18:30:27.888 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 18:30:27.888 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 18:30:27.901 +02:00 [DBG] Start authorize request
2019-07-12 18:30:27.915 +02:00 [DBG] No user present in authorize request
2019-07-12 18:30:27.925 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 18:30:27.963 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 18:30:28.042 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 18:30:28.075 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI92552FvhVF4BPKAqKRHgQvY2ujLrIY-rN2x5wbhRvKP26Rb3ZNKJXIkB-yo4QpNup0-4eAHV_he1zgX95mcEZtRz01hm-FFSIGvyWUy8cs12i80CKia6OEAewHauQ69jAd-mQ_V3trT2q9cM7t4NAj06h6dzj9EwG3-SRabKP1sHqKQtIxklWhcru3a4G4BM1nQQ3UgsLdiDNfoLv--abv471HPuyp8r_zfCQd9JPMnmMddVl6Ty-LdOeODbIiSG538-Ca4fnIXNRGg_fmBMDOCjsFHDXjP38zYqPxZoxOhQFLg","UiLocales":null,"Nonce":"636985458278420133.NTVhZWRmZGYtNmNiMS00MWMxLWE5Y2UtNjI4MTg1N2JiZDM1ZmUwZTE1NmQtNDdjOS00NmNmLTgxMTYtNWYwMGQwOWY0YjAw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985458278420133.NTVhZWRmZGYtNmNiMS00MWMxLWE5Y2UtNjI4MTg1N2JiZDM1ZmUwZTE1NmQtNDdjOS00NmNmLTgxMTYtNWYwMGQwOWY0YjAw","state":"CfDJ8NxwjiZxUEdNkONpYNI92552FvhVF4BPKAqKRHgQvY2ujLrIY-rN2x5wbhRvKP26Rb3ZNKJXIkB-yo4QpNup0-4eAHV_he1zgX95mcEZtRz01hm-FFSIGvyWUy8cs12i80CKia6OEAewHauQ69jAd-mQ_V3trT2q9cM7t4NAj06h6dzj9EwG3-SRabKP1sHqKQtIxklWhcru3a4G4BM1nQQ3UgsLdiDNfoLv--abv471HPuyp8r_zfCQd9JPMnmMddVl6Ty-LdOeODbIiSG538-Ca4fnIXNRGg_fmBMDOCjsFHDXjP38zYqPxZoxOhQFLg","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 18:30:28.121 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 18:30:28.232 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 18:30:28.232 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 18:30:28.233 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 18:30:28.239 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 18:30:29.517 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 18:30:29.520 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 18:30:29.520 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 18:30:29.521 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 18:30:31.701 +02:00 [INF] AuthenticationScheme: AdfsOAuth was challenged.
2019-07-12 19:00:03.818 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 19:00:03.940 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 19:00:03.950 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 19:00:03.950 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 19:00:03.950 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 19:00:03.950 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 19:00:03.950 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 19:00:05.545 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 19:00:05.549 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 19:00:05.549 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 19:00:05.549 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 19:00:05.549 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 19:00:05.550 +02:00 [DBG] Error Url: /home/error
2019-07-12 19:00:05.550 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 19:00:27.412 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 19:00:30.929 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 19:00:31.779 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 19:00:32.245 +02:00 [ERR] Exception occurred while processing message.
System.ArgumentException: Authority validation is not supported for this type of authority
Parameter name: validateAuthority
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Instance.Authenticator.Init(IServiceBundle serviceBundle, String authority, Boolean validateAuthority) in D:\a\1\s\src\Microsoft.IdentityModel.Clients.ActiveDirectory\Internal\Instance\Authenticator.cs:line 58
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext..ctor(String authority) in D:\a\1\s\src\Microsoft.IdentityModel.Clients.ActiveDirectory\AuthenticationContext.cs:line 69
   at IdentityServer.Startup.<>c.<<ConfigureServices>b__4_3>d.MoveNext() in C:\Users\P7G8\source\repos\IdentityServer\quickstart\IdentityServer\Startup.cs:line 121
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler.RunAuthorizationCodeReceivedEventAsync(OpenIdConnectMessage authorizationResponse, ClaimsPrincipal user, AuthenticationProperties properties, JwtSecurityToken jwt)
   at Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler.HandleRemoteAuthenticateAsync()
2019-07-12 19:00:32.440 +02:00 [INF] Error from RemoteAuthentication: Authority validation is not supported for this type of authority
Parameter name: validateAuthority.
2019-07-12 19:00:32.443 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error was encountered while handling the remote login. ---> System.ArgumentException: Authority validation is not supported for this type of authority
Parameter name: validateAuthority
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Instance.Authenticator.Init(IServiceBundle serviceBundle, String authority, Boolean validateAuthority) in D:\a\1\s\src\Microsoft.IdentityModel.Clients.ActiveDirectory\Internal\Instance\Authenticator.cs:line 58
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext..ctor(String authority) in D:\a\1\s\src\Microsoft.IdentityModel.Clients.ActiveDirectory\AuthenticationContext.cs:line 69
   at IdentityServer.Startup.<>c.<<ConfigureServices>b__4_3>d.MoveNext() in C:\Users\P7G8\source\repos\IdentityServer\quickstart\IdentityServer\Startup.cs:line 121
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler.RunAuthorizationCodeReceivedEventAsync(OpenIdConnectMessage authorizationResponse, ClaimsPrincipal user, AuthenticationProperties properties, JwtSecurityToken jwt)
   at Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler.HandleRemoteAuthenticateAsync()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 19:03:17.534 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 19:03:17.645 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 19:03:17.650 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 19:03:17.651 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 19:03:17.651 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 19:03:17.651 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 19:03:17.651 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 19:03:18.778 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 19:03:18.782 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 19:03:18.782 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 19:03:18.782 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 19:03:18.782 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 19:03:18.782 +02:00 [DBG] Error Url: /home/error
2019-07-12 19:03:18.782 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 19:03:27.510 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 19:03:33.303 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 19:03:34.111 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 19:04:24.288 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 19:05:22.933 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 19:05:23.024 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 19:05:23.032 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 19:05:23.033 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 19:05:23.033 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 19:05:23.033 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 19:05:23.033 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 19:05:23.756 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 19:05:23.758 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 19:05:23.758 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 19:05:23.758 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 19:05:23.758 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 19:05:23.759 +02:00 [DBG] Error Url: /home/error
2019-07-12 19:05:23.759 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 19:05:42.305 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 19:05:42.323 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 19:05:42.323 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 19:05:42.334 +02:00 [DBG] Start authorize request
2019-07-12 19:05:42.362 +02:00 [DBG] No user present in authorize request
2019-07-12 19:05:42.372 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:05:42.421 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:05:42.542 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:05:42.585 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9255bPN2Ey3AppuXIMHFAgUzZgyMCpPQHkbP8VwTs2mgZHC2BElKhejHfdRCqzjHy8WsIySh48nbYGovuZJDwouBhQ6gPII9Oi3Mj0w8fScoeiWOxPVRAPnWUUZWdORoGS2ck021frykaPsbQyit3J3ui5sCweqfNE_UgLA05napUGQMyzXP1iPVCzUgosgar3PNP1V65HQWJ1F6oIteBRlfblxcjPnR2Ess3DAHo3Xz9SVVqd2Rc7RNMVYc_dHcdcLSNxVPMFn7k8-maVTH3dO1wkp8IR6r59l_J4ByUB8AONQ","UiLocales":null,"Nonce":"636985479422706063.NzI1ZWRhZDAtYjI0ZS00ZmMyLWIwNjItMmFjYzYyZWY5M2E4ZDEwNTlhNGMtMDhhMi00YjE4LWFmZjYtMDkyMTgyNWYzNGI0","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985479422706063.NzI1ZWRhZDAtYjI0ZS00ZmMyLWIwNjItMmFjYzYyZWY5M2E4ZDEwNTlhNGMtMDhhMi00YjE4LWFmZjYtMDkyMTgyNWYzNGI0","state":"CfDJ8NxwjiZxUEdNkONpYNI9255bPN2Ey3AppuXIMHFAgUzZgyMCpPQHkbP8VwTs2mgZHC2BElKhejHfdRCqzjHy8WsIySh48nbYGovuZJDwouBhQ6gPII9Oi3Mj0w8fScoeiWOxPVRAPnWUUZWdORoGS2ck021frykaPsbQyit3J3ui5sCweqfNE_UgLA05napUGQMyzXP1iPVCzUgosgar3PNP1V65HQWJ1F6oIteBRlfblxcjPnR2Ess3DAHo3Xz9SVVqd2Rc7RNMVYc_dHcdcLSNxVPMFn7k8-maVTH3dO1wkp8IR6r59l_J4ByUB8AONQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 19:05:42.642 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 19:05:42.789 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:05:42.794 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:05:42.795 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:05:42.806 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:05:46.249 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 19:06:03.257 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 19:06:04.395 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 19:09:11.484 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 19:09:11.485 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 19:09:11.485 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 19:09:11.485 +02:00 [DBG] Start authorize request
2019-07-12 19:09:11.486 +02:00 [DBG] No user present in authorize request
2019-07-12 19:09:11.486 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:09:11.486 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:09:11.486 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:09:11.487 +02:00 [INF] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256WGNSBvh0cHZsCgSlPHfC4ubw9ehKTqyvJ9cnzyNANXwafD459kATMhfcmfrWC9_t27StteYQHxmHQuskaKuJzcfavOCfzdGxnOqqRk78F8wmCP1EF2zVmPho9-4cXRY7EajKGuhk-w5RTiHcivbTwUg3xmxnfjWDCrljz8ySasqsJdMm9OiXApMeUyACKPkFJu8Sj1L4x6HVcX_l1iti9VdgMyiD9Edt9EVJzkB3fjhqt3UqNsgVNm5aUXu9llRm7OhaRsLKrAPxLN-td38DZ3O4nOyLOJs6dJIfDFcwy4w","UiLocales":null,"Nonce":"636985481514595092.ZThjNGEyNTctM2VmYi00NGZlLWE5NjAtZDFmMjEwZTMyMTIxZTU2YmI1NGEtYzFkMi00NGU3LThjMDItMThhMmM1MmMxZjg0","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985481514595092.ZThjNGEyNTctM2VmYi00NGZlLWE5NjAtZDFmMjEwZTMyMTIxZTU2YmI1NGEtYzFkMi00NGU3LThjMDItMThhMmM1MmMxZjg0","state":"CfDJ8NxwjiZxUEdNkONpYNI9256WGNSBvh0cHZsCgSlPHfC4ubw9ehKTqyvJ9cnzyNANXwafD459kATMhfcmfrWC9_t27StteYQHxmHQuskaKuJzcfavOCfzdGxnOqqRk78F8wmCP1EF2zVmPho9-4cXRY7EajKGuhk-w5RTiHcivbTwUg3xmxnfjWDCrljz8ySasqsJdMm9OiXApMeUyACKPkFJu8Sj1L4x6HVcX_l1iti9VdgMyiD9Edt9EVJzkB3fjhqt3UqNsgVNm5aUXu9llRm7OhaRsLKrAPxLN-td38DZ3O4nOyLOJs6dJIfDFcwy4w","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 19:09:11.487 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 19:09:11.508 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:09:11.509 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:09:11.509 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:09:11.509 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:09:11.772 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:09:11.772 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:09:11.773 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:09:11.773 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:09:20.073 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 19:10:18.791 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 19:10:19.317 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 19:21:41.307 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-12 19:21:41.381 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 19:21:41.396 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 19:21:41.396 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 19:21:41.396 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 19:21:41.397 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 19:21:41.397 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 19:21:41.397 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 19:21:42.130 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 19:21:42.133 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 19:21:42.133 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 19:21:42.133 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 19:21:42.133 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 19:21:42.133 +02:00 [DBG] Error Url: /home/error
2019-07-12 19:21:42.133 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 19:21:45.033 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 19:21:47.429 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 19:22:02.797 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 19:22:03.920 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 19:23:01.245 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 19:23:01.253 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 19:23:01.253 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 19:23:01.261 +02:00 [DBG] Start discovery request
2019-07-12 19:23:01.536 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-12 19:23:01.537 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-12 19:23:01.537 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-12 19:23:01.547 +02:00 [DBG] Start key discovery request
2019-07-12 19:23:01.697 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 19:23:01.704 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 19:23:01.704 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 19:23:01.713 +02:00 [DBG] Start authorize request
2019-07-12 19:23:01.734 +02:00 [DBG] No user present in authorize request
2019-07-12 19:23:01.750 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:23:01.804 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:23:01.879 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:23:01.900 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI92574KCkc-txbWa3SVi4QjtwPhd9fQWE154pQXcgLmVVXBtnbm-fjjBC7QEpHN9K3Ix4b45gnsYFQKaCdw4uLYj7-wnFey51mMRWSArLjqPRg_xyZ4ZzTEUQFZvmYC8Go8U6kpm8pLItwGEwrLGy0QEQia_diPQ6USSXhjy076MmeP7d2X2inn08IdC51yea4nu2OqmBeXVOIB37YkPKWJHVcr7tL_zrw11ZPBVJQyRfoN-vFdFxaq9NaAJq_6hFrTmKpbyYrO5ayUOoAQ1gWNs3nZB2VgZhpI1J7yesLoN6QmA","UiLocales":null,"Nonce":"636985489816260021.ZDc5OTA2YWYtOWU4My00ZDUxLTgxM2UtMWQ5NzhhODZkMjY5ZTQ4M2ZjZTctMDVlZi00OWY0LTlhYzktZWE2NWY1YTI0NmY0","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985489816260021.ZDc5OTA2YWYtOWU4My00ZDUxLTgxM2UtMWQ5NzhhODZkMjY5ZTQ4M2ZjZTctMDVlZi00OWY0LTlhYzktZWE2NWY1YTI0NmY0","state":"CfDJ8NxwjiZxUEdNkONpYNI92574KCkc-txbWa3SVi4QjtwPhd9fQWE154pQXcgLmVVXBtnbm-fjjBC7QEpHN9K3Ix4b45gnsYFQKaCdw4uLYj7-wnFey51mMRWSArLjqPRg_xyZ4ZzTEUQFZvmYC8Go8U6kpm8pLItwGEwrLGy0QEQia_diPQ6USSXhjy076MmeP7d2X2inn08IdC51yea4nu2OqmBeXVOIB37YkPKWJHVcr7tL_zrw11ZPBVJQyRfoN-vFdFxaq9NaAJq_6hFrTmKpbyYrO5ayUOoAQ1gWNs3nZB2VgZhpI1J7yesLoN6QmA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 19:23:01.931 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 19:23:01.950 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:23:01.951 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:23:01.951 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:23:01.953 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:23:03.738 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 19:23:17.395 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 19:23:17.916 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 19:29:20.771 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-12 19:29:20.837 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 19:29:20.854 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 19:29:20.854 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 19:29:20.854 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 19:29:20.854 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 19:29:20.855 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 19:29:20.855 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 19:29:21.553 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 19:29:21.557 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 19:29:21.557 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 19:29:21.558 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 19:29:21.558 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 19:29:21.558 +02:00 [DBG] Error Url: /home/error
2019-07-12 19:29:21.558 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 19:29:21.619 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 19:29:21.643 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 19:29:21.646 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 19:29:21.658 +02:00 [DBG] Start authorize request
2019-07-12 19:29:21.688 +02:00 [DBG] No user present in authorize request
2019-07-12 19:29:21.700 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:29:21.739 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:29:21.822 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:29:21.853 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI925449binI5uBrdYPk9MIMBJ1Sy0aU6d-W-zXiimP8jWw_6zacx72kDqRg_k3v2QD3nY14UlEnETVsVyG98YUej3IpE1d3FM02w0FY61LjDUuGUNhF-hdZAX8NLzlGJEa9d-tvs4tF3dNAVIUrar-ElG8gHDWdGAxwnzSVMQFNHgqzx217HPaFUzwpBzt_b8YwBaaFDyaqnxYu2QXhS_z3kdgD0zuzW8akVtYr3rwpLhM7IZRRmAUkgSyLQr3PU4w6Zzs7xsC7q2CwCMr1YAUWB1dLcf9hNlqc9Acu59P2A3Htw","UiLocales":null,"Nonce":"636985493573877885.NTJiZTU1YTYtMzYyMy00ZTY3LThjZDctZTA0ODMyZTEwY2I5YTRjNWNkMmMtZGIxMi00MzQzLWE2NTEtOTU4OGU3ODdkM2Zh","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985493573877885.NTJiZTU1YTYtMzYyMy00ZTY3LThjZDctZTA0ODMyZTEwY2I5YTRjNWNkMmMtZGIxMi00MzQzLWE2NTEtOTU4OGU3ODdkM2Zh","state":"CfDJ8NxwjiZxUEdNkONpYNI925449binI5uBrdYPk9MIMBJ1Sy0aU6d-W-zXiimP8jWw_6zacx72kDqRg_k3v2QD3nY14UlEnETVsVyG98YUej3IpE1d3FM02w0FY61LjDUuGUNhF-hdZAX8NLzlGJEa9d-tvs4tF3dNAVIUrar-ElG8gHDWdGAxwnzSVMQFNHgqzx217HPaFUzwpBzt_b8YwBaaFDyaqnxYu2QXhS_z3kdgD0zuzW8akVtYr3rwpLhM7IZRRmAUkgSyLQr3PU4w6Zzs7xsC7q2CwCMr1YAUWB1dLcf9hNlqc9Acu59P2A3Htw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 19:29:21.892 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 19:29:22.057 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:29:22.062 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:29:22.065 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:29:22.084 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:29:24.065 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 19:29:27.672 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 19:29:42.149 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 19:29:43.215 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 19:34:20.726 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-12 19:34:20.884 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 19:34:20.916 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 19:34:20.916 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 19:34:20.917 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 19:34:20.917 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 19:34:20.917 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 19:34:20.917 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 19:34:23.750 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 19:34:23.755 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 19:34:23.756 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 19:34:23.756 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 19:34:23.756 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 19:34:23.756 +02:00 [DBG] Error Url: /home/error
2019-07-12 19:34:23.756 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 19:34:35.402 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 19:34:52.481 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 19:35:59.146 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 19:36:08.930 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 19:36:36.117 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 19:37:10.654 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 19:38:38.546 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-12 19:38:38.644 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 19:38:38.669 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 19:38:38.669 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 19:38:38.669 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 19:38:38.669 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 19:38:38.670 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 19:38:38.670 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 19:38:39.332 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 19:38:39.336 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 19:38:39.336 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 19:38:39.336 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 19:38:39.336 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 19:38:39.336 +02:00 [DBG] Error Url: /home/error
2019-07-12 19:38:39.336 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 19:38:41.597 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 19:38:44.455 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 19:38:45.196 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 19:38:46.266 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 19:38:46.324 +02:00 [DBG] Augmenting SignInContext
2019-07-12 19:38:46.328 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 19:38:46.338 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 19:38:46.347 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 19:39:14.748 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 19:39:14.764 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 19:39:14.765 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 19:39:14.782 +02:00 [DBG] Start authorize request
2019-07-12 19:39:14.801 +02:00 [DBG] User in authorize request: 99dd54a952eb9027ba5d83844ff33a9463a536739bdc4c49cfa7e44def32a40c
2019-07-12 19:39:14.821 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:39:14.880 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:39:14.993 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:39:15.021 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"99dd54a952eb9027ba5d83844ff33a9463a536739bdc4c49cfa7e44def32a40c","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257-Nj-Tl9igRNmPWGagMLLn5V6qQyg4iqnGkKvsNBcwH3MOjqcTxMLUn3A57muI77uNJ_hapE8u6GTLH_insBuKHgxR_xm3oexNgTZ6WDNjMYkBplRx-AzAJGoFoHr2VFrm_OXBf3ngU306_SWmtKwHr-MDNPlXImS02wI6TO7cOuHo5k0BnnIZadUNWDMnOYuBC9bzLn6S99Nbuf_TVKIEeGhjzWp4oomaJxkZSLfx9waRwAHt9zVAcjrf2PI6rOhJX95GR98LtMWn85CMNyElT-ypjAHhg-4RWg6C2NEm5A","UiLocales":null,"Nonce":"636985499547173931.OGU3OTUxODktNGI1NC00MWExLTg5MjYtMjNmOGJiYTEwMmMwMTc3NjA1ZjItZmQyYy00YjExLTlhMjctOWI2MGUwNTE1NjAw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"739b9a8414ec790db6a7dca6d32e23d7","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985499547173931.OGU3OTUxODktNGI1NC00MWExLTg5MjYtMjNmOGJiYTEwMmMwMTc3NjA1ZjItZmQyYy00YjExLTlhMjctOWI2MGUwNTE1NjAw","state":"CfDJ8NxwjiZxUEdNkONpYNI9257-Nj-Tl9igRNmPWGagMLLn5V6qQyg4iqnGkKvsNBcwH3MOjqcTxMLUn3A57muI77uNJ_hapE8u6GTLH_insBuKHgxR_xm3oexNgTZ6WDNjMYkBplRx-AzAJGoFoHr2VFrm_OXBf3ngU306_SWmtKwHr-MDNPlXImS02wI6TO7cOuHo5k0BnnIZadUNWDMnOYuBC9bzLn6S99Nbuf_TVKIEeGhjzWp4oomaJxkZSLfx9waRwAHt9zVAcjrf2PI6rOhJX95GR98LtMWn85CMNyElT-ypjAHhg-4RWg6C2NEm5A","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 19:39:15.066 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 19:39:15.096 +02:00 [DBG] user_consent grant with value: mvc|99dd54a952eb9027ba5d83844ff33a9463a536739bdc4c49cfa7e44def32a40c not found in store.
2019-07-12 19:39:15.096 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 19:39:15.096 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 19:39:15.155 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:39:15.155 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:39:15.156 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:39:15.162 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:39:20.548 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 19:39:20.605 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:39:20.605 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:39:20.606 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:39:20.639 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:39:20.654 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 19:39:20.655 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 19:39:20.655 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 19:39:20.670 +02:00 [DBG] Start authorize callback request
2019-07-12 19:39:20.683 +02:00 [DBG] User in authorize request: 99dd54a952eb9027ba5d83844ff33a9463a536739bdc4c49cfa7e44def32a40c
2019-07-12 19:39:20.683 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:39:20.684 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:39:20.684 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:39:20.684 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"99dd54a952eb9027ba5d83844ff33a9463a536739bdc4c49cfa7e44def32a40c","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257-Nj-Tl9igRNmPWGagMLLn5V6qQyg4iqnGkKvsNBcwH3MOjqcTxMLUn3A57muI77uNJ_hapE8u6GTLH_insBuKHgxR_xm3oexNgTZ6WDNjMYkBplRx-AzAJGoFoHr2VFrm_OXBf3ngU306_SWmtKwHr-MDNPlXImS02wI6TO7cOuHo5k0BnnIZadUNWDMnOYuBC9bzLn6S99Nbuf_TVKIEeGhjzWp4oomaJxkZSLfx9waRwAHt9zVAcjrf2PI6rOhJX95GR98LtMWn85CMNyElT-ypjAHhg-4RWg6C2NEm5A","UiLocales":null,"Nonce":"636985499547173931.OGU3OTUxODktNGI1NC00MWExLTg5MjYtMjNmOGJiYTEwMmMwMTc3NjA1ZjItZmQyYy00YjExLTlhMjctOWI2MGUwNTE1NjAw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"739b9a8414ec790db6a7dca6d32e23d7","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985499547173931.OGU3OTUxODktNGI1NC00MWExLTg5MjYtMjNmOGJiYTEwMmMwMTc3NjA1ZjItZmQyYy00YjExLTlhMjctOWI2MGUwNTE1NjAw","state":"CfDJ8NxwjiZxUEdNkONpYNI9257-Nj-Tl9igRNmPWGagMLLn5V6qQyg4iqnGkKvsNBcwH3MOjqcTxMLUn3A57muI77uNJ_hapE8u6GTLH_insBuKHgxR_xm3oexNgTZ6WDNjMYkBplRx-AzAJGoFoHr2VFrm_OXBf3ngU306_SWmtKwHr-MDNPlXImS02wI6TO7cOuHo5k0BnnIZadUNWDMnOYuBC9bzLn6S99Nbuf_TVKIEeGhjzWp4oomaJxkZSLfx9waRwAHt9zVAcjrf2PI6rOhJX95GR98LtMWn85CMNyElT-ypjAHhg-4RWg6C2NEm5A","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 19:39:20.684 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 19:39:20.684 +02:00 [DBG] user_consent grant with value: mvc|99dd54a952eb9027ba5d83844ff33a9463a536739bdc4c49cfa7e44def32a40c not found in store.
2019-07-12 19:39:20.685 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 19:39:20.695 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-12 19:39:20.697 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-12 19:39:20.703 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 99dd54a952eb9027ba5d83844ff33a9463a536739bdc4c49cfa7e44def32a40c
2019-07-12 19:39:20.739 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 19:39:20.757 +02:00 [DBG] Getting claims for identity token for subject: 99dd54a952eb9027ba5d83844ff33a9463a536739bdc4c49cfa7e44def32a40c and client: mvc
2019-07-12 19:39:20.765 +02:00 [DBG] Get profile called for subject 99dd54a952eb9027ba5d83844ff33a9463a536739bdc4c49cfa7e44def32a40c from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 19:39:20.768 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 19:39:20.832 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"99dd54a952eb9027ba5d83844ff33a9463a536739bdc4c49cfa7e44def32a40c","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9257-Nj-Tl9igRNmPWGagMLLn5V6qQyg4iqnGkKvsNBcwH3MOjqcTxMLUn3A57muI77uNJ_hapE8u6GTLH_insBuKHgxR_xm3oexNgTZ6WDNjMYkBplRx-AzAJGoFoHr2VFrm_OXBf3ngU306_SWmtKwHr-MDNPlXImS02wI6TO7cOuHo5k0BnnIZadUNWDMnOYuBC9bzLn6S99Nbuf_TVKIEeGhjzWp4oomaJxkZSLfx9waRwAHt9zVAcjrf2PI6rOhJX95GR98LtMWn85CMNyElT-ypjAHhg-4RWg6C2NEm5A","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 19:39:20.887 +02:00 [DBG] Augmenting SignInContext
2019-07-12 19:39:20.893 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 19:39:33.825 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-12 19:39:33.832 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-12 19:39:33.833 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-12 19:39:33.833 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 19:39:33.837 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 19:39:33.837 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 19:39:33.846 +02:00 [DBG] Start discovery request
2019-07-12 19:50:17.434 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-12 19:50:17.508 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 19:50:17.524 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 19:50:17.524 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 19:50:17.524 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 19:50:17.524 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 19:50:17.524 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 19:50:17.524 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 19:50:18.077 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 19:50:18.080 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 19:50:18.080 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 19:50:18.080 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 19:50:18.080 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 19:50:18.080 +02:00 [DBG] Error Url: /home/error
2019-07-12 19:50:18.080 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 19:50:20.334 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 19:50:23.313 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 19:50:37.321 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 19:50:38.385 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 19:50:38.442 +02:00 [DBG] Augmenting SignInContext
2019-07-12 19:50:38.447 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 19:50:38.458 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 19:50:38.466 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 19:50:49.962 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 19:50:49.974 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 19:50:49.975 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 19:50:49.982 +02:00 [DBG] Start authorize request
2019-07-12 19:50:49.996 +02:00 [DBG] User in authorize request: 56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b
2019-07-12 19:50:50.007 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:50:50.040 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:50:50.114 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:50:50.136 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257bKkeaUw91kbcgefsRjI2Cm_5gfrc1SeEfNUOQUG4s96-Yq26mzgKf_RruPQpwBvFC-WtVP_bBansMGr0n4kf8KIpC1tXVix-e2VB61lY2N0GEDJugeOqvwFQ2X1TzPQastlTgz8n1Sxvkdpbkr-eKKmI_sNNfjnS0eJ7d6aWXYtfC7T8U2PgHvUTe7OIvYv8o5wldSET0OA12hXzPtB8l3gh-yoPfJ_3hf9Rnmcrt2g6Pcial1zdxRBRKCZJD2HXfBq-QM75c3LA2q-zl52p5sCulWSXbIw748f_Oohf8Bw","UiLocales":null,"Nonce":"636985506499372258.NDljZDJkMjItMDQ0MS00NWQzLWFmZDAtMzBmMTUzMDQ2ZGQ0MThlMjAyYjYtZWE1OS00Y2M1LWJmNDUtYjkxMzcwYjBiNGRh","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"4ee53705f0e5adbb95b14ac3c757a5e3","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985506499372258.NDljZDJkMjItMDQ0MS00NWQzLWFmZDAtMzBmMTUzMDQ2ZGQ0MThlMjAyYjYtZWE1OS00Y2M1LWJmNDUtYjkxMzcwYjBiNGRh","state":"CfDJ8NxwjiZxUEdNkONpYNI9257bKkeaUw91kbcgefsRjI2Cm_5gfrc1SeEfNUOQUG4s96-Yq26mzgKf_RruPQpwBvFC-WtVP_bBansMGr0n4kf8KIpC1tXVix-e2VB61lY2N0GEDJugeOqvwFQ2X1TzPQastlTgz8n1Sxvkdpbkr-eKKmI_sNNfjnS0eJ7d6aWXYtfC7T8U2PgHvUTe7OIvYv8o5wldSET0OA12hXzPtB8l3gh-yoPfJ_3hf9Rnmcrt2g6Pcial1zdxRBRKCZJD2HXfBq-QM75c3LA2q-zl52p5sCulWSXbIw748f_Oohf8Bw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 19:50:50.169 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 19:50:50.190 +02:00 [DBG] user_consent grant with value: mvc|56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b not found in store.
2019-07-12 19:50:50.191 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 19:50:50.191 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 19:50:50.228 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:50:50.229 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:50:50.229 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:50:50.233 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:50:50.376 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:50:50.377 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:50:50.378 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:50:50.378 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:50:52.357 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 19:50:52.402 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:50:52.403 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:50:52.404 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:50:52.433 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:50:52.448 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 19:50:52.449 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 19:50:52.449 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 19:50:52.460 +02:00 [DBG] Start authorize callback request
2019-07-12 19:50:52.476 +02:00 [DBG] User in authorize request: 56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b
2019-07-12 19:50:52.477 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:50:52.477 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:50:52.477 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:50:52.478 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257bKkeaUw91kbcgefsRjI2Cm_5gfrc1SeEfNUOQUG4s96-Yq26mzgKf_RruPQpwBvFC-WtVP_bBansMGr0n4kf8KIpC1tXVix-e2VB61lY2N0GEDJugeOqvwFQ2X1TzPQastlTgz8n1Sxvkdpbkr-eKKmI_sNNfjnS0eJ7d6aWXYtfC7T8U2PgHvUTe7OIvYv8o5wldSET0OA12hXzPtB8l3gh-yoPfJ_3hf9Rnmcrt2g6Pcial1zdxRBRKCZJD2HXfBq-QM75c3LA2q-zl52p5sCulWSXbIw748f_Oohf8Bw","UiLocales":null,"Nonce":"636985506499372258.NDljZDJkMjItMDQ0MS00NWQzLWFmZDAtMzBmMTUzMDQ2ZGQ0MThlMjAyYjYtZWE1OS00Y2M1LWJmNDUtYjkxMzcwYjBiNGRh","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"4ee53705f0e5adbb95b14ac3c757a5e3","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985506499372258.NDljZDJkMjItMDQ0MS00NWQzLWFmZDAtMzBmMTUzMDQ2ZGQ0MThlMjAyYjYtZWE1OS00Y2M1LWJmNDUtYjkxMzcwYjBiNGRh","state":"CfDJ8NxwjiZxUEdNkONpYNI9257bKkeaUw91kbcgefsRjI2Cm_5gfrc1SeEfNUOQUG4s96-Yq26mzgKf_RruPQpwBvFC-WtVP_bBansMGr0n4kf8KIpC1tXVix-e2VB61lY2N0GEDJugeOqvwFQ2X1TzPQastlTgz8n1Sxvkdpbkr-eKKmI_sNNfjnS0eJ7d6aWXYtfC7T8U2PgHvUTe7OIvYv8o5wldSET0OA12hXzPtB8l3gh-yoPfJ_3hf9Rnmcrt2g6Pcial1zdxRBRKCZJD2HXfBq-QM75c3LA2q-zl52p5sCulWSXbIw748f_Oohf8Bw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 19:50:52.478 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 19:50:52.478 +02:00 [DBG] user_consent grant with value: mvc|56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b not found in store.
2019-07-12 19:50:52.478 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 19:50:52.493 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-12 19:50:52.495 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-12 19:50:52.502 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b
2019-07-12 19:50:52.543 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 19:50:52.561 +02:00 [DBG] Getting claims for identity token for subject: 56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b and client: mvc
2019-07-12 19:50:52.570 +02:00 [DBG] Get profile called for subject 56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 19:50:52.576 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 19:50:52.642 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9257bKkeaUw91kbcgefsRjI2Cm_5gfrc1SeEfNUOQUG4s96-Yq26mzgKf_RruPQpwBvFC-WtVP_bBansMGr0n4kf8KIpC1tXVix-e2VB61lY2N0GEDJugeOqvwFQ2X1TzPQastlTgz8n1Sxvkdpbkr-eKKmI_sNNfjnS0eJ7d6aWXYtfC7T8U2PgHvUTe7OIvYv8o5wldSET0OA12hXzPtB8l3gh-yoPfJ_3hf9Rnmcrt2g6Pcial1zdxRBRKCZJD2HXfBq-QM75c3LA2q-zl52p5sCulWSXbIw748f_Oohf8Bw","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 19:50:52.668 +02:00 [DBG] Augmenting SignInContext
2019-07-12 19:50:52.668 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 19:51:02.256 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-12 19:51:02.262 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-12 19:51:02.262 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-12 19:51:02.263 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 19:51:02.267 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 19:51:02.267 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 19:51:02.275 +02:00 [DBG] Start discovery request
2019-07-12 19:51:43.706 +02:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 19:51:43.759 +02:00 [INF] AuthenticationScheme: idsrv signed out.
2019-07-12 19:51:43.776 +02:00 [INF] AuthenticationScheme: AdfsOidc signed out.
2019-07-12 19:51:54.970 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 19:52:22.861 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 19:52:22.862 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 19:52:22.863 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 19:52:22.863 +02:00 [DBG] Start authorize request
2019-07-12 19:52:22.863 +02:00 [DBG] No user present in authorize request
2019-07-12 19:52:22.864 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:52:22.865 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:52:22.866 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:52:22.867 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256UYXpJxR5PNPsXksgv_LhQJ1WIlTBryX5b2ML9cYEiI8tbgDiWIXyTNLKzRt20UKzCaL-s6GUlqpBkSeMl_-fX24___2khoYDPe-7_zJhu5m_xQduq-1hhZarwhfbSjHzxjjaiJ1K2c7w2-r8BmhAPG6wmYuIoMolMziCCpSA20_H0EckMEay5SdMSeSk819QxAiQheDAV8ImjqUwaLKQldQDUrTRmuu08o6P7ueTAkifuzG-aHPPPNe3qY_ofYptd4-4rbB3ta3duTuMVQFXItdOhtXGaDLy5faO0-dDVUQ","UiLocales":null,"Nonce":"636985507428373502.YTRmZDcwMGQtZTY3NS00ZDlhLThkMTgtMGRkOGRkY2QwNjU4NGY5ZjQ2YWEtNmQzZS00NWI0LThlNzgtYTVkNmQ3MGYxN2U5","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985507428373502.YTRmZDcwMGQtZTY3NS00ZDlhLThkMTgtMGRkOGRkY2QwNjU4NGY5ZjQ2YWEtNmQzZS00NWI0LThlNzgtYTVkNmQ3MGYxN2U5","state":"CfDJ8NxwjiZxUEdNkONpYNI9256UYXpJxR5PNPsXksgv_LhQJ1WIlTBryX5b2ML9cYEiI8tbgDiWIXyTNLKzRt20UKzCaL-s6GUlqpBkSeMl_-fX24___2khoYDPe-7_zJhu5m_xQduq-1hhZarwhfbSjHzxjjaiJ1K2c7w2-r8BmhAPG6wmYuIoMolMziCCpSA20_H0EckMEay5SdMSeSk819QxAiQheDAV8ImjqUwaLKQldQDUrTRmuu08o6P7ueTAkifuzG-aHPPPNe3qY_ofYptd4-4rbB3ta3duTuMVQFXItdOhtXGaDLy5faO0-dDVUQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 19:52:22.867 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 19:52:22.903 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:52:22.903 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:52:22.904 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:52:22.907 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:52:25.374 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 19:52:38.362 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 19:52:38.917 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 19:52:38.932 +02:00 [DBG] Augmenting SignInContext
2019-07-12 19:52:38.932 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 19:52:38.933 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 19:52:38.933 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 19:52:38.933 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:52:38.933 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:52:38.934 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:52:38.934 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:52:38.946 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 19:52:38.947 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 19:52:38.947 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 19:52:38.947 +02:00 [DBG] Start authorize callback request
2019-07-12 19:52:38.948 +02:00 [DBG] User in authorize request: 56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b
2019-07-12 19:52:38.948 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:52:38.948 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:52:38.948 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:52:38.948 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256UYXpJxR5PNPsXksgv_LhQJ1WIlTBryX5b2ML9cYEiI8tbgDiWIXyTNLKzRt20UKzCaL-s6GUlqpBkSeMl_-fX24___2khoYDPe-7_zJhu5m_xQduq-1hhZarwhfbSjHzxjjaiJ1K2c7w2-r8BmhAPG6wmYuIoMolMziCCpSA20_H0EckMEay5SdMSeSk819QxAiQheDAV8ImjqUwaLKQldQDUrTRmuu08o6P7ueTAkifuzG-aHPPPNe3qY_ofYptd4-4rbB3ta3duTuMVQFXItdOhtXGaDLy5faO0-dDVUQ","UiLocales":null,"Nonce":"636985507428373502.YTRmZDcwMGQtZTY3NS00ZDlhLThkMTgtMGRkOGRkY2QwNjU4NGY5ZjQ2YWEtNmQzZS00NWI0LThlNzgtYTVkNmQ3MGYxN2U5","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"8280eaccf363e66d164f4d3c50191322","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985507428373502.YTRmZDcwMGQtZTY3NS00ZDlhLThkMTgtMGRkOGRkY2QwNjU4NGY5ZjQ2YWEtNmQzZS00NWI0LThlNzgtYTVkNmQ3MGYxN2U5","state":"CfDJ8NxwjiZxUEdNkONpYNI9256UYXpJxR5PNPsXksgv_LhQJ1WIlTBryX5b2ML9cYEiI8tbgDiWIXyTNLKzRt20UKzCaL-s6GUlqpBkSeMl_-fX24___2khoYDPe-7_zJhu5m_xQduq-1hhZarwhfbSjHzxjjaiJ1K2c7w2-r8BmhAPG6wmYuIoMolMziCCpSA20_H0EckMEay5SdMSeSk819QxAiQheDAV8ImjqUwaLKQldQDUrTRmuu08o6P7ueTAkifuzG-aHPPPNe3qY_ofYptd4-4rbB3ta3duTuMVQFXItdOhtXGaDLy5faO0-dDVUQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 19:52:38.949 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 19:52:38.957 +02:00 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-12 19:52:38.957 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 19:52:38.958 +02:00 [DBG] Getting claims for identity token for subject: 56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b and client: mvc
2019-07-12 19:52:38.958 +02:00 [DBG] Get profile called for subject 56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 19:52:38.958 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 19:52:38.987 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9256UYXpJxR5PNPsXksgv_LhQJ1WIlTBryX5b2ML9cYEiI8tbgDiWIXyTNLKzRt20UKzCaL-s6GUlqpBkSeMl_-fX24___2khoYDPe-7_zJhu5m_xQduq-1hhZarwhfbSjHzxjjaiJ1K2c7w2-r8BmhAPG6wmYuIoMolMziCCpSA20_H0EckMEay5SdMSeSk819QxAiQheDAV8ImjqUwaLKQldQDUrTRmuu08o6P7ueTAkifuzG-aHPPPNe3qY_ofYptd4-4rbB3ta3duTuMVQFXItdOhtXGaDLy5faO0-dDVUQ","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 19:52:38.988 +02:00 [DBG] Augmenting SignInContext
2019-07-12 19:52:38.988 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 19:52:50.772 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-12 19:52:50.773 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-12 19:52:50.773 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-12 19:52:50.773 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 19:52:50.773 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 19:52:50.774 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 19:52:50.774 +02:00 [DBG] Start discovery request
2019-07-12 19:53:11.775 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 19:53:11.775 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 19:53:11.776 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 19:53:11.776 +02:00 [DBG] Start authorize request
2019-07-12 19:53:11.776 +02:00 [DBG] No user present in authorize request
2019-07-12 19:53:11.776 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:53:11.777 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:53:11.777 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:53:11.778 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256p2WUdvCx_1bFHjR9z7lLhB05AFxIa9ynBddCyU26hi7Nk1bKaA56Yf3B-JDHTCwr6CjMQsKCjpUiuRfedRK1Hkhsxeic6gWhprM2lsb-YMKyFryRPQRhnNKWSXkFqrffdHS_1iBqceog3hZ4JhbcDLTSgmmEGLmNLQORI112qY4FDB0q12RdW1OfBUg0s_HzzaDxC8xdTWSDzzyquti_wzkV9XWNKIJCYkt6lGT3zbzYWMpe_nyjHYKvDZ0U1Z1GYqbu5bpZ9rOxBSE-dD2yKAH25SmGpcHWtjXJds4Ihqw","UiLocales":null,"Nonce":"636985507917549108.YmJlZGQwMWUtNmYxYS00ODNjLTg4OTYtMDdmMzExMWI0NTE1MDY3MWU3NWItZTU0MC00N2U3LThjMTMtNWExZjEzN2I1Njk0","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985507917549108.YmJlZGQwMWUtNmYxYS00ODNjLTg4OTYtMDdmMzExMWI0NTE1MDY3MWU3NWItZTU0MC00N2U3LThjMTMtNWExZjEzN2I1Njk0","state":"CfDJ8NxwjiZxUEdNkONpYNI9256p2WUdvCx_1bFHjR9z7lLhB05AFxIa9ynBddCyU26hi7Nk1bKaA56Yf3B-JDHTCwr6CjMQsKCjpUiuRfedRK1Hkhsxeic6gWhprM2lsb-YMKyFryRPQRhnNKWSXkFqrffdHS_1iBqceog3hZ4JhbcDLTSgmmEGLmNLQORI112qY4FDB0q12RdW1OfBUg0s_HzzaDxC8xdTWSDzzyquti_wzkV9XWNKIJCYkt6lGT3zbzYWMpe_nyjHYKvDZ0U1Z1GYqbu5bpZ9rOxBSE-dD2yKAH25SmGpcHWtjXJds4Ihqw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 19:53:11.778 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 19:53:11.792 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:53:11.792 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:53:11.792 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:53:11.793 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:53:12.245 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:53:12.245 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:53:12.249 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:53:12.250 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:53:20.155 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 19:53:32.108 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 19:53:32.630 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 19:53:32.642 +02:00 [DBG] Augmenting SignInContext
2019-07-12 19:53:32.642 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 19:53:32.643 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 19:53:32.643 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 19:53:32.644 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:53:32.644 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:53:32.644 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:53:32.644 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:53:32.655 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 19:53:32.655 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 19:53:32.655 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 19:53:32.655 +02:00 [DBG] Start authorize callback request
2019-07-12 19:53:32.655 +02:00 [DBG] User in authorize request: 56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b
2019-07-12 19:53:32.655 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 19:53:32.655 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 19:53:32.656 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 19:53:32.656 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256p2WUdvCx_1bFHjR9z7lLhB05AFxIa9ynBddCyU26hi7Nk1bKaA56Yf3B-JDHTCwr6CjMQsKCjpUiuRfedRK1Hkhsxeic6gWhprM2lsb-YMKyFryRPQRhnNKWSXkFqrffdHS_1iBqceog3hZ4JhbcDLTSgmmEGLmNLQORI112qY4FDB0q12RdW1OfBUg0s_HzzaDxC8xdTWSDzzyquti_wzkV9XWNKIJCYkt6lGT3zbzYWMpe_nyjHYKvDZ0U1Z1GYqbu5bpZ9rOxBSE-dD2yKAH25SmGpcHWtjXJds4Ihqw","UiLocales":null,"Nonce":"636985507917549108.YmJlZGQwMWUtNmYxYS00ODNjLTg4OTYtMDdmMzExMWI0NTE1MDY3MWU3NWItZTU0MC00N2U3LThjMTMtNWExZjEzN2I1Njk0","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"2a94f21e5e40226ad19a2d89d19d9833","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985507917549108.YmJlZGQwMWUtNmYxYS00ODNjLTg4OTYtMDdmMzExMWI0NTE1MDY3MWU3NWItZTU0MC00N2U3LThjMTMtNWExZjEzN2I1Njk0","state":"CfDJ8NxwjiZxUEdNkONpYNI9256p2WUdvCx_1bFHjR9z7lLhB05AFxIa9ynBddCyU26hi7Nk1bKaA56Yf3B-JDHTCwr6CjMQsKCjpUiuRfedRK1Hkhsxeic6gWhprM2lsb-YMKyFryRPQRhnNKWSXkFqrffdHS_1iBqceog3hZ4JhbcDLTSgmmEGLmNLQORI112qY4FDB0q12RdW1OfBUg0s_HzzaDxC8xdTWSDzzyquti_wzkV9XWNKIJCYkt6lGT3zbzYWMpe_nyjHYKvDZ0U1Z1GYqbu5bpZ9rOxBSE-dD2yKAH25SmGpcHWtjXJds4Ihqw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 19:53:32.656 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 19:53:32.656 +02:00 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-12 19:53:32.656 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 19:53:32.657 +02:00 [DBG] Getting claims for identity token for subject: 56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b and client: mvc
2019-07-12 19:53:32.657 +02:00 [DBG] Get profile called for subject 56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 19:53:32.657 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 19:53:32.662 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"56d23ceb55f4c788bd3708bbc02de393988cfb36ce879cdb942d4a5d51a3cf1b","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9256p2WUdvCx_1bFHjR9z7lLhB05AFxIa9ynBddCyU26hi7Nk1bKaA56Yf3B-JDHTCwr6CjMQsKCjpUiuRfedRK1Hkhsxeic6gWhprM2lsb-YMKyFryRPQRhnNKWSXkFqrffdHS_1iBqceog3hZ4JhbcDLTSgmmEGLmNLQORI112qY4FDB0q12RdW1OfBUg0s_HzzaDxC8xdTWSDzzyquti_wzkV9XWNKIJCYkt6lGT3zbzYWMpe_nyjHYKvDZ0U1Z1GYqbu5bpZ9rOxBSE-dD2yKAH25SmGpcHWtjXJds4Ihqw","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 19:53:32.662 +02:00 [DBG] Augmenting SignInContext
2019-07-12 19:53:32.663 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 19:54:25.477 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-12 19:54:25.478 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-12 19:54:25.478 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-12 19:54:25.478 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 19:54:25.478 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 19:54:25.479 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 19:54:25.479 +02:00 [DBG] Start discovery request
2019-07-12 20:03:12.487 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-12 20:03:12.611 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 20:03:12.631 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 20:03:12.631 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 20:03:12.631 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 20:03:12.631 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 20:03:12.631 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 20:03:12.631 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 20:03:13.757 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 20:03:13.765 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 20:03:13.765 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 20:03:13.766 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 20:03:13.766 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 20:03:13.767 +02:00 [DBG] Error Url: /home/error
2019-07-12 20:03:13.767 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 20:04:10.988 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 20:04:11.014 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 20:04:11.014 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 20:04:11.035 +02:00 [DBG] Start authorize request
2019-07-12 20:04:11.052 +02:00 [DBG] No user present in authorize request
2019-07-12 20:04:11.067 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:04:11.111 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:04:11.213 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:04:11.253 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256vCw8V5qclWTY3jyp8ni1sZTBxme6DaI8d-5eyaCVvskPd2zpMITI_JbpfeSDFon1WpuG23-gYBYfrNYpE-DXkGKglwh55gCogkG-yn82a9VDbF44G-R8PyS01RNWFUNno7T6ck0l4jKZGwZp5LN5iACN1Ps974rQBRfPqD-PbZ53bDav8TIVwO2d6WiwKFsKePEhMi7Um1gcJGnYIqfQjEzRnhmPenpT2J9HBxaZb1Z0aSSNjMTk306iuLsZ3Z---nW2betuksJ8BM0lvkbfUV3J4bgxcd_2OWYGFzEdKtA","UiLocales":null,"Nonce":"636985514509437549.NTdlNWY2OTAtYTY3ZC00NjY4LWI3OTUtNmE0NGVlYzgyODQwYTliNTU0NzItYjcyNC00NjdjLTk0MGItM2FiNmYxZWM1MWQ5","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985514509437549.NTdlNWY2OTAtYTY3ZC00NjY4LWI3OTUtNmE0NGVlYzgyODQwYTliNTU0NzItYjcyNC00NjdjLTk0MGItM2FiNmYxZWM1MWQ5","state":"CfDJ8NxwjiZxUEdNkONpYNI9256vCw8V5qclWTY3jyp8ni1sZTBxme6DaI8d-5eyaCVvskPd2zpMITI_JbpfeSDFon1WpuG23-gYBYfrNYpE-DXkGKglwh55gCogkG-yn82a9VDbF44G-R8PyS01RNWFUNno7T6ck0l4jKZGwZp5LN5iACN1Ps974rQBRfPqD-PbZ53bDav8TIVwO2d6WiwKFsKePEhMi7Um1gcJGnYIqfQjEzRnhmPenpT2J9HBxaZb1Z0aSSNjMTk306iuLsZ3Z---nW2betuksJ8BM0lvkbfUV3J4bgxcd_2OWYGFzEdKtA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 20:04:11.334 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 20:04:11.451 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:04:11.452 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:04:11.453 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:04:11.459 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:04:14.840 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 20:04:30.376 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 20:04:44.848 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 20:04:44.917 +02:00 [DBG] Augmenting SignInContext
2019-07-12 20:04:44.922 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 20:04:44.930 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 20:04:44.969 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 20:04:44.970 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:04:44.970 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:04:44.971 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:04:44.974 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:04:45.019 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 20:04:45.021 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 20:04:45.021 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 20:04:45.037 +02:00 [DBG] Start authorize callback request
2019-07-12 20:04:45.053 +02:00 [DBG] User in authorize request: a768f13de359696bcf7dab1172c68c5f7cd81fbae6db28b4e3db20ff20a9eff5
2019-07-12 20:04:45.053 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:04:45.053 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:04:45.054 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:04:45.056 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"a768f13de359696bcf7dab1172c68c5f7cd81fbae6db28b4e3db20ff20a9eff5","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256vCw8V5qclWTY3jyp8ni1sZTBxme6DaI8d-5eyaCVvskPd2zpMITI_JbpfeSDFon1WpuG23-gYBYfrNYpE-DXkGKglwh55gCogkG-yn82a9VDbF44G-R8PyS01RNWFUNno7T6ck0l4jKZGwZp5LN5iACN1Ps974rQBRfPqD-PbZ53bDav8TIVwO2d6WiwKFsKePEhMi7Um1gcJGnYIqfQjEzRnhmPenpT2J9HBxaZb1Z0aSSNjMTk306iuLsZ3Z---nW2betuksJ8BM0lvkbfUV3J4bgxcd_2OWYGFzEdKtA","UiLocales":null,"Nonce":"636985514509437549.NTdlNWY2OTAtYTY3ZC00NjY4LWI3OTUtNmE0NGVlYzgyODQwYTliNTU0NzItYjcyNC00NjdjLTk0MGItM2FiNmYxZWM1MWQ5","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"41f63bcc18f30edb82e2fce85be7428d","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985514509437549.NTdlNWY2OTAtYTY3ZC00NjY4LWI3OTUtNmE0NGVlYzgyODQwYTliNTU0NzItYjcyNC00NjdjLTk0MGItM2FiNmYxZWM1MWQ5","state":"CfDJ8NxwjiZxUEdNkONpYNI9256vCw8V5qclWTY3jyp8ni1sZTBxme6DaI8d-5eyaCVvskPd2zpMITI_JbpfeSDFon1WpuG23-gYBYfrNYpE-DXkGKglwh55gCogkG-yn82a9VDbF44G-R8PyS01RNWFUNno7T6ck0l4jKZGwZp5LN5iACN1Ps974rQBRfPqD-PbZ53bDav8TIVwO2d6WiwKFsKePEhMi7Um1gcJGnYIqfQjEzRnhmPenpT2J9HBxaZb1Z0aSSNjMTk306iuLsZ3Z---nW2betuksJ8BM0lvkbfUV3J4bgxcd_2OWYGFzEdKtA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 20:04:45.058 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 20:04:45.097 +02:00 [DBG] user_consent grant with value: mvc|a768f13de359696bcf7dab1172c68c5f7cd81fbae6db28b4e3db20ff20a9eff5 not found in store.
2019-07-12 20:04:45.097 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 20:04:45.097 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 20:04:45.136 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:04:45.137 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:04:45.137 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:04:45.137 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:04:47.816 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 20:04:47.881 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:04:47.881 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:04:47.881 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:04:47.919 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:04:47.929 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 20:04:47.929 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 20:04:47.929 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 20:04:47.929 +02:00 [DBG] Start authorize callback request
2019-07-12 20:04:47.937 +02:00 [DBG] User in authorize request: a768f13de359696bcf7dab1172c68c5f7cd81fbae6db28b4e3db20ff20a9eff5
2019-07-12 20:04:47.937 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:04:47.937 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:04:47.938 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:04:47.938 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"a768f13de359696bcf7dab1172c68c5f7cd81fbae6db28b4e3db20ff20a9eff5","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256vCw8V5qclWTY3jyp8ni1sZTBxme6DaI8d-5eyaCVvskPd2zpMITI_JbpfeSDFon1WpuG23-gYBYfrNYpE-DXkGKglwh55gCogkG-yn82a9VDbF44G-R8PyS01RNWFUNno7T6ck0l4jKZGwZp5LN5iACN1Ps974rQBRfPqD-PbZ53bDav8TIVwO2d6WiwKFsKePEhMi7Um1gcJGnYIqfQjEzRnhmPenpT2J9HBxaZb1Z0aSSNjMTk306iuLsZ3Z---nW2betuksJ8BM0lvkbfUV3J4bgxcd_2OWYGFzEdKtA","UiLocales":null,"Nonce":"636985514509437549.NTdlNWY2OTAtYTY3ZC00NjY4LWI3OTUtNmE0NGVlYzgyODQwYTliNTU0NzItYjcyNC00NjdjLTk0MGItM2FiNmYxZWM1MWQ5","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"41f63bcc18f30edb82e2fce85be7428d","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985514509437549.NTdlNWY2OTAtYTY3ZC00NjY4LWI3OTUtNmE0NGVlYzgyODQwYTliNTU0NzItYjcyNC00NjdjLTk0MGItM2FiNmYxZWM1MWQ5","state":"CfDJ8NxwjiZxUEdNkONpYNI9256vCw8V5qclWTY3jyp8ni1sZTBxme6DaI8d-5eyaCVvskPd2zpMITI_JbpfeSDFon1WpuG23-gYBYfrNYpE-DXkGKglwh55gCogkG-yn82a9VDbF44G-R8PyS01RNWFUNno7T6ck0l4jKZGwZp5LN5iACN1Ps974rQBRfPqD-PbZ53bDav8TIVwO2d6WiwKFsKePEhMi7Um1gcJGnYIqfQjEzRnhmPenpT2J9HBxaZb1Z0aSSNjMTk306iuLsZ3Z---nW2betuksJ8BM0lvkbfUV3J4bgxcd_2OWYGFzEdKtA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 20:04:47.938 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 20:04:47.938 +02:00 [DBG] user_consent grant with value: mvc|a768f13de359696bcf7dab1172c68c5f7cd81fbae6db28b4e3db20ff20a9eff5 not found in store.
2019-07-12 20:04:47.938 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 20:04:47.951 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-12 20:04:47.953 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-12 20:04:47.960 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: a768f13de359696bcf7dab1172c68c5f7cd81fbae6db28b4e3db20ff20a9eff5
2019-07-12 20:04:47.997 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 20:04:48.015 +02:00 [DBG] Getting claims for identity token for subject: a768f13de359696bcf7dab1172c68c5f7cd81fbae6db28b4e3db20ff20a9eff5 and client: mvc
2019-07-12 20:04:48.024 +02:00 [DBG] Get profile called for subject a768f13de359696bcf7dab1172c68c5f7cd81fbae6db28b4e3db20ff20a9eff5 from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 20:04:48.031 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 20:04:48.122 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"a768f13de359696bcf7dab1172c68c5f7cd81fbae6db28b4e3db20ff20a9eff5","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9256vCw8V5qclWTY3jyp8ni1sZTBxme6DaI8d-5eyaCVvskPd2zpMITI_JbpfeSDFon1WpuG23-gYBYfrNYpE-DXkGKglwh55gCogkG-yn82a9VDbF44G-R8PyS01RNWFUNno7T6ck0l4jKZGwZp5LN5iACN1Ps974rQBRfPqD-PbZ53bDav8TIVwO2d6WiwKFsKePEhMi7Um1gcJGnYIqfQjEzRnhmPenpT2J9HBxaZb1Z0aSSNjMTk306iuLsZ3Z---nW2betuksJ8BM0lvkbfUV3J4bgxcd_2OWYGFzEdKtA","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 20:04:48.162 +02:00 [DBG] Augmenting SignInContext
2019-07-12 20:04:48.163 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 20:05:15.208 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-12 20:05:15.214 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-12 20:05:15.215 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-12 20:05:15.215 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 20:05:15.218 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 20:05:15.218 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 20:05:15.227 +02:00 [DBG] Start discovery request
2019-07-12 20:05:59.286 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:06:09.426 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 20:06:09.427 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 20:06:09.427 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 20:06:09.427 +02:00 [DBG] Start discovery request
2019-07-12 20:21:19.890 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-12 20:21:19.961 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 20:21:19.975 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 20:21:19.975 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 20:21:19.976 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 20:21:19.976 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 20:21:19.976 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 20:21:19.976 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 20:21:20.937 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 20:21:20.948 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 20:21:20.948 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 20:21:20.948 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 20:21:20.948 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 20:21:20.949 +02:00 [DBG] Error Url: /home/error
2019-07-12 20:21:20.949 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 20:21:23.719 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 20:21:26.435 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 20:21:42.999 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 20:21:43.279 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 20:21:43.307 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Unknown userid
   at IdentityServer4.Quickstart.UI.ExternalController.FindUserFromExternalProvider(AuthenticateResult result) in C:\Users\P7G8\source\repos\IdentityServer\quickstart\IdentityServer\Quickstart\Account\ExternalController.cs:line 192
   at IdentityServer4.Quickstart.UI.ExternalController.Callback() in C:\Users\P7G8\source\repos\IdentityServer\quickstart\IdentityServer\Quickstart\Account\ExternalController.cs:line 95
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-12 20:24:44.917 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-12 20:24:45.011 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 20:24:45.030 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 20:24:45.030 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 20:24:45.030 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 20:24:45.030 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 20:24:45.030 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 20:24:45.030 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 20:24:45.600 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 20:24:45.603 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 20:24:45.603 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 20:24:45.603 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 20:24:45.603 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 20:24:45.603 +02:00 [DBG] Error Url: /home/error
2019-07-12 20:24:45.604 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 20:24:45.657 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 20:24:45.675 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 20:24:45.676 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 20:24:45.684 +02:00 [DBG] Start authorize request
2019-07-12 20:24:45.706 +02:00 [DBG] No user present in authorize request
2019-07-12 20:24:45.717 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:24:45.749 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:24:45.844 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:24:45.870 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9255GahL9aBp79iIHtf-ZaZ_AAbGxKuzhCDy1YMa22ASYJ6Poywaoa8ogWDYjbVBQr-vOvm6w3GgAuQD6aWfzEb8lLpbzf20iE6iK0A0KsDAYF15r0k_83QelaIbHeGaZkJWl0JGUznNfYwNUMVTh98eHFOBsWI6jqt2TXi5zOhERBF1OAzFlc6FNXKit0lciDKOG7opSUsIi5gZxOeV8hvGVp4mwwG7wd2l5dUK34IY9ZBwYfySR9fiZuQs5wbXn5BY_YRNRvsmEnHEfe90NuGRlDXgYgFlf33bHRfO6ixPCmQ","UiLocales":null,"Nonce":"636985526815122508.NzJjN2ZkZDAtYjg2MS00MDhiLWEyN2ItZDUzYzU4NjIwZjQ1MTY4ZGZkYjEtYjYxOC00MjcyLWFlNDMtYjcyOTIwNzg4ZDZj","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985526815122508.NzJjN2ZkZDAtYjg2MS00MDhiLWEyN2ItZDUzYzU4NjIwZjQ1MTY4ZGZkYjEtYjYxOC00MjcyLWFlNDMtYjcyOTIwNzg4ZDZj","state":"CfDJ8NxwjiZxUEdNkONpYNI9255GahL9aBp79iIHtf-ZaZ_AAbGxKuzhCDy1YMa22ASYJ6Poywaoa8ogWDYjbVBQr-vOvm6w3GgAuQD6aWfzEb8lLpbzf20iE6iK0A0KsDAYF15r0k_83QelaIbHeGaZkJWl0JGUznNfYwNUMVTh98eHFOBsWI6jqt2TXi5zOhERBF1OAzFlc6FNXKit0lciDKOG7opSUsIi5gZxOeV8hvGVp4mwwG7wd2l5dUK34IY9ZBwYfySR9fiZuQs5wbXn5BY_YRNRvsmEnHEfe90NuGRlDXgYgFlf33bHRfO6ixPCmQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 20:24:45.910 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 20:24:46.048 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:24:46.049 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:24:46.049 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:24:46.059 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:24:48.393 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:24:48.394 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:24:48.394 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:24:48.395 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:24:50.978 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 20:25:03.907 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 20:25:04.201 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 20:25:04.262 +02:00 [DBG] Augmenting SignInContext
2019-07-12 20:25:04.269 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 20:25:04.277 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 20:25:04.289 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 20:25:04.289 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:25:04.289 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:25:04.290 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:25:04.292 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:25:04.308 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 20:25:04.310 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 20:25:04.310 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 20:25:04.324 +02:00 [DBG] Start authorize callback request
2019-07-12 20:25:04.338 +02:00 [DBG] User in authorize request: fc46156c6d9a1312a0b1f4090f19007521fd6e1bb5ac575490db04f6cf0156e6
2019-07-12 20:25:04.338 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:25:04.338 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:25:04.339 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:25:04.340 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"fc46156c6d9a1312a0b1f4090f19007521fd6e1bb5ac575490db04f6cf0156e6","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9255GahL9aBp79iIHtf-ZaZ_AAbGxKuzhCDy1YMa22ASYJ6Poywaoa8ogWDYjbVBQr-vOvm6w3GgAuQD6aWfzEb8lLpbzf20iE6iK0A0KsDAYF15r0k_83QelaIbHeGaZkJWl0JGUznNfYwNUMVTh98eHFOBsWI6jqt2TXi5zOhERBF1OAzFlc6FNXKit0lciDKOG7opSUsIi5gZxOeV8hvGVp4mwwG7wd2l5dUK34IY9ZBwYfySR9fiZuQs5wbXn5BY_YRNRvsmEnHEfe90NuGRlDXgYgFlf33bHRfO6ixPCmQ","UiLocales":null,"Nonce":"636985526815122508.NzJjN2ZkZDAtYjg2MS00MDhiLWEyN2ItZDUzYzU4NjIwZjQ1MTY4ZGZkYjEtYjYxOC00MjcyLWFlNDMtYjcyOTIwNzg4ZDZj","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"edb72f949ffca4780526f3a52c5bed63","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985526815122508.NzJjN2ZkZDAtYjg2MS00MDhiLWEyN2ItZDUzYzU4NjIwZjQ1MTY4ZGZkYjEtYjYxOC00MjcyLWFlNDMtYjcyOTIwNzg4ZDZj","state":"CfDJ8NxwjiZxUEdNkONpYNI9255GahL9aBp79iIHtf-ZaZ_AAbGxKuzhCDy1YMa22ASYJ6Poywaoa8ogWDYjbVBQr-vOvm6w3GgAuQD6aWfzEb8lLpbzf20iE6iK0A0KsDAYF15r0k_83QelaIbHeGaZkJWl0JGUznNfYwNUMVTh98eHFOBsWI6jqt2TXi5zOhERBF1OAzFlc6FNXKit0lciDKOG7opSUsIi5gZxOeV8hvGVp4mwwG7wd2l5dUK34IY9ZBwYfySR9fiZuQs5wbXn5BY_YRNRvsmEnHEfe90NuGRlDXgYgFlf33bHRfO6ixPCmQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 20:25:04.342 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 20:25:04.375 +02:00 [DBG] user_consent grant with value: mvc|fc46156c6d9a1312a0b1f4090f19007521fd6e1bb5ac575490db04f6cf0156e6 not found in store.
2019-07-12 20:25:04.376 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 20:25:04.376 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 20:25:04.437 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:25:04.437 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:25:04.438 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:25:04.439 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:25:06.841 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 20:25:06.884 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:25:06.884 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:25:06.884 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:25:06.914 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:25:06.926 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 20:25:06.928 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 20:25:06.928 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 20:25:06.929 +02:00 [DBG] Start authorize callback request
2019-07-12 20:25:06.940 +02:00 [DBG] User in authorize request: fc46156c6d9a1312a0b1f4090f19007521fd6e1bb5ac575490db04f6cf0156e6
2019-07-12 20:25:06.941 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:25:06.941 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:25:06.941 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:25:06.941 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"fc46156c6d9a1312a0b1f4090f19007521fd6e1bb5ac575490db04f6cf0156e6","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9255GahL9aBp79iIHtf-ZaZ_AAbGxKuzhCDy1YMa22ASYJ6Poywaoa8ogWDYjbVBQr-vOvm6w3GgAuQD6aWfzEb8lLpbzf20iE6iK0A0KsDAYF15r0k_83QelaIbHeGaZkJWl0JGUznNfYwNUMVTh98eHFOBsWI6jqt2TXi5zOhERBF1OAzFlc6FNXKit0lciDKOG7opSUsIi5gZxOeV8hvGVp4mwwG7wd2l5dUK34IY9ZBwYfySR9fiZuQs5wbXn5BY_YRNRvsmEnHEfe90NuGRlDXgYgFlf33bHRfO6ixPCmQ","UiLocales":null,"Nonce":"636985526815122508.NzJjN2ZkZDAtYjg2MS00MDhiLWEyN2ItZDUzYzU4NjIwZjQ1MTY4ZGZkYjEtYjYxOC00MjcyLWFlNDMtYjcyOTIwNzg4ZDZj","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"edb72f949ffca4780526f3a52c5bed63","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985526815122508.NzJjN2ZkZDAtYjg2MS00MDhiLWEyN2ItZDUzYzU4NjIwZjQ1MTY4ZGZkYjEtYjYxOC00MjcyLWFlNDMtYjcyOTIwNzg4ZDZj","state":"CfDJ8NxwjiZxUEdNkONpYNI9255GahL9aBp79iIHtf-ZaZ_AAbGxKuzhCDy1YMa22ASYJ6Poywaoa8ogWDYjbVBQr-vOvm6w3GgAuQD6aWfzEb8lLpbzf20iE6iK0A0KsDAYF15r0k_83QelaIbHeGaZkJWl0JGUznNfYwNUMVTh98eHFOBsWI6jqt2TXi5zOhERBF1OAzFlc6FNXKit0lciDKOG7opSUsIi5gZxOeV8hvGVp4mwwG7wd2l5dUK34IY9ZBwYfySR9fiZuQs5wbXn5BY_YRNRvsmEnHEfe90NuGRlDXgYgFlf33bHRfO6ixPCmQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 20:25:06.941 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 20:25:06.942 +02:00 [DBG] user_consent grant with value: mvc|fc46156c6d9a1312a0b1f4090f19007521fd6e1bb5ac575490db04f6cf0156e6 not found in store.
2019-07-12 20:25:06.942 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 20:25:06.952 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-12 20:25:06.956 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-12 20:25:06.962 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: fc46156c6d9a1312a0b1f4090f19007521fd6e1bb5ac575490db04f6cf0156e6
2019-07-12 20:25:06.995 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 20:25:07.014 +02:00 [DBG] Getting claims for identity token for subject: fc46156c6d9a1312a0b1f4090f19007521fd6e1bb5ac575490db04f6cf0156e6 and client: mvc
2019-07-12 20:25:07.025 +02:00 [DBG] Get profile called for subject fc46156c6d9a1312a0b1f4090f19007521fd6e1bb5ac575490db04f6cf0156e6 from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 20:25:07.029 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 20:25:07.096 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"fc46156c6d9a1312a0b1f4090f19007521fd6e1bb5ac575490db04f6cf0156e6","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9255GahL9aBp79iIHtf-ZaZ_AAbGxKuzhCDy1YMa22ASYJ6Poywaoa8ogWDYjbVBQr-vOvm6w3GgAuQD6aWfzEb8lLpbzf20iE6iK0A0KsDAYF15r0k_83QelaIbHeGaZkJWl0JGUznNfYwNUMVTh98eHFOBsWI6jqt2TXi5zOhERBF1OAzFlc6FNXKit0lciDKOG7opSUsIi5gZxOeV8hvGVp4mwwG7wd2l5dUK34IY9ZBwYfySR9fiZuQs5wbXn5BY_YRNRvsmEnHEfe90NuGRlDXgYgFlf33bHRfO6ixPCmQ","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 20:25:07.123 +02:00 [DBG] Augmenting SignInContext
2019-07-12 20:25:07.124 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 20:25:34.057 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-12 20:25:34.062 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-12 20:25:34.062 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-12 20:25:34.062 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 20:25:34.065 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 20:25:34.065 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 20:25:34.071 +02:00 [DBG] Start discovery request
2019-07-12 20:26:54.160 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-12 20:26:54.278 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 20:26:54.297 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 20:26:54.297 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 20:26:54.297 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 20:26:54.297 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 20:26:54.297 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 20:26:54.298 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 20:26:55.813 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 20:26:55.822 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 20:26:55.823 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 20:26:55.823 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 20:26:55.823 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 20:26:55.823 +02:00 [DBG] Error Url: /home/error
2019-07-12 20:26:55.823 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 20:27:55.549 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 20:27:55.565 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 20:27:55.575 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 20:27:55.585 +02:00 [DBG] Start authorize request
2019-07-12 20:27:55.609 +02:00 [DBG] No user present in authorize request
2019-07-12 20:27:55.620 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:27:55.662 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:27:55.770 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:27:55.825 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257aLxda7GB0AZ91_QvZ5sv2TuEA_HAiMGnap1OgauY9La7G_oOocmpNvSjLI6HXgJOABRMbHxo98Doesv0RDkdeam93u1JvaIhrOfKzsdLc-8UcFmgU3r9QeI3vXRmb8C5XEVrxyINjB9pb3CU1eyf4q38zvDpe4Sl1SmoR90GB1R1IJ9wYD1ONt6oINz7Hh6MvrZhB-MKViGYpUzNutiiAfeL4PgpzXBa9yiU5O1Ah6BGL-zhCl65D7MYczxl_-q-O5PaBT8lGk3GxsUAbqsP84536ax3_PZgx2Lb83VjHfA","UiLocales":null,"Nonce":"636985528754789697.MDdkMjJhZGItMjM1MC00NTUwLWI2MjYtYTA0NjE1YmRhYWI2Njg5NGVmNjItY2YwZi00M2E1LWI2MWYtZDQ3OTQyOTYzZTEz","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985528754789697.MDdkMjJhZGItMjM1MC00NTUwLWI2MjYtYTA0NjE1YmRhYWI2Njg5NGVmNjItY2YwZi00M2E1LWI2MWYtZDQ3OTQyOTYzZTEz","state":"CfDJ8NxwjiZxUEdNkONpYNI9257aLxda7GB0AZ91_QvZ5sv2TuEA_HAiMGnap1OgauY9La7G_oOocmpNvSjLI6HXgJOABRMbHxo98Doesv0RDkdeam93u1JvaIhrOfKzsdLc-8UcFmgU3r9QeI3vXRmb8C5XEVrxyINjB9pb3CU1eyf4q38zvDpe4Sl1SmoR90GB1R1IJ9wYD1ONt6oINz7Hh6MvrZhB-MKViGYpUzNutiiAfeL4PgpzXBa9yiU5O1Ah6BGL-zhCl65D7MYczxl_-q-O5PaBT8lGk3GxsUAbqsP84536ax3_PZgx2Lb83VjHfA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 20:27:55.920 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 20:27:56.068 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:27:56.069 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:27:56.070 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:27:56.077 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:28:03.585 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 20:28:17.123 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 20:28:36.825 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 20:30:26.044 +02:00 [DBG] Augmenting SignInContext
2019-07-12 20:30:26.048 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 20:30:26.056 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 20:30:27.119 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 20:30:48.502 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:30:48.502 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:30:48.503 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:30:50.763 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:31:15.552 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 20:31:15.553 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 20:31:15.553 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 20:31:15.568 +02:00 [DBG] Start authorize callback request
2019-07-12 20:31:15.580 +02:00 [DBG] User in authorize request: 8405753dcdd1271f3cd5d2ad6730a3ade879dedad8782ad755a88750d9682eee
2019-07-12 20:31:15.580 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:31:15.580 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:31:15.581 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:31:15.582 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"8405753dcdd1271f3cd5d2ad6730a3ade879dedad8782ad755a88750d9682eee","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257aLxda7GB0AZ91_QvZ5sv2TuEA_HAiMGnap1OgauY9La7G_oOocmpNvSjLI6HXgJOABRMbHxo98Doesv0RDkdeam93u1JvaIhrOfKzsdLc-8UcFmgU3r9QeI3vXRmb8C5XEVrxyINjB9pb3CU1eyf4q38zvDpe4Sl1SmoR90GB1R1IJ9wYD1ONt6oINz7Hh6MvrZhB-MKViGYpUzNutiiAfeL4PgpzXBa9yiU5O1Ah6BGL-zhCl65D7MYczxl_-q-O5PaBT8lGk3GxsUAbqsP84536ax3_PZgx2Lb83VjHfA","UiLocales":null,"Nonce":"636985528754789697.MDdkMjJhZGItMjM1MC00NTUwLWI2MjYtYTA0NjE1YmRhYWI2Njg5NGVmNjItY2YwZi00M2E1LWI2MWYtZDQ3OTQyOTYzZTEz","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"a844571f4edf5a39c88fae44207e384d","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985528754789697.MDdkMjJhZGItMjM1MC00NTUwLWI2MjYtYTA0NjE1YmRhYWI2Njg5NGVmNjItY2YwZi00M2E1LWI2MWYtZDQ3OTQyOTYzZTEz","state":"CfDJ8NxwjiZxUEdNkONpYNI9257aLxda7GB0AZ91_QvZ5sv2TuEA_HAiMGnap1OgauY9La7G_oOocmpNvSjLI6HXgJOABRMbHxo98Doesv0RDkdeam93u1JvaIhrOfKzsdLc-8UcFmgU3r9QeI3vXRmb8C5XEVrxyINjB9pb3CU1eyf4q38zvDpe4Sl1SmoR90GB1R1IJ9wYD1ONt6oINz7Hh6MvrZhB-MKViGYpUzNutiiAfeL4PgpzXBa9yiU5O1Ah6BGL-zhCl65D7MYczxl_-q-O5PaBT8lGk3GxsUAbqsP84536ax3_PZgx2Lb83VjHfA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 20:31:15.584 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 20:31:15.612 +02:00 [DBG] user_consent grant with value: mvc|8405753dcdd1271f3cd5d2ad6730a3ade879dedad8782ad755a88750d9682eee not found in store.
2019-07-12 20:31:15.613 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 20:31:15.613 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 20:31:15.693 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:31:15.693 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:31:15.693 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:31:15.693 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:31:19.716 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 20:31:19.775 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:31:19.775 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:31:19.775 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:31:19.803 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:31:19.813 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 20:31:19.814 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 20:31:19.814 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 20:31:19.814 +02:00 [DBG] Start authorize callback request
2019-07-12 20:31:19.822 +02:00 [DBG] User in authorize request: 8405753dcdd1271f3cd5d2ad6730a3ade879dedad8782ad755a88750d9682eee
2019-07-12 20:31:19.822 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:31:19.822 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:31:19.823 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:31:19.823 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"8405753dcdd1271f3cd5d2ad6730a3ade879dedad8782ad755a88750d9682eee","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257aLxda7GB0AZ91_QvZ5sv2TuEA_HAiMGnap1OgauY9La7G_oOocmpNvSjLI6HXgJOABRMbHxo98Doesv0RDkdeam93u1JvaIhrOfKzsdLc-8UcFmgU3r9QeI3vXRmb8C5XEVrxyINjB9pb3CU1eyf4q38zvDpe4Sl1SmoR90GB1R1IJ9wYD1ONt6oINz7Hh6MvrZhB-MKViGYpUzNutiiAfeL4PgpzXBa9yiU5O1Ah6BGL-zhCl65D7MYczxl_-q-O5PaBT8lGk3GxsUAbqsP84536ax3_PZgx2Lb83VjHfA","UiLocales":null,"Nonce":"636985528754789697.MDdkMjJhZGItMjM1MC00NTUwLWI2MjYtYTA0NjE1YmRhYWI2Njg5NGVmNjItY2YwZi00M2E1LWI2MWYtZDQ3OTQyOTYzZTEz","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"a844571f4edf5a39c88fae44207e384d","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985528754789697.MDdkMjJhZGItMjM1MC00NTUwLWI2MjYtYTA0NjE1YmRhYWI2Njg5NGVmNjItY2YwZi00M2E1LWI2MWYtZDQ3OTQyOTYzZTEz","state":"CfDJ8NxwjiZxUEdNkONpYNI9257aLxda7GB0AZ91_QvZ5sv2TuEA_HAiMGnap1OgauY9La7G_oOocmpNvSjLI6HXgJOABRMbHxo98Doesv0RDkdeam93u1JvaIhrOfKzsdLc-8UcFmgU3r9QeI3vXRmb8C5XEVrxyINjB9pb3CU1eyf4q38zvDpe4Sl1SmoR90GB1R1IJ9wYD1ONt6oINz7Hh6MvrZhB-MKViGYpUzNutiiAfeL4PgpzXBa9yiU5O1Ah6BGL-zhCl65D7MYczxl_-q-O5PaBT8lGk3GxsUAbqsP84536ax3_PZgx2Lb83VjHfA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 20:31:19.823 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 20:31:19.823 +02:00 [DBG] user_consent grant with value: mvc|8405753dcdd1271f3cd5d2ad6730a3ade879dedad8782ad755a88750d9682eee not found in store.
2019-07-12 20:31:19.823 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 20:31:19.834 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-12 20:31:19.837 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-12 20:31:19.844 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 8405753dcdd1271f3cd5d2ad6730a3ade879dedad8782ad755a88750d9682eee
2019-07-12 20:31:19.878 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 20:31:19.909 +02:00 [DBG] Getting claims for identity token for subject: 8405753dcdd1271f3cd5d2ad6730a3ade879dedad8782ad755a88750d9682eee and client: mvc
2019-07-12 20:31:19.920 +02:00 [DBG] Get profile called for subject 8405753dcdd1271f3cd5d2ad6730a3ade879dedad8782ad755a88750d9682eee from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 20:31:19.927 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 20:31:20.016 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"8405753dcdd1271f3cd5d2ad6730a3ade879dedad8782ad755a88750d9682eee","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9257aLxda7GB0AZ91_QvZ5sv2TuEA_HAiMGnap1OgauY9La7G_oOocmpNvSjLI6HXgJOABRMbHxo98Doesv0RDkdeam93u1JvaIhrOfKzsdLc-8UcFmgU3r9QeI3vXRmb8C5XEVrxyINjB9pb3CU1eyf4q38zvDpe4Sl1SmoR90GB1R1IJ9wYD1ONt6oINz7Hh6MvrZhB-MKViGYpUzNutiiAfeL4PgpzXBa9yiU5O1Ah6BGL-zhCl65D7MYczxl_-q-O5PaBT8lGk3GxsUAbqsP84536ax3_PZgx2Lb83VjHfA","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 20:31:20.047 +02:00 [DBG] Augmenting SignInContext
2019-07-12 20:31:20.047 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 20:31:39.523 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-12 20:31:39.531 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-12 20:31:39.531 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-12 20:31:39.531 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 20:31:39.535 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 20:31:39.535 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 20:31:39.545 +02:00 [DBG] Start discovery request
2019-07-12 20:32:45.068 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 20:32:45.070 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 20:32:45.070 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 20:32:45.071 +02:00 [DBG] Start authorize request
2019-07-12 20:32:45.071 +02:00 [DBG] No user present in authorize request
2019-07-12 20:32:45.071 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:32:45.071 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:32:45.072 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:32:45.072 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254Ax-_L90sGc8N4foqLfha-L3eYAk33LYYTzJV39AtUbzZ5Dpi_A0CEbynbw0dtaIWNURIaRn_COOr0bkNedwrIuGfcFffpz-kVN4xmGqrVtkmvYQbnh04qS6IJ3qxPC8GM-0aInrjpWuVhT9SI3ysEuNUND8SBBwq5fwHvhtsMEL4l6O0-QdtLvksbEm8xikjbveaSOyy3jQ2hLC7GC85_VvbBLnu0yXHR8WLweqWrHnEgcSp7n_WheKxGzTggvTBl4aGJQay3Jvqnjnj5jLBVcM4Ew1IYK5lDP6u22docIw","UiLocales":null,"Nonce":"636985531650162547.ZmZiODUzYzEtNThhOC00M2VmLThiMDAtMTkwMTg0MmI2MTU2ZDFiNDViODEtNmY3NS00MzdiLTk2MTAtNWI2ZTk5OTE1MDEx","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985531650162547.ZmZiODUzYzEtNThhOC00M2VmLThiMDAtMTkwMTg0MmI2MTU2ZDFiNDViODEtNmY3NS00MzdiLTk2MTAtNWI2ZTk5OTE1MDEx","state":"CfDJ8NxwjiZxUEdNkONpYNI9254Ax-_L90sGc8N4foqLfha-L3eYAk33LYYTzJV39AtUbzZ5Dpi_A0CEbynbw0dtaIWNURIaRn_COOr0bkNedwrIuGfcFffpz-kVN4xmGqrVtkmvYQbnh04qS6IJ3qxPC8GM-0aInrjpWuVhT9SI3ysEuNUND8SBBwq5fwHvhtsMEL4l6O0-QdtLvksbEm8xikjbveaSOyy3jQ2hLC7GC85_VvbBLnu0yXHR8WLweqWrHnEgcSp7n_WheKxGzTggvTBl4aGJQay3Jvqnjnj5jLBVcM4Ew1IYK5lDP6u22docIw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 20:32:45.077 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 20:32:45.100 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:32:45.100 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:32:45.101 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:32:45.101 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:32:45.368 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:32:45.368 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:32:45.368 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:32:45.369 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:32:47.325 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 20:33:00.712 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 20:33:03.886 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 20:33:09.435 +02:00 [DBG] Augmenting SignInContext
2019-07-12 20:33:09.435 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 20:33:09.438 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 20:33:09.439 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 20:33:09.439 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:33:09.440 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:33:09.440 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:33:09.441 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:33:09.473 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 20:33:09.473 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 20:33:09.473 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 20:33:09.474 +02:00 [DBG] Start authorize callback request
2019-07-12 20:33:09.474 +02:00 [DBG] User in authorize request: 8405753dcdd1271f3cd5d2ad6730a3ade879dedad8782ad755a88750d9682eee
2019-07-12 20:33:09.474 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:33:09.474 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:33:09.475 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:33:09.475 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"8405753dcdd1271f3cd5d2ad6730a3ade879dedad8782ad755a88750d9682eee","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254Ax-_L90sGc8N4foqLfha-L3eYAk33LYYTzJV39AtUbzZ5Dpi_A0CEbynbw0dtaIWNURIaRn_COOr0bkNedwrIuGfcFffpz-kVN4xmGqrVtkmvYQbnh04qS6IJ3qxPC8GM-0aInrjpWuVhT9SI3ysEuNUND8SBBwq5fwHvhtsMEL4l6O0-QdtLvksbEm8xikjbveaSOyy3jQ2hLC7GC85_VvbBLnu0yXHR8WLweqWrHnEgcSp7n_WheKxGzTggvTBl4aGJQay3Jvqnjnj5jLBVcM4Ew1IYK5lDP6u22docIw","UiLocales":null,"Nonce":"636985531650162547.ZmZiODUzYzEtNThhOC00M2VmLThiMDAtMTkwMTg0MmI2MTU2ZDFiNDViODEtNmY3NS00MzdiLTk2MTAtNWI2ZTk5OTE1MDEx","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"88d5eafda012bfaeb4397ab08069bb79","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985531650162547.ZmZiODUzYzEtNThhOC00M2VmLThiMDAtMTkwMTg0MmI2MTU2ZDFiNDViODEtNmY3NS00MzdiLTk2MTAtNWI2ZTk5OTE1MDEx","state":"CfDJ8NxwjiZxUEdNkONpYNI9254Ax-_L90sGc8N4foqLfha-L3eYAk33LYYTzJV39AtUbzZ5Dpi_A0CEbynbw0dtaIWNURIaRn_COOr0bkNedwrIuGfcFffpz-kVN4xmGqrVtkmvYQbnh04qS6IJ3qxPC8GM-0aInrjpWuVhT9SI3ysEuNUND8SBBwq5fwHvhtsMEL4l6O0-QdtLvksbEm8xikjbveaSOyy3jQ2hLC7GC85_VvbBLnu0yXHR8WLweqWrHnEgcSp7n_WheKxGzTggvTBl4aGJQay3Jvqnjnj5jLBVcM4Ew1IYK5lDP6u22docIw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 20:33:09.475 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 20:33:09.482 +02:00 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-12 20:33:09.483 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 20:33:09.483 +02:00 [DBG] Getting claims for identity token for subject: 8405753dcdd1271f3cd5d2ad6730a3ade879dedad8782ad755a88750d9682eee and client: mvc
2019-07-12 20:33:09.483 +02:00 [DBG] Get profile called for subject 8405753dcdd1271f3cd5d2ad6730a3ade879dedad8782ad755a88750d9682eee from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 20:33:09.483 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 20:33:09.498 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"8405753dcdd1271f3cd5d2ad6730a3ade879dedad8782ad755a88750d9682eee","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9254Ax-_L90sGc8N4foqLfha-L3eYAk33LYYTzJV39AtUbzZ5Dpi_A0CEbynbw0dtaIWNURIaRn_COOr0bkNedwrIuGfcFffpz-kVN4xmGqrVtkmvYQbnh04qS6IJ3qxPC8GM-0aInrjpWuVhT9SI3ysEuNUND8SBBwq5fwHvhtsMEL4l6O0-QdtLvksbEm8xikjbveaSOyy3jQ2hLC7GC85_VvbBLnu0yXHR8WLweqWrHnEgcSp7n_WheKxGzTggvTBl4aGJQay3Jvqnjnj5jLBVcM4Ew1IYK5lDP6u22docIw","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 20:33:09.499 +02:00 [DBG] Augmenting SignInContext
2019-07-12 20:33:09.499 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 20:33:51.837 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-12 20:33:51.939 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 20:33:51.972 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 20:33:51.972 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 20:33:51.972 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 20:33:51.972 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 20:33:51.972 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 20:33:51.973 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 20:33:53.029 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 20:33:53.037 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 20:33:53.037 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 20:33:53.037 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 20:33:53.037 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 20:33:53.037 +02:00 [DBG] Error Url: /home/error
2019-07-12 20:33:53.037 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 20:34:57.226 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-12 20:34:57.313 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 20:34:57.330 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 20:34:57.330 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 20:34:57.330 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 20:34:57.330 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 20:34:57.330 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 20:34:57.331 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 20:34:58.562 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 20:34:58.567 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 20:34:58.567 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 20:34:58.567 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 20:34:58.567 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 20:34:58.567 +02:00 [DBG] Error Url: /home/error
2019-07-12 20:34:58.567 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 20:34:58.740 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 20:34:58.807 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 20:34:58.807 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 20:34:58.845 +02:00 [DBG] Start authorize callback request
2019-07-12 20:34:58.892 +02:00 [DBG] No user present in authorize request
2019-07-12 20:34:58.905 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:34:58.946 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:34:59.031 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:34:59.062 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9257-Nj-Tl9igRNmPWGagMLLn5V6qQyg4iqnGkKvsNBcwH3MOjqcTxMLUn3A57muI77uNJ_hapE8u6GTLH_insBuKHgxR_xm3oexNgTZ6WDNjMYkBplRx-AzAJGoFoHr2VFrm_OXBf3ngU306_SWmtKwHr-MDNPlXImS02wI6TO7cOuHo5k0BnnIZadUNWDMnOYuBC9bzLn6S99Nbuf_TVKIEeGhjzWp4oomaJxkZSLfx9waRwAHt9zVAcjrf2PI6rOhJX95GR98LtMWn85CMNyElT-ypjAHhg-4RWg6C2NEm5A","UiLocales":null,"Nonce":"636985499547173931.OGU3OTUxODktNGI1NC00MWExLTg5MjYtMjNmOGJiYTEwMmMwMTc3NjA1ZjItZmQyYy00YjExLTlhMjctOWI2MGUwNTE1NjAw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985499547173931.OGU3OTUxODktNGI1NC00MWExLTg5MjYtMjNmOGJiYTEwMmMwMTc3NjA1ZjItZmQyYy00YjExLTlhMjctOWI2MGUwNTE1NjAw","state":"CfDJ8NxwjiZxUEdNkONpYNI9257-Nj-Tl9igRNmPWGagMLLn5V6qQyg4iqnGkKvsNBcwH3MOjqcTxMLUn3A57muI77uNJ_hapE8u6GTLH_insBuKHgxR_xm3oexNgTZ6WDNjMYkBplRx-AzAJGoFoHr2VFrm_OXBf3ngU306_SWmtKwHr-MDNPlXImS02wI6TO7cOuHo5k0BnnIZadUNWDMnOYuBC9bzLn6S99Nbuf_TVKIEeGhjzWp4oomaJxkZSLfx9waRwAHt9zVAcjrf2PI6rOhJX95GR98LtMWn85CMNyElT-ypjAHhg-4RWg6C2NEm5A","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 20:34:59.140 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 20:35:02.348 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 20:35:02.349 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 20:35:02.349 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 20:35:02.362 +02:00 [DBG] Start authorize request
2019-07-12 20:35:02.362 +02:00 [DBG] No user present in authorize request
2019-07-12 20:35:02.362 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:35:02.363 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:35:02.363 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:35:02.364 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256YUW1e4ZRNkHPF8k2HSBNGwxYWo0CqdPw0zfseslOGLtwoMkbABgBxW8CXTCm7GUYM6tokbWoIFkn3pwDleSdTWf28KAIrkgben0hPNtdRjnH_7kFi9WPDQj1kK2XdbXHqY3uwhozLaJUkAv4JfL3SQeP3VjGGRitKD0T-QT-epXXF-NvoB7xkU9HnLG75x3VOUzEO4jhVSupJNhZTWyUUAcJROmhZwIDE7BiODFpaOahuryGtt6TqwOATLcSnZ3lsfot74btSfVbjcp2gZOccWly1h_jKqOYSNrHA0luJsQ","UiLocales":null,"Nonce":"636985533022989007.ZWRhZjRkNWItNWExMC00YjMxLTk1MGMtMGVhNTE2YWMzMzQ4NTM2NmZiZTEtOWI4Zi00YmI1LWJjODYtMTFhNWRhZTIzOTNi","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985533022989007.ZWRhZjRkNWItNWExMC00YjMxLTk1MGMtMGVhNTE2YWMzMzQ4NTM2NmZiZTEtOWI4Zi00YmI1LWJjODYtMTFhNWRhZTIzOTNi","state":"CfDJ8NxwjiZxUEdNkONpYNI9256YUW1e4ZRNkHPF8k2HSBNGwxYWo0CqdPw0zfseslOGLtwoMkbABgBxW8CXTCm7GUYM6tokbWoIFkn3pwDleSdTWf28KAIrkgben0hPNtdRjnH_7kFi9WPDQj1kK2XdbXHqY3uwhozLaJUkAv4JfL3SQeP3VjGGRitKD0T-QT-epXXF-NvoB7xkU9HnLG75x3VOUzEO4jhVSupJNhZTWyUUAcJROmhZwIDE7BiODFpaOahuryGtt6TqwOATLcSnZ3lsfot74btSfVbjcp2gZOccWly1h_jKqOYSNrHA0luJsQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 20:35:02.364 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 20:35:02.503 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 20:35:02.504 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:35:02.504 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 20:35:02.511 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 20:35:10.563 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 20:35:24.848 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 23:05:28.114 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-12 23:05:28.283 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 23:05:28.324 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 23:05:28.324 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 23:05:28.324 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 23:05:28.324 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 23:05:28.325 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 23:05:28.325 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 23:05:30.147 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 23:05:30.157 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 23:05:30.157 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 23:05:30.158 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 23:05:30.158 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 23:05:30.158 +02:00 [DBG] Error Url: /home/error
2019-07-12 23:05:30.158 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 23:05:44.326 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 23:05:48.776 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 23:05:50.217 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 23:06:12.219 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 23:08:10.749 +02:00 [DBG] Augmenting SignInContext
2019-07-12 23:08:10.756 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 23:08:10.771 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 23:08:10.787 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 23:08:19.059 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 23:08:19.083 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 23:08:19.086 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 23:08:19.098 +02:00 [DBG] Start authorize request
2019-07-12 23:08:19.122 +02:00 [DBG] User in authorize request: 559e1178d229a86e6a175aafc677f64abdba26265646ab0a1b5ce6757fb26f07
2019-07-12 23:08:19.139 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:08:19.192 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:08:19.381 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:08:19.432 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"559e1178d229a86e6a175aafc677f64abdba26265646ab0a1b5ce6757fb26f07","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI92554Xp_ZcECgRFEBBkBj8PZrNqQ7FB7qBuJ2OAUhqDVEE0FZ16qfmeCx7ZFgXF33VbBnP8hDshcCjLvcn_2F1_5C_UuBC81u-ILhgzs9Tx87lyg2Cfwp89cPy2e59AuAoXPY5gGJhf42nMcKFnNHw1Lx2-mCDgE3Br7PbqZD47OvpH-BsPQZqPskacYxe-fVJr7HICIYkqYasG_I_doQH-0SqNqvA24JUl7sQBS4XytWJVnXrQ5VORu5FFheS4p3fG6OZ0lf6C1MjGV6iV4fyo3uAX5mYovFRxmNqQtRPxlHJQ","UiLocales":null,"Nonce":"636985624990175201.MmQyZWU4NGEtNmRjNy00MTc1LWJmMmMtM2YzMTBhNmE4NmJhNjM3MTEwZmItYTA3Ni00NWIzLTkzOWItZjY5MmZlMDM0NTNm","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"f7398afd114557ab13d992dcbfb28162","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985624990175201.MmQyZWU4NGEtNmRjNy00MTc1LWJmMmMtM2YzMTBhNmE4NmJhNjM3MTEwZmItYTA3Ni00NWIzLTkzOWItZjY5MmZlMDM0NTNm","state":"CfDJ8NxwjiZxUEdNkONpYNI92554Xp_ZcECgRFEBBkBj8PZrNqQ7FB7qBuJ2OAUhqDVEE0FZ16qfmeCx7ZFgXF33VbBnP8hDshcCjLvcn_2F1_5C_UuBC81u-ILhgzs9Tx87lyg2Cfwp89cPy2e59AuAoXPY5gGJhf42nMcKFnNHw1Lx2-mCDgE3Br7PbqZD47OvpH-BsPQZqPskacYxe-fVJr7HICIYkqYasG_I_doQH-0SqNqvA24JUl7sQBS4XytWJVnXrQ5VORu5FFheS4p3fG6OZ0lf6C1MjGV6iV4fyo3uAX5mYovFRxmNqQtRPxlHJQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 23:08:19.489 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 23:08:19.525 +02:00 [DBG] user_consent grant with value: mvc|559e1178d229a86e6a175aafc677f64abdba26265646ab0a1b5ce6757fb26f07 not found in store.
2019-07-12 23:08:19.526 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 23:08:19.529 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 23:08:19.609 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:08:19.609 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:08:19.610 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:08:19.621 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:08:19.825 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:08:19.825 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:08:19.826 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:08:19.826 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:08:21.691 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 23:08:21.788 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:08:21.789 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:08:21.789 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:08:21.841 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:08:21.857 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 23:08:21.858 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 23:08:21.859 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 23:08:21.884 +02:00 [DBG] Start authorize callback request
2019-07-12 23:08:21.897 +02:00 [DBG] User in authorize request: 559e1178d229a86e6a175aafc677f64abdba26265646ab0a1b5ce6757fb26f07
2019-07-12 23:08:21.897 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:08:21.898 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:08:21.898 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:08:21.899 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"559e1178d229a86e6a175aafc677f64abdba26265646ab0a1b5ce6757fb26f07","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI92554Xp_ZcECgRFEBBkBj8PZrNqQ7FB7qBuJ2OAUhqDVEE0FZ16qfmeCx7ZFgXF33VbBnP8hDshcCjLvcn_2F1_5C_UuBC81u-ILhgzs9Tx87lyg2Cfwp89cPy2e59AuAoXPY5gGJhf42nMcKFnNHw1Lx2-mCDgE3Br7PbqZD47OvpH-BsPQZqPskacYxe-fVJr7HICIYkqYasG_I_doQH-0SqNqvA24JUl7sQBS4XytWJVnXrQ5VORu5FFheS4p3fG6OZ0lf6C1MjGV6iV4fyo3uAX5mYovFRxmNqQtRPxlHJQ","UiLocales":null,"Nonce":"636985624990175201.MmQyZWU4NGEtNmRjNy00MTc1LWJmMmMtM2YzMTBhNmE4NmJhNjM3MTEwZmItYTA3Ni00NWIzLTkzOWItZjY5MmZlMDM0NTNm","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"f7398afd114557ab13d992dcbfb28162","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985624990175201.MmQyZWU4NGEtNmRjNy00MTc1LWJmMmMtM2YzMTBhNmE4NmJhNjM3MTEwZmItYTA3Ni00NWIzLTkzOWItZjY5MmZlMDM0NTNm","state":"CfDJ8NxwjiZxUEdNkONpYNI92554Xp_ZcECgRFEBBkBj8PZrNqQ7FB7qBuJ2OAUhqDVEE0FZ16qfmeCx7ZFgXF33VbBnP8hDshcCjLvcn_2F1_5C_UuBC81u-ILhgzs9Tx87lyg2Cfwp89cPy2e59AuAoXPY5gGJhf42nMcKFnNHw1Lx2-mCDgE3Br7PbqZD47OvpH-BsPQZqPskacYxe-fVJr7HICIYkqYasG_I_doQH-0SqNqvA24JUl7sQBS4XytWJVnXrQ5VORu5FFheS4p3fG6OZ0lf6C1MjGV6iV4fyo3uAX5mYovFRxmNqQtRPxlHJQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 23:08:21.899 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 23:08:21.899 +02:00 [DBG] user_consent grant with value: mvc|559e1178d229a86e6a175aafc677f64abdba26265646ab0a1b5ce6757fb26f07 not found in store.
2019-07-12 23:08:21.900 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 23:08:21.918 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-12 23:08:21.920 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-12 23:08:21.937 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 559e1178d229a86e6a175aafc677f64abdba26265646ab0a1b5ce6757fb26f07
2019-07-12 23:08:22.004 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 23:08:22.026 +02:00 [DBG] Getting claims for identity token for subject: 559e1178d229a86e6a175aafc677f64abdba26265646ab0a1b5ce6757fb26f07 and client: mvc
2019-07-12 23:08:22.041 +02:00 [DBG] Get profile called for subject 559e1178d229a86e6a175aafc677f64abdba26265646ab0a1b5ce6757fb26f07 from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 23:08:22.051 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 23:08:22.170 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"559e1178d229a86e6a175aafc677f64abdba26265646ab0a1b5ce6757fb26f07","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI92554Xp_ZcECgRFEBBkBj8PZrNqQ7FB7qBuJ2OAUhqDVEE0FZ16qfmeCx7ZFgXF33VbBnP8hDshcCjLvcn_2F1_5C_UuBC81u-ILhgzs9Tx87lyg2Cfwp89cPy2e59AuAoXPY5gGJhf42nMcKFnNHw1Lx2-mCDgE3Br7PbqZD47OvpH-BsPQZqPskacYxe-fVJr7HICIYkqYasG_I_doQH-0SqNqvA24JUl7sQBS4XytWJVnXrQ5VORu5FFheS4p3fG6OZ0lf6C1MjGV6iV4fyo3uAX5mYovFRxmNqQtRPxlHJQ","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 23:08:22.243 +02:00 [DBG] Augmenting SignInContext
2019-07-12 23:08:22.246 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 23:13:19.540 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-12 23:13:19.766 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 23:13:19.824 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 23:13:19.826 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 23:13:19.826 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 23:13:19.826 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 23:13:19.832 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 23:13:19.832 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 23:13:21.735 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 23:13:21.741 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 23:13:21.742 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 23:13:21.742 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 23:13:21.742 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 23:13:21.742 +02:00 [DBG] Error Url: /home/error
2019-07-12 23:13:21.742 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 23:13:21.827 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 23:13:21.857 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 23:13:21.858 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 23:13:21.873 +02:00 [DBG] Start authorize request
2019-07-12 23:13:21.910 +02:00 [DBG] No user present in authorize request
2019-07-12 23:13:21.924 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:13:21.985 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:13:22.188 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:13:22.266 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254pMR9zN9h25Whof8OON14lyQLKOyWeMR6sEGKpvX29CMVlOOl-PbxJagsXR_m3FZahE7-jSDqY_VqfqcjXB4GZAYNPfa6VPRcAObBAmEvxrxOQU3rq7iW4IOCapH2sB4ogsuXJx0n_r4QY9Mp6IFk6MsNzpLFNy3XZRG1UgDHIRHCSCF2kIbL8cpv4-vPou7H7Vtr31ypVlNkFdl5P4fk7OldDVYjmZlPrnf7a65fv8d3lLsWeeE1Vh4b9O2XwRyULnHuBuoTXtw5F8aqjgGfoK2A42Yu7aoN1ybhnVcA7lA","UiLocales":null,"Nonce":"636985627898249372.MGJmYzY4MjctMWEyYi00ZGY1LTk3NjgtOWU5NmI5MmJiOGEwMGY1MGM0OGMtYzhhMi00NzMyLTkyYzMtMWRmZjFlNTcyZTM0","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985627898249372.MGJmYzY4MjctMWEyYi00ZGY1LTk3NjgtOWU5NmI5MmJiOGEwMGY1MGM0OGMtYzhhMi00NzMyLTkyYzMtMWRmZjFlNTcyZTM0","state":"CfDJ8NxwjiZxUEdNkONpYNI9254pMR9zN9h25Whof8OON14lyQLKOyWeMR6sEGKpvX29CMVlOOl-PbxJagsXR_m3FZahE7-jSDqY_VqfqcjXB4GZAYNPfa6VPRcAObBAmEvxrxOQU3rq7iW4IOCapH2sB4ogsuXJx0n_r4QY9Mp6IFk6MsNzpLFNy3XZRG1UgDHIRHCSCF2kIbL8cpv4-vPou7H7Vtr31ypVlNkFdl5P4fk7OldDVYjmZlPrnf7a65fv8d3lLsWeeE1Vh4b9O2XwRyULnHuBuoTXtw5F8aqjgGfoK2A42Yu7aoN1ybhnVcA7lA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 23:13:22.409 +02:00 [INF] Showing login: User is not authenticated
2019-07-12 23:13:27.139 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 23:13:31.688 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 23:13:54.836 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 23:13:56.320 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 23:13:56.394 +02:00 [DBG] Augmenting SignInContext
2019-07-12 23:13:56.402 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 23:13:56.413 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 23:13:56.428 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 23:14:07.299 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 23:14:07.301 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 23:14:07.302 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 23:14:07.303 +02:00 [DBG] Start authorize request
2019-07-12 23:14:07.304 +02:00 [DBG] User in authorize request: 37d5c3593d760eedd94b46039f490bf560e6d956360183d6d961a21918d5cd8e
2019-07-12 23:14:07.304 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:14:07.304 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:14:07.305 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:14:07.306 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"37d5c3593d760eedd94b46039f490bf560e6d956360183d6d961a21918d5cd8e","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254pMR9zN9h25Whof8OON14lyQLKOyWeMR6sEGKpvX29CMVlOOl-PbxJagsXR_m3FZahE7-jSDqY_VqfqcjXB4GZAYNPfa6VPRcAObBAmEvxrxOQU3rq7iW4IOCapH2sB4ogsuXJx0n_r4QY9Mp6IFk6MsNzpLFNy3XZRG1UgDHIRHCSCF2kIbL8cpv4-vPou7H7Vtr31ypVlNkFdl5P4fk7OldDVYjmZlPrnf7a65fv8d3lLsWeeE1Vh4b9O2XwRyULnHuBuoTXtw5F8aqjgGfoK2A42Yu7aoN1ybhnVcA7lA","UiLocales":null,"Nonce":"636985627898249372.MGJmYzY4MjctMWEyYi00ZGY1LTk3NjgtOWU5NmI5MmJiOGEwMGY1MGM0OGMtYzhhMi00NzMyLTkyYzMtMWRmZjFlNTcyZTM0","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"fdec3e0159a57b86a62020df55053c2b","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985627898249372.MGJmYzY4MjctMWEyYi00ZGY1LTk3NjgtOWU5NmI5MmJiOGEwMGY1MGM0OGMtYzhhMi00NzMyLTkyYzMtMWRmZjFlNTcyZTM0","state":"CfDJ8NxwjiZxUEdNkONpYNI9254pMR9zN9h25Whof8OON14lyQLKOyWeMR6sEGKpvX29CMVlOOl-PbxJagsXR_m3FZahE7-jSDqY_VqfqcjXB4GZAYNPfa6VPRcAObBAmEvxrxOQU3rq7iW4IOCapH2sB4ogsuXJx0n_r4QY9Mp6IFk6MsNzpLFNy3XZRG1UgDHIRHCSCF2kIbL8cpv4-vPou7H7Vtr31ypVlNkFdl5P4fk7OldDVYjmZlPrnf7a65fv8d3lLsWeeE1Vh4b9O2XwRyULnHuBuoTXtw5F8aqjgGfoK2A42Yu7aoN1ybhnVcA7lA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 23:14:07.309 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 23:14:07.357 +02:00 [DBG] user_consent grant with value: mvc|37d5c3593d760eedd94b46039f490bf560e6d956360183d6d961a21918d5cd8e not found in store.
2019-07-12 23:14:07.358 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 23:14:07.358 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 23:14:07.408 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:14:07.408 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:14:07.409 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:14:07.412 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:14:10.060 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 23:14:10.110 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:14:10.110 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:14:10.111 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:14:10.156 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:14:10.167 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 23:14:10.168 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 23:14:10.168 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 23:14:10.187 +02:00 [DBG] Start authorize callback request
2019-07-12 23:14:10.198 +02:00 [DBG] User in authorize request: 37d5c3593d760eedd94b46039f490bf560e6d956360183d6d961a21918d5cd8e
2019-07-12 23:14:10.198 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:14:10.198 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:14:10.199 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:14:10.199 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"37d5c3593d760eedd94b46039f490bf560e6d956360183d6d961a21918d5cd8e","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254pMR9zN9h25Whof8OON14lyQLKOyWeMR6sEGKpvX29CMVlOOl-PbxJagsXR_m3FZahE7-jSDqY_VqfqcjXB4GZAYNPfa6VPRcAObBAmEvxrxOQU3rq7iW4IOCapH2sB4ogsuXJx0n_r4QY9Mp6IFk6MsNzpLFNy3XZRG1UgDHIRHCSCF2kIbL8cpv4-vPou7H7Vtr31ypVlNkFdl5P4fk7OldDVYjmZlPrnf7a65fv8d3lLsWeeE1Vh4b9O2XwRyULnHuBuoTXtw5F8aqjgGfoK2A42Yu7aoN1ybhnVcA7lA","UiLocales":null,"Nonce":"636985627898249372.MGJmYzY4MjctMWEyYi00ZGY1LTk3NjgtOWU5NmI5MmJiOGEwMGY1MGM0OGMtYzhhMi00NzMyLTkyYzMtMWRmZjFlNTcyZTM0","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"fdec3e0159a57b86a62020df55053c2b","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985627898249372.MGJmYzY4MjctMWEyYi00ZGY1LTk3NjgtOWU5NmI5MmJiOGEwMGY1MGM0OGMtYzhhMi00NzMyLTkyYzMtMWRmZjFlNTcyZTM0","state":"CfDJ8NxwjiZxUEdNkONpYNI9254pMR9zN9h25Whof8OON14lyQLKOyWeMR6sEGKpvX29CMVlOOl-PbxJagsXR_m3FZahE7-jSDqY_VqfqcjXB4GZAYNPfa6VPRcAObBAmEvxrxOQU3rq7iW4IOCapH2sB4ogsuXJx0n_r4QY9Mp6IFk6MsNzpLFNy3XZRG1UgDHIRHCSCF2kIbL8cpv4-vPou7H7Vtr31ypVlNkFdl5P4fk7OldDVYjmZlPrnf7a65fv8d3lLsWeeE1Vh4b9O2XwRyULnHuBuoTXtw5F8aqjgGfoK2A42Yu7aoN1ybhnVcA7lA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 23:14:10.199 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 23:14:10.199 +02:00 [DBG] user_consent grant with value: mvc|37d5c3593d760eedd94b46039f490bf560e6d956360183d6d961a21918d5cd8e not found in store.
2019-07-12 23:14:10.200 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 23:14:10.214 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-12 23:14:10.218 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-12 23:14:10.229 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 37d5c3593d760eedd94b46039f490bf560e6d956360183d6d961a21918d5cd8e
2019-07-12 23:14:10.274 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 23:14:10.294 +02:00 [DBG] Getting claims for identity token for subject: 37d5c3593d760eedd94b46039f490bf560e6d956360183d6d961a21918d5cd8e and client: mvc
2019-07-12 23:14:10.302 +02:00 [DBG] Get profile called for subject 37d5c3593d760eedd94b46039f490bf560e6d956360183d6d961a21918d5cd8e from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 23:14:10.309 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 23:14:10.385 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"37d5c3593d760eedd94b46039f490bf560e6d956360183d6d961a21918d5cd8e","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9254pMR9zN9h25Whof8OON14lyQLKOyWeMR6sEGKpvX29CMVlOOl-PbxJagsXR_m3FZahE7-jSDqY_VqfqcjXB4GZAYNPfa6VPRcAObBAmEvxrxOQU3rq7iW4IOCapH2sB4ogsuXJx0n_r4QY9Mp6IFk6MsNzpLFNy3XZRG1UgDHIRHCSCF2kIbL8cpv4-vPou7H7Vtr31ypVlNkFdl5P4fk7OldDVYjmZlPrnf7a65fv8d3lLsWeeE1Vh4b9O2XwRyULnHuBuoTXtw5F8aqjgGfoK2A42Yu7aoN1ybhnVcA7lA","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 23:14:10.421 +02:00 [DBG] Augmenting SignInContext
2019-07-12 23:14:10.421 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 23:14:25.028 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-12 23:14:25.036 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-12 23:14:25.036 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-12 23:14:25.036 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 23:14:25.040 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 23:14:25.040 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 23:14:25.050 +02:00 [DBG] Start discovery request
2019-07-12 23:22:09.639 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-12 23:22:09.734 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 23:22:09.759 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 23:22:09.759 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 23:22:09.759 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 23:22:09.760 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 23:22:09.760 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 23:22:09.760 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 23:22:10.539 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 23:22:10.544 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 23:22:10.544 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 23:22:10.544 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 23:22:10.544 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 23:22:10.544 +02:00 [DBG] Error Url: /home/error
2019-07-12 23:22:10.544 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 23:22:12.822 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 23:22:16.884 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 23:22:32.345 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 23:22:33.823 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 23:22:33.886 +02:00 [DBG] Augmenting SignInContext
2019-07-12 23:22:33.892 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 23:22:33.906 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 23:22:33.918 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 23:22:42.430 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 23:22:42.448 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 23:22:42.448 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 23:22:42.467 +02:00 [DBG] Start authorize request
2019-07-12 23:22:42.487 +02:00 [DBG] User in authorize request: 47d774932198ef8c5af8429c3cee3833e3a61a1dcfeca986bbce6bd32ab1f155
2019-07-12 23:22:42.501 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:22:42.550 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:22:42.666 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:22:42.699 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"47d774932198ef8c5af8429c3cee3833e3a61a1dcfeca986bbce6bd32ab1f155","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254P7Wy7wNJXP2BUcRGK_gdZHgueRfiWGnF5-rntcFKRPw7s4kGRKK5aNs1SeJC14rIDJpryY2phrEZhdZn2LGus3KrNAFJMZZ4FzPWDJHsIcwmpwa9PLnmleceP5qTWbYx9_8oCWj4nx38YKEYrRjIZdKMh5kYS3F2C8jdhCwcDIL-iqccqiOdZo4TzNe9KuhQqjvSPD9_oLrfv2ctAvw3XB40740og9hhTY_LjFmM8Yl3rb3Cga2Z2qa5Qet--NU0YbTQ6uH3W82WUxmza_762CUUn3n01qjfD8I-cVFfxyQ","UiLocales":null,"Nonce":"636985633624158461.OGQ5ZmVjODItMjI4Ni00NTIzLTk0MDctYTE2YWUxZjQ2ODI3N2Y0YTAxYjgtMTI4MC00MGZkLWJkNTYtNjljMjNlYzE0ZGUx","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"ca132cbe33240d76b21774ed83f401ed","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985633624158461.OGQ5ZmVjODItMjI4Ni00NTIzLTk0MDctYTE2YWUxZjQ2ODI3N2Y0YTAxYjgtMTI4MC00MGZkLWJkNTYtNjljMjNlYzE0ZGUx","state":"CfDJ8NxwjiZxUEdNkONpYNI9254P7Wy7wNJXP2BUcRGK_gdZHgueRfiWGnF5-rntcFKRPw7s4kGRKK5aNs1SeJC14rIDJpryY2phrEZhdZn2LGus3KrNAFJMZZ4FzPWDJHsIcwmpwa9PLnmleceP5qTWbYx9_8oCWj4nx38YKEYrRjIZdKMh5kYS3F2C8jdhCwcDIL-iqccqiOdZo4TzNe9KuhQqjvSPD9_oLrfv2ctAvw3XB40740og9hhTY_LjFmM8Yl3rb3Cga2Z2qa5Qet--NU0YbTQ6uH3W82WUxmza_762CUUn3n01qjfD8I-cVFfxyQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 23:22:42.754 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 23:22:42.789 +02:00 [DBG] user_consent grant with value: mvc|47d774932198ef8c5af8429c3cee3833e3a61a1dcfeca986bbce6bd32ab1f155 not found in store.
2019-07-12 23:22:42.790 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 23:22:42.790 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 23:22:42.840 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:22:42.840 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:22:42.841 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:22:42.847 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:22:44.572 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 23:22:44.628 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:22:44.628 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:22:44.629 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:22:44.676 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:22:44.690 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 23:22:44.695 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 23:22:44.695 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 23:22:44.715 +02:00 [DBG] Start authorize callback request
2019-07-12 23:22:44.729 +02:00 [DBG] User in authorize request: 47d774932198ef8c5af8429c3cee3833e3a61a1dcfeca986bbce6bd32ab1f155
2019-07-12 23:22:44.730 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:22:44.730 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:22:44.731 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:22:44.731 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"47d774932198ef8c5af8429c3cee3833e3a61a1dcfeca986bbce6bd32ab1f155","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254P7Wy7wNJXP2BUcRGK_gdZHgueRfiWGnF5-rntcFKRPw7s4kGRKK5aNs1SeJC14rIDJpryY2phrEZhdZn2LGus3KrNAFJMZZ4FzPWDJHsIcwmpwa9PLnmleceP5qTWbYx9_8oCWj4nx38YKEYrRjIZdKMh5kYS3F2C8jdhCwcDIL-iqccqiOdZo4TzNe9KuhQqjvSPD9_oLrfv2ctAvw3XB40740og9hhTY_LjFmM8Yl3rb3Cga2Z2qa5Qet--NU0YbTQ6uH3W82WUxmza_762CUUn3n01qjfD8I-cVFfxyQ","UiLocales":null,"Nonce":"636985633624158461.OGQ5ZmVjODItMjI4Ni00NTIzLTk0MDctYTE2YWUxZjQ2ODI3N2Y0YTAxYjgtMTI4MC00MGZkLWJkNTYtNjljMjNlYzE0ZGUx","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"ca132cbe33240d76b21774ed83f401ed","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985633624158461.OGQ5ZmVjODItMjI4Ni00NTIzLTk0MDctYTE2YWUxZjQ2ODI3N2Y0YTAxYjgtMTI4MC00MGZkLWJkNTYtNjljMjNlYzE0ZGUx","state":"CfDJ8NxwjiZxUEdNkONpYNI9254P7Wy7wNJXP2BUcRGK_gdZHgueRfiWGnF5-rntcFKRPw7s4kGRKK5aNs1SeJC14rIDJpryY2phrEZhdZn2LGus3KrNAFJMZZ4FzPWDJHsIcwmpwa9PLnmleceP5qTWbYx9_8oCWj4nx38YKEYrRjIZdKMh5kYS3F2C8jdhCwcDIL-iqccqiOdZo4TzNe9KuhQqjvSPD9_oLrfv2ctAvw3XB40740og9hhTY_LjFmM8Yl3rb3Cga2Z2qa5Qet--NU0YbTQ6uH3W82WUxmza_762CUUn3n01qjfD8I-cVFfxyQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 23:22:44.731 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 23:22:44.731 +02:00 [DBG] user_consent grant with value: mvc|47d774932198ef8c5af8429c3cee3833e3a61a1dcfeca986bbce6bd32ab1f155 not found in store.
2019-07-12 23:22:44.732 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 23:22:44.747 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-12 23:22:44.750 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-12 23:22:44.763 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 47d774932198ef8c5af8429c3cee3833e3a61a1dcfeca986bbce6bd32ab1f155
2019-07-12 23:22:44.809 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 23:22:44.836 +02:00 [DBG] Getting claims for identity token for subject: 47d774932198ef8c5af8429c3cee3833e3a61a1dcfeca986bbce6bd32ab1f155 and client: mvc
2019-07-12 23:22:44.849 +02:00 [DBG] Get profile called for subject 47d774932198ef8c5af8429c3cee3833e3a61a1dcfeca986bbce6bd32ab1f155 from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 23:22:44.855 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 23:22:44.935 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"47d774932198ef8c5af8429c3cee3833e3a61a1dcfeca986bbce6bd32ab1f155","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9254P7Wy7wNJXP2BUcRGK_gdZHgueRfiWGnF5-rntcFKRPw7s4kGRKK5aNs1SeJC14rIDJpryY2phrEZhdZn2LGus3KrNAFJMZZ4FzPWDJHsIcwmpwa9PLnmleceP5qTWbYx9_8oCWj4nx38YKEYrRjIZdKMh5kYS3F2C8jdhCwcDIL-iqccqiOdZo4TzNe9KuhQqjvSPD9_oLrfv2ctAvw3XB40740og9hhTY_LjFmM8Yl3rb3Cga2Z2qa5Qet--NU0YbTQ6uH3W82WUxmza_762CUUn3n01qjfD8I-cVFfxyQ","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 23:22:44.971 +02:00 [DBG] Augmenting SignInContext
2019-07-12 23:22:44.972 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 23:27:13.281 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-12 23:27:13.380 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 23:27:13.407 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 23:27:13.407 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 23:27:13.407 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 23:27:13.408 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 23:27:13.408 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 23:27:13.408 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 23:27:14.137 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 23:27:14.146 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 23:27:14.146 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 23:27:14.146 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 23:27:14.147 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 23:27:14.147 +02:00 [DBG] Error Url: /home/error
2019-07-12 23:27:14.147 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 23:27:21.572 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 23:27:30.846 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 23:27:42.534 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 23:27:44.087 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 23:27:44.199 +02:00 [DBG] Augmenting SignInContext
2019-07-12 23:27:44.206 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 23:27:44.221 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 23:27:44.234 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 23:28:10.296 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 23:28:10.311 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 23:28:10.312 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 23:28:10.321 +02:00 [DBG] Start discovery request
2019-07-12 23:28:10.641 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-12 23:28:10.642 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-12 23:28:10.642 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-12 23:28:10.651 +02:00 [DBG] Start key discovery request
2019-07-12 23:28:10.768 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 23:28:10.779 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 23:28:10.780 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 23:28:10.793 +02:00 [DBG] Start authorize request
2019-07-12 23:28:10.806 +02:00 [DBG] User in authorize request: 9733fabe31842fcc6f6148803243e3ae893bc1bbeaafe722f8d47cb73921a4ce
2019-07-12 23:28:10.818 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:28:10.855 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:28:10.926 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:28:10.955 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"9733fabe31842fcc6f6148803243e3ae893bc1bbeaafe722f8d47cb73921a4ce","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI92545hvBE2N9bEQI4y0YSt3WZjrhQAhq9Py8fZ9lUMkoWoAWHSLfFpx4MY1Dy7kiFA_NzIfU0QrdAqgMXwW3sdipJqIY5m1sm1gJKAsyJBcuWz_oIDmmCXgm5DNJleivpHNjizQcTgBg4WrSGLk8Di3BhVw-hQZFcXTqh9yzRKPux3NYutq_SCxOFyyJje07Sa_pync1l9sRBBiTQKh1DLSOO8Jjs0JdZGIsXlCXZTgNzxoWef7sF9gSNFuWzZgEysZyFxlTw_85Aq7PKuhfKZ8t-t4Dq2mvXLnEgub60cS_c-Q","UiLocales":null,"Nonce":"636985636907222128.YjY4NTY1ZGItZjZkMi00MWQ2LTg0YzctZDlmYmJlZTUxMzE1YWMzNjRiZmMtM2I3ZS00YTkxLTk4ZDEtNTJkZWJmMzVjNGNj","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"6abe27b1078286aa6e577ed29dca67e0","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985636907222128.YjY4NTY1ZGItZjZkMi00MWQ2LTg0YzctZDlmYmJlZTUxMzE1YWMzNjRiZmMtM2I3ZS00YTkxLTk4ZDEtNTJkZWJmMzVjNGNj","state":"CfDJ8NxwjiZxUEdNkONpYNI92545hvBE2N9bEQI4y0YSt3WZjrhQAhq9Py8fZ9lUMkoWoAWHSLfFpx4MY1Dy7kiFA_NzIfU0QrdAqgMXwW3sdipJqIY5m1sm1gJKAsyJBcuWz_oIDmmCXgm5DNJleivpHNjizQcTgBg4WrSGLk8Di3BhVw-hQZFcXTqh9yzRKPux3NYutq_SCxOFyyJje07Sa_pync1l9sRBBiTQKh1DLSOO8Jjs0JdZGIsXlCXZTgNzxoWef7sF9gSNFuWzZgEysZyFxlTw_85Aq7PKuhfKZ8t-t4Dq2mvXLnEgub60cS_c-Q","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 23:28:11.001 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 23:28:11.025 +02:00 [DBG] user_consent grant with value: mvc|9733fabe31842fcc6f6148803243e3ae893bc1bbeaafe722f8d47cb73921a4ce not found in store.
2019-07-12 23:28:11.026 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 23:28:11.026 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 23:28:11.063 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:28:11.064 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:28:11.064 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:28:11.068 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:28:13.057 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 23:28:13.104 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:28:13.105 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:28:13.105 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:28:13.139 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:28:13.152 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 23:28:13.153 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 23:28:13.153 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 23:28:13.170 +02:00 [DBG] Start authorize callback request
2019-07-12 23:28:13.180 +02:00 [DBG] User in authorize request: 9733fabe31842fcc6f6148803243e3ae893bc1bbeaafe722f8d47cb73921a4ce
2019-07-12 23:28:13.180 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:28:13.180 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:28:13.180 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:28:13.181 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"9733fabe31842fcc6f6148803243e3ae893bc1bbeaafe722f8d47cb73921a4ce","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI92545hvBE2N9bEQI4y0YSt3WZjrhQAhq9Py8fZ9lUMkoWoAWHSLfFpx4MY1Dy7kiFA_NzIfU0QrdAqgMXwW3sdipJqIY5m1sm1gJKAsyJBcuWz_oIDmmCXgm5DNJleivpHNjizQcTgBg4WrSGLk8Di3BhVw-hQZFcXTqh9yzRKPux3NYutq_SCxOFyyJje07Sa_pync1l9sRBBiTQKh1DLSOO8Jjs0JdZGIsXlCXZTgNzxoWef7sF9gSNFuWzZgEysZyFxlTw_85Aq7PKuhfKZ8t-t4Dq2mvXLnEgub60cS_c-Q","UiLocales":null,"Nonce":"636985636907222128.YjY4NTY1ZGItZjZkMi00MWQ2LTg0YzctZDlmYmJlZTUxMzE1YWMzNjRiZmMtM2I3ZS00YTkxLTk4ZDEtNTJkZWJmMzVjNGNj","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"6abe27b1078286aa6e577ed29dca67e0","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985636907222128.YjY4NTY1ZGItZjZkMi00MWQ2LTg0YzctZDlmYmJlZTUxMzE1YWMzNjRiZmMtM2I3ZS00YTkxLTk4ZDEtNTJkZWJmMzVjNGNj","state":"CfDJ8NxwjiZxUEdNkONpYNI92545hvBE2N9bEQI4y0YSt3WZjrhQAhq9Py8fZ9lUMkoWoAWHSLfFpx4MY1Dy7kiFA_NzIfU0QrdAqgMXwW3sdipJqIY5m1sm1gJKAsyJBcuWz_oIDmmCXgm5DNJleivpHNjizQcTgBg4WrSGLk8Di3BhVw-hQZFcXTqh9yzRKPux3NYutq_SCxOFyyJje07Sa_pync1l9sRBBiTQKh1DLSOO8Jjs0JdZGIsXlCXZTgNzxoWef7sF9gSNFuWzZgEysZyFxlTw_85Aq7PKuhfKZ8t-t4Dq2mvXLnEgub60cS_c-Q","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 23:28:13.181 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 23:28:13.181 +02:00 [DBG] user_consent grant with value: mvc|9733fabe31842fcc6f6148803243e3ae893bc1bbeaafe722f8d47cb73921a4ce not found in store.
2019-07-12 23:28:13.181 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 23:28:13.197 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-12 23:28:13.200 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-12 23:28:13.209 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 9733fabe31842fcc6f6148803243e3ae893bc1bbeaafe722f8d47cb73921a4ce
2019-07-12 23:28:13.253 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 23:28:13.277 +02:00 [DBG] Getting claims for identity token for subject: 9733fabe31842fcc6f6148803243e3ae893bc1bbeaafe722f8d47cb73921a4ce and client: mvc
2019-07-12 23:28:13.288 +02:00 [DBG] Get profile called for subject 9733fabe31842fcc6f6148803243e3ae893bc1bbeaafe722f8d47cb73921a4ce from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 23:28:13.292 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 23:28:13.359 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"9733fabe31842fcc6f6148803243e3ae893bc1bbeaafe722f8d47cb73921a4ce","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI92545hvBE2N9bEQI4y0YSt3WZjrhQAhq9Py8fZ9lUMkoWoAWHSLfFpx4MY1Dy7kiFA_NzIfU0QrdAqgMXwW3sdipJqIY5m1sm1gJKAsyJBcuWz_oIDmmCXgm5DNJleivpHNjizQcTgBg4WrSGLk8Di3BhVw-hQZFcXTqh9yzRKPux3NYutq_SCxOFyyJje07Sa_pync1l9sRBBiTQKh1DLSOO8Jjs0JdZGIsXlCXZTgNzxoWef7sF9gSNFuWzZgEysZyFxlTw_85Aq7PKuhfKZ8t-t4Dq2mvXLnEgub60cS_c-Q","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 23:28:13.393 +02:00 [DBG] Augmenting SignInContext
2019-07-12 23:28:13.394 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 23:42:50.466 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-12 23:42:50.595 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-12 23:42:50.627 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-12 23:42:50.628 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-12 23:42:50.628 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-12 23:42:50.628 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-12 23:42:50.628 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-12 23:42:50.628 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-12 23:42:51.700 +02:00 [DBG] Login Url: /Account/Login
2019-07-12 23:42:51.708 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-12 23:42:51.708 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-12 23:42:51.708 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-12 23:42:51.708 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-12 23:42:51.708 +02:00 [DBG] Error Url: /home/error
2019-07-12 23:42:51.708 +02:00 [DBG] Error Id Parameter: errorId
2019-07-12 23:43:36.084 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-12 23:43:39.617 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-12 23:43:51.488 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 23:43:52.906 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-12 23:43:52.987 +02:00 [DBG] Augmenting SignInContext
2019-07-12 23:43:52.993 +02:00 [DBG] Adding amr claim with value: external
2019-07-12 23:43:53.010 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 23:43:53.028 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-12 23:44:30.465 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 23:44:30.479 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 23:44:30.480 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 23:44:30.495 +02:00 [DBG] Start discovery request
2019-07-12 23:44:30.912 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-12 23:44:30.913 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-12 23:44:30.914 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-12 23:44:30.930 +02:00 [DBG] Start key discovery request
2019-07-12 23:44:31.078 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-12 23:44:31.086 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-12 23:44:31.087 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-12 23:44:31.098 +02:00 [DBG] Start authorize request
2019-07-12 23:44:31.115 +02:00 [DBG] User in authorize request: b76d9f3a83474442f080a26d84cdcab94731b9593eda8bd3a9cad7e33d32448c
2019-07-12 23:44:31.129 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:44:31.175 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:44:31.282 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:44:31.325 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"b76d9f3a83474442f080a26d84cdcab94731b9593eda8bd3a9cad7e33d32448c","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254nGcIGAMLUy9AKbKJCrl7goX2glB5hS6iqGMQ2KKuZKFK9o1kRvub4JHyH329f3Of1krnJib8XNZ4sZd1wxxZim2HCtWI8wjP1trivc_IeFWR75eNTZ5QTBbBrL-9qYBg0NkPdp8o58B098XE8a4OcttNdjgtNO0tgwv3lPZe2CovgKE4aQPZZa6nY6bcIN2Zn8S0NTOWQFTTnvdjz_JtLTp-fWEVAvVRoHce1G9KTdjDLNkHEvYfpQJwb8ZOZxPK-e3QjaK6NuMcjgjurAvkpbFLGXk8YauXkaeL2YoNK8A","UiLocales":null,"Nonce":"636985646710312135.ZGRlZTA5YjQtMDc2Yi00YjYyLWI3Y2EtYzM5ODM3NWQxOWFiZGFiOTBjOTctYjgyMy00YTJjLTkxNTctZDMyMDk5NDkyMTJk","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"39035b7b5eb8b931039c617443367e86","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985646710312135.ZGRlZTA5YjQtMDc2Yi00YjYyLWI3Y2EtYzM5ODM3NWQxOWFiZGFiOTBjOTctYjgyMy00YTJjLTkxNTctZDMyMDk5NDkyMTJk","state":"CfDJ8NxwjiZxUEdNkONpYNI9254nGcIGAMLUy9AKbKJCrl7goX2glB5hS6iqGMQ2KKuZKFK9o1kRvub4JHyH329f3Of1krnJib8XNZ4sZd1wxxZim2HCtWI8wjP1trivc_IeFWR75eNTZ5QTBbBrL-9qYBg0NkPdp8o58B098XE8a4OcttNdjgtNO0tgwv3lPZe2CovgKE4aQPZZa6nY6bcIN2Zn8S0NTOWQFTTnvdjz_JtLTp-fWEVAvVRoHce1G9KTdjDLNkHEvYfpQJwb8ZOZxPK-e3QjaK6NuMcjgjurAvkpbFLGXk8YauXkaeL2YoNK8A","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 23:44:31.381 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 23:44:31.421 +02:00 [DBG] user_consent grant with value: mvc|b76d9f3a83474442f080a26d84cdcab94731b9593eda8bd3a9cad7e33d32448c not found in store.
2019-07-12 23:44:31.422 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 23:44:31.422 +02:00 [INF] Showing consent: User has not yet consented
2019-07-12 23:44:31.478 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:44:31.478 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:44:31.479 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:44:31.482 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:44:33.498 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-12 23:44:33.609 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:44:33.610 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:44:33.610 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:44:33.657 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:44:33.674 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-12 23:44:33.678 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-12 23:44:33.678 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-12 23:44:33.702 +02:00 [DBG] Start authorize callback request
2019-07-12 23:44:33.716 +02:00 [DBG] User in authorize request: b76d9f3a83474442f080a26d84cdcab94731b9593eda8bd3a9cad7e33d32448c
2019-07-12 23:44:33.716 +02:00 [DBG] Start authorize request protocol validation
2019-07-12 23:44:33.717 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-12 23:44:33.717 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-12 23:44:33.721 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"b76d9f3a83474442f080a26d84cdcab94731b9593eda8bd3a9cad7e33d32448c","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254nGcIGAMLUy9AKbKJCrl7goX2glB5hS6iqGMQ2KKuZKFK9o1kRvub4JHyH329f3Of1krnJib8XNZ4sZd1wxxZim2HCtWI8wjP1trivc_IeFWR75eNTZ5QTBbBrL-9qYBg0NkPdp8o58B098XE8a4OcttNdjgtNO0tgwv3lPZe2CovgKE4aQPZZa6nY6bcIN2Zn8S0NTOWQFTTnvdjz_JtLTp-fWEVAvVRoHce1G9KTdjDLNkHEvYfpQJwb8ZOZxPK-e3QjaK6NuMcjgjurAvkpbFLGXk8YauXkaeL2YoNK8A","UiLocales":null,"Nonce":"636985646710312135.ZGRlZTA5YjQtMDc2Yi00YjYyLWI3Y2EtYzM5ODM3NWQxOWFiZGFiOTBjOTctYjgyMy00YTJjLTkxNTctZDMyMDk5NDkyMTJk","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"39035b7b5eb8b931039c617443367e86","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985646710312135.ZGRlZTA5YjQtMDc2Yi00YjYyLWI3Y2EtYzM5ODM3NWQxOWFiZGFiOTBjOTctYjgyMy00YTJjLTkxNTctZDMyMDk5NDkyMTJk","state":"CfDJ8NxwjiZxUEdNkONpYNI9254nGcIGAMLUy9AKbKJCrl7goX2glB5hS6iqGMQ2KKuZKFK9o1kRvub4JHyH329f3Of1krnJib8XNZ4sZd1wxxZim2HCtWI8wjP1trivc_IeFWR75eNTZ5QTBbBrL-9qYBg0NkPdp8o58B098XE8a4OcttNdjgtNO0tgwv3lPZe2CovgKE4aQPZZa6nY6bcIN2Zn8S0NTOWQFTTnvdjz_JtLTp-fWEVAvVRoHce1G9KTdjDLNkHEvYfpQJwb8ZOZxPK-e3QjaK6NuMcjgjurAvkpbFLGXk8YauXkaeL2YoNK8A","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-12 23:44:33.722 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-12 23:44:33.722 +02:00 [DBG] user_consent grant with value: mvc|b76d9f3a83474442f080a26d84cdcab94731b9593eda8bd3a9cad7e33d32448c not found in store.
2019-07-12 23:44:33.722 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-12 23:44:33.738 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-12 23:44:33.742 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-12 23:44:33.752 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: b76d9f3a83474442f080a26d84cdcab94731b9593eda8bd3a9cad7e33d32448c
2019-07-12 23:44:33.810 +02:00 [DBG] Creating Implicit Flow response.
2019-07-12 23:44:33.840 +02:00 [DBG] Getting claims for identity token for subject: b76d9f3a83474442f080a26d84cdcab94731b9593eda8bd3a9cad7e33d32448c and client: mvc
2019-07-12 23:44:33.854 +02:00 [DBG] Get profile called for subject b76d9f3a83474442f080a26d84cdcab94731b9593eda8bd3a9cad7e33d32448c from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-12 23:44:33.860 +02:00 [DBG] Issued claims: ["name"]
2019-07-12 23:44:33.967 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"b76d9f3a83474442f080a26d84cdcab94731b9593eda8bd3a9cad7e33d32448c","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9254nGcIGAMLUy9AKbKJCrl7goX2glB5hS6iqGMQ2KKuZKFK9o1kRvub4JHyH329f3Of1krnJib8XNZ4sZd1wxxZim2HCtWI8wjP1trivc_IeFWR75eNTZ5QTBbBrL-9qYBg0NkPdp8o58B098XE8a4OcttNdjgtNO0tgwv3lPZe2CovgKE4aQPZZa6nY6bcIN2Zn8S0NTOWQFTTnvdjz_JtLTp-fWEVAvVRoHce1G9KTdjDLNkHEvYfpQJwb8ZOZxPK-e3QjaK6NuMcjgjurAvkpbFLGXk8YauXkaeL2YoNK8A","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-12 23:44:34.016 +02:00 [DBG] Augmenting SignInContext
2019-07-12 23:44:34.018 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-12 23:44:57.731 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-12 23:44:57.738 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-12 23:44:57.738 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-12 23:44:57.738 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-12 23:44:57.739 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-12 23:44:57.739 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-12 23:44:57.739 +02:00 [DBG] Start discovery request
2019-07-13 00:17:47.381 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-13 00:17:47.450 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-13 00:17:47.468 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-13 00:17:47.468 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-13 00:17:47.468 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-13 00:17:47.468 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-13 00:17:47.468 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-13 00:17:47.469 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-13 00:17:48.604 +02:00 [DBG] Login Url: /Account/Login
2019-07-13 00:17:48.613 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-13 00:17:48.614 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-13 00:17:48.614 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-13 00:17:48.614 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-13 00:17:48.614 +02:00 [DBG] Error Url: /home/error
2019-07-13 00:17:48.614 +02:00 [DBG] Error Id Parameter: errorId
2019-07-13 00:18:49.153 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-13 00:18:49.240 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-13 00:18:49.262 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-13 00:18:49.262 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-13 00:18:49.262 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-13 00:18:49.262 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-13 00:18:49.262 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-13 00:18:49.262 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-13 00:18:50.375 +02:00 [DBG] Login Url: /Account/Login
2019-07-13 00:18:50.380 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-13 00:18:50.381 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-13 00:18:50.381 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-13 00:18:50.381 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-13 00:18:50.381 +02:00 [DBG] Error Url: /home/error
2019-07-13 00:18:50.386 +02:00 [DBG] Error Id Parameter: errorId
2019-07-13 00:22:03.674 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-13 00:22:03.759 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-13 00:22:03.784 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-13 00:22:03.784 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-13 00:22:03.784 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-13 00:22:03.787 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-13 00:22:03.789 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-13 00:22:03.790 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-13 00:22:04.756 +02:00 [DBG] Login Url: /Account/Login
2019-07-13 00:22:04.761 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-13 00:22:04.761 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-13 00:22:04.761 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-13 00:22:04.762 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-13 00:22:04.762 +02:00 [DBG] Error Url: /home/error
2019-07-13 00:22:04.762 +02:00 [DBG] Error Id Parameter: errorId
2019-07-13 00:22:25.342 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-13 00:22:28.610 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-13 00:22:46.666 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-13 00:22:56.760 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-13 00:23:05.567 +02:00 [DBG] Augmenting SignInContext
2019-07-13 00:23:05.573 +02:00 [DBG] Adding amr claim with value: external
2019-07-13 00:23:05.582 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-13 00:23:05.593 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-13 00:24:03.870 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-13 00:24:03.936 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-13 00:24:03.951 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-13 00:24:03.951 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-13 00:24:03.951 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-13 00:24:03.951 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-13 00:24:03.951 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-13 00:24:03.951 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-13 00:24:04.585 +02:00 [DBG] Login Url: /Account/Login
2019-07-13 00:24:04.587 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-13 00:24:04.588 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-13 00:24:04.588 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-13 00:24:04.588 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-13 00:24:04.588 +02:00 [DBG] Error Url: /home/error
2019-07-13 00:24:04.588 +02:00 [DBG] Error Id Parameter: errorId
2019-07-13 00:24:04.635 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-13 00:24:04.639 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-13 00:24:04.640 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-13 00:24:04.646 +02:00 [DBG] Start discovery request
2019-07-13 00:24:04.902 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-13 00:24:04.903 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-13 00:24:04.903 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-13 00:24:04.912 +02:00 [DBG] Start key discovery request
2019-07-13 00:24:05.029 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-13 00:24:05.046 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-13 00:24:05.047 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-13 00:24:05.053 +02:00 [DBG] Start authorize request
2019-07-13 00:24:05.074 +02:00 [DBG] User in authorize request: 0fbf02d96bc036b0b1d7bd02f83dc88094c5a55da82a51883dd5175c15bd3ff3
2019-07-13 00:24:05.085 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 00:24:05.125 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 00:24:05.185 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 00:24:05.205 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"0fbf02d96bc036b0b1d7bd02f83dc88094c5a55da82a51883dd5175c15bd3ff3","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254z7g3hctJ6QYG8WZwNI0j8hcKn8UWbGPyXoxPy6SxkhL31dvj95mSojOP4CSxass0jFS8lSEQFlrVhNuvoQt05zEwDpQYh_7sgrlkOefXQigx5A6ocd0wvc8N7X7XvFWBpb-ypB-eHFdDfhPNFCbgxndqGp4DUaKEuzEpH6ysjlNsSRJmrlnS_YKlukA49vZEXFkFmIah7NIUt2l8WJXf6tstHKPH_vkQc1INHmP_dt0c77FyhN3bYEyzLIkjgbvIH1Oh882B0mxHIzRLt8VwBHz52fQhCRLrVlYgjeVyF_Q","UiLocales":null,"Nonce":"636985670449856430.Y2QzNjMxNTEtZjNlOS00ZTM2LWEyOTItZGEyYTFjMTU1ODAwNTJjMDE0ZTItMWFmNS00N2RlLTkxMzUtMDA2ZDc0ZWRhYTE5","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"7d9484118b9bac69f5f5f39089458b7a","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985670449856430.Y2QzNjMxNTEtZjNlOS00ZTM2LWEyOTItZGEyYTFjMTU1ODAwNTJjMDE0ZTItMWFmNS00N2RlLTkxMzUtMDA2ZDc0ZWRhYTE5","state":"CfDJ8NxwjiZxUEdNkONpYNI9254z7g3hctJ6QYG8WZwNI0j8hcKn8UWbGPyXoxPy6SxkhL31dvj95mSojOP4CSxass0jFS8lSEQFlrVhNuvoQt05zEwDpQYh_7sgrlkOefXQigx5A6ocd0wvc8N7X7XvFWBpb-ypB-eHFdDfhPNFCbgxndqGp4DUaKEuzEpH6ysjlNsSRJmrlnS_YKlukA49vZEXFkFmIah7NIUt2l8WJXf6tstHKPH_vkQc1INHmP_dt0c77FyhN3bYEyzLIkjgbvIH1Oh882B0mxHIzRLt8VwBHz52fQhCRLrVlYgjeVyF_Q","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-13 00:24:05.251 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-13 00:24:05.287 +02:00 [DBG] user_consent grant with value: mvc|0fbf02d96bc036b0b1d7bd02f83dc88094c5a55da82a51883dd5175c15bd3ff3 not found in store.
2019-07-13 00:24:05.287 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-13 00:24:05.287 +02:00 [INF] Showing consent: User has not yet consented
2019-07-13 00:24:05.512 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 00:24:05.513 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 00:24:05.513 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 00:24:05.515 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 00:24:07.843 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-13 00:24:07.907 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 00:24:07.907 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 00:24:07.908 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 00:24:07.944 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 00:24:07.955 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-13 00:24:07.956 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-13 00:24:07.956 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-13 00:24:07.968 +02:00 [DBG] Start authorize callback request
2019-07-13 00:24:07.976 +02:00 [DBG] User in authorize request: 0fbf02d96bc036b0b1d7bd02f83dc88094c5a55da82a51883dd5175c15bd3ff3
2019-07-13 00:24:07.976 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 00:24:07.977 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 00:24:07.978 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 00:24:07.978 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"0fbf02d96bc036b0b1d7bd02f83dc88094c5a55da82a51883dd5175c15bd3ff3","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254z7g3hctJ6QYG8WZwNI0j8hcKn8UWbGPyXoxPy6SxkhL31dvj95mSojOP4CSxass0jFS8lSEQFlrVhNuvoQt05zEwDpQYh_7sgrlkOefXQigx5A6ocd0wvc8N7X7XvFWBpb-ypB-eHFdDfhPNFCbgxndqGp4DUaKEuzEpH6ysjlNsSRJmrlnS_YKlukA49vZEXFkFmIah7NIUt2l8WJXf6tstHKPH_vkQc1INHmP_dt0c77FyhN3bYEyzLIkjgbvIH1Oh882B0mxHIzRLt8VwBHz52fQhCRLrVlYgjeVyF_Q","UiLocales":null,"Nonce":"636985670449856430.Y2QzNjMxNTEtZjNlOS00ZTM2LWEyOTItZGEyYTFjMTU1ODAwNTJjMDE0ZTItMWFmNS00N2RlLTkxMzUtMDA2ZDc0ZWRhYTE5","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"7d9484118b9bac69f5f5f39089458b7a","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985670449856430.Y2QzNjMxNTEtZjNlOS00ZTM2LWEyOTItZGEyYTFjMTU1ODAwNTJjMDE0ZTItMWFmNS00N2RlLTkxMzUtMDA2ZDc0ZWRhYTE5","state":"CfDJ8NxwjiZxUEdNkONpYNI9254z7g3hctJ6QYG8WZwNI0j8hcKn8UWbGPyXoxPy6SxkhL31dvj95mSojOP4CSxass0jFS8lSEQFlrVhNuvoQt05zEwDpQYh_7sgrlkOefXQigx5A6ocd0wvc8N7X7XvFWBpb-ypB-eHFdDfhPNFCbgxndqGp4DUaKEuzEpH6ysjlNsSRJmrlnS_YKlukA49vZEXFkFmIah7NIUt2l8WJXf6tstHKPH_vkQc1INHmP_dt0c77FyhN3bYEyzLIkjgbvIH1Oh882B0mxHIzRLt8VwBHz52fQhCRLrVlYgjeVyF_Q","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-13 00:24:07.978 +02:00 [DBG] IsActive called from: AuthorizeEndpoint
2019-07-13 00:24:07.979 +02:00 [DBG] user_consent grant with value: mvc|0fbf02d96bc036b0b1d7bd02f83dc88094c5a55da82a51883dd5175c15bd3ff3 not found in store.
2019-07-13 00:24:07.979 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-13 00:24:07.986 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-13 00:24:07.988 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-13 00:24:07.995 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 0fbf02d96bc036b0b1d7bd02f83dc88094c5a55da82a51883dd5175c15bd3ff3
2019-07-13 00:24:08.025 +02:00 [DBG] Creating Implicit Flow response.
2019-07-13 00:24:08.043 +02:00 [DBG] Getting claims for identity token for subject: 0fbf02d96bc036b0b1d7bd02f83dc88094c5a55da82a51883dd5175c15bd3ff3 and client: mvc
2019-07-13 00:24:08.053 +02:00 [DBG] Get profile called for subject 0fbf02d96bc036b0b1d7bd02f83dc88094c5a55da82a51883dd5175c15bd3ff3 from client mvc with claim types ["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"] via ClaimsProviderIdentityToken
2019-07-13 00:24:08.057 +02:00 [DBG] Issued claims: ["name"]
2019-07-13 00:24:08.148 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"0fbf02d96bc036b0b1d7bd02f83dc88094c5a55da82a51883dd5175c15bd3ff3","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9254z7g3hctJ6QYG8WZwNI0j8hcKn8UWbGPyXoxPy6SxkhL31dvj95mSojOP4CSxass0jFS8lSEQFlrVhNuvoQt05zEwDpQYh_7sgrlkOefXQigx5A6ocd0wvc8N7X7XvFWBpb-ypB-eHFdDfhPNFCbgxndqGp4DUaKEuzEpH6ysjlNsSRJmrlnS_YKlukA49vZEXFkFmIah7NIUt2l8WJXf6tstHKPH_vkQc1INHmP_dt0c77FyhN3bYEyzLIkjgbvIH1Oh882B0mxHIzRLt8VwBHz52fQhCRLrVlYgjeVyF_Q","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-13 00:24:08.180 +02:00 [DBG] Augmenting SignInContext
2019-07-13 00:24:08.195 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-13 00:24:49.098 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-13 00:24:49.103 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-13 00:24:49.103 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-13 00:24:49.104 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-13 00:24:49.104 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-13 00:24:49.104 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-13 00:24:49.104 +02:00 [DBG] Start discovery request
2019-07-13 00:25:13.725 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-13 00:25:13.807 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-13 00:25:13.825 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-13 00:25:13.825 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-13 00:25:13.825 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-13 00:25:13.825 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-13 00:25:13.825 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-13 00:25:13.825 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-13 00:25:14.471 +02:00 [DBG] Login Url: /Account/Login
2019-07-13 00:25:14.477 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-13 00:25:14.477 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-13 00:25:14.477 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-13 00:25:14.477 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-13 00:25:14.477 +02:00 [DBG] Error Url: /home/error
2019-07-13 00:25:14.477 +02:00 [DBG] Error Id Parameter: errorId
2019-07-13 00:26:02.846 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-13 00:26:02.941 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-13 00:26:02.958 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-13 00:26:02.958 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-13 00:26:02.959 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-13 00:26:02.959 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-13 00:26:02.959 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-13 00:26:02.959 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-13 00:26:03.810 +02:00 [DBG] Login Url: /Account/Login
2019-07-13 00:26:03.816 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-13 00:26:03.816 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-13 00:26:03.816 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-13 00:26:03.816 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-13 00:26:03.816 +02:00 [DBG] Error Url: /home/error
2019-07-13 00:26:03.816 +02:00 [DBG] Error Id Parameter: errorId
2019-07-13 00:47:47.345 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-13 00:47:47.433 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-13 00:47:47.450 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-13 00:47:47.450 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-13 00:47:47.450 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-13 00:47:47.450 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-13 00:47:47.450 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-13 00:47:47.450 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-13 00:47:48.050 +02:00 [DBG] Login Url: /Account/Login
2019-07-13 00:47:48.053 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-13 00:47:48.054 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-13 00:47:48.054 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-13 00:47:48.054 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-13 00:47:48.054 +02:00 [DBG] Error Url: /home/error
2019-07-13 00:47:48.055 +02:00 [DBG] Error Id Parameter: errorId
2019-07-13 00:48:10.394 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-13 00:48:13.044 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-13 00:48:28.499 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-13 00:48:29.575 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-13 00:48:29.658 +02:00 [DBG] Augmenting SignInContext
2019-07-13 00:48:29.663 +02:00 [DBG] Adding amr claim with value: external
2019-07-13 00:48:29.674 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-13 00:48:29.685 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-13 00:48:35.142 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-13 00:48:35.150 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-13 00:48:35.151 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-13 00:48:35.157 +02:00 [DBG] Start discovery request
2019-07-13 00:48:35.393 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-13 00:48:35.394 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-13 00:48:35.394 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-13 00:48:35.400 +02:00 [DBG] Start key discovery request
2019-07-13 00:48:35.515 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-13 00:48:35.521 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-13 00:48:35.521 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-13 00:48:35.528 +02:00 [DBG] Start authorize request
2019-07-13 00:48:35.544 +02:00 [DBG] User in authorize request: a5706a0ec70730316259436a8a5e8415e0351cdec17b278880bc47f0111ac685
2019-07-13 00:48:35.553 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 00:48:35.591 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 00:48:35.662 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 00:48:35.681 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"a5706a0ec70730316259436a8a5e8415e0351cdec17b278880bc47f0111ac685","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI92543YR0cCkkkK0a_1PE_b3fKj53Xj96ntueyh3i593pVBDQQ5aZrx1oJLfN7_wxJjPDK1dVGssvFnJ8czHPQQ1iL3HDXJLVeOn9XnzBHkTeiZETTiTkNxYgVtPcLFepcdfFMRb5qiUyq9NuaulpcEMZwfWAcExXTACqb8c-9DmuJXiiMhXxMiobD8a7ApVSoo5-pIPNXd18eSdChVb_cOD9-Ywx1reqeDi8L9ZxntvZAOtx2DI8LqsZhzSW_a7_SDE9q83Ja418NojF81BIkllCarTrxSzAuSfPDZSJEuQbPPQ","UiLocales":null,"Nonce":"636985685154711585.ZmQ1ZDVlZWEtZjliNy00ZmUzLWE1MDktNTM0ZDA0YzQxNDIwNTdjM2M3MzctMzhiOS00NjBiLWFlNmUtYzllMzZjOWQ0YjY1","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"034e3424d65ed9b727afe9b3ec5078b5","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985685154711585.ZmQ1ZDVlZWEtZjliNy00ZmUzLWE1MDktNTM0ZDA0YzQxNDIwNTdjM2M3MzctMzhiOS00NjBiLWFlNmUtYzllMzZjOWQ0YjY1","state":"CfDJ8NxwjiZxUEdNkONpYNI92543YR0cCkkkK0a_1PE_b3fKj53Xj96ntueyh3i593pVBDQQ5aZrx1oJLfN7_wxJjPDK1dVGssvFnJ8czHPQQ1iL3HDXJLVeOn9XnzBHkTeiZETTiTkNxYgVtPcLFepcdfFMRb5qiUyq9NuaulpcEMZwfWAcExXTACqb8c-9DmuJXiiMhXxMiobD8a7ApVSoo5-pIPNXd18eSdChVb_cOD9-Ywx1reqeDi8L9ZxntvZAOtx2DI8LqsZhzSW_a7_SDE9q83Ja418NojF81BIkllCarTrxSzAuSfPDZSJEuQbPPQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-13 00:48:35.723 +02:00 [DBG] user_consent grant with value: mvc|a5706a0ec70730316259436a8a5e8415e0351cdec17b278880bc47f0111ac685 not found in store.
2019-07-13 00:48:35.724 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-13 00:48:35.724 +02:00 [INF] Showing consent: User has not yet consented
2019-07-13 00:48:35.750 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 00:48:35.750 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 00:48:35.751 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 00:48:35.753 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 00:48:35.872 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 00:48:35.872 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 00:48:35.873 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 00:48:35.873 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 00:48:38.259 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-13 00:48:38.298 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 00:48:38.298 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 00:48:38.298 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 00:48:38.329 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 00:48:38.344 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-13 00:48:38.345 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-13 00:48:38.345 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-13 00:48:38.361 +02:00 [DBG] Start authorize callback request
2019-07-13 00:48:38.372 +02:00 [DBG] User in authorize request: a5706a0ec70730316259436a8a5e8415e0351cdec17b278880bc47f0111ac685
2019-07-13 00:48:38.373 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 00:48:38.374 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 00:48:38.374 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 00:48:38.375 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"a5706a0ec70730316259436a8a5e8415e0351cdec17b278880bc47f0111ac685","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI92543YR0cCkkkK0a_1PE_b3fKj53Xj96ntueyh3i593pVBDQQ5aZrx1oJLfN7_wxJjPDK1dVGssvFnJ8czHPQQ1iL3HDXJLVeOn9XnzBHkTeiZETTiTkNxYgVtPcLFepcdfFMRb5qiUyq9NuaulpcEMZwfWAcExXTACqb8c-9DmuJXiiMhXxMiobD8a7ApVSoo5-pIPNXd18eSdChVb_cOD9-Ywx1reqeDi8L9ZxntvZAOtx2DI8LqsZhzSW_a7_SDE9q83Ja418NojF81BIkllCarTrxSzAuSfPDZSJEuQbPPQ","UiLocales":null,"Nonce":"636985685154711585.ZmQ1ZDVlZWEtZjliNy00ZmUzLWE1MDktNTM0ZDA0YzQxNDIwNTdjM2M3MzctMzhiOS00NjBiLWFlNmUtYzllMzZjOWQ0YjY1","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"034e3424d65ed9b727afe9b3ec5078b5","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636985685154711585.ZmQ1ZDVlZWEtZjliNy00ZmUzLWE1MDktNTM0ZDA0YzQxNDIwNTdjM2M3MzctMzhiOS00NjBiLWFlNmUtYzllMzZjOWQ0YjY1","state":"CfDJ8NxwjiZxUEdNkONpYNI92543YR0cCkkkK0a_1PE_b3fKj53Xj96ntueyh3i593pVBDQQ5aZrx1oJLfN7_wxJjPDK1dVGssvFnJ8czHPQQ1iL3HDXJLVeOn9XnzBHkTeiZETTiTkNxYgVtPcLFepcdfFMRb5qiUyq9NuaulpcEMZwfWAcExXTACqb8c-9DmuJXiiMhXxMiobD8a7ApVSoo5-pIPNXd18eSdChVb_cOD9-Ywx1reqeDi8L9ZxntvZAOtx2DI8LqsZhzSW_a7_SDE9q83Ja418NojF81BIkllCarTrxSzAuSfPDZSJEuQbPPQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-13 00:48:38.375 +02:00 [DBG] user_consent grant with value: mvc|a5706a0ec70730316259436a8a5e8415e0351cdec17b278880bc47f0111ac685 not found in store.
2019-07-13 00:48:38.375 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-13 00:48:38.388 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-13 00:48:38.391 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-13 00:48:38.398 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: a5706a0ec70730316259436a8a5e8415e0351cdec17b278880bc47f0111ac685
2019-07-13 00:48:38.434 +02:00 [DBG] Creating Implicit Flow response.
2019-07-13 00:48:38.456 +02:00 [DBG] Getting claims for identity token for subject: a5706a0ec70730316259436a8a5e8415e0351cdec17b278880bc47f0111ac685 and client: mvc
2019-07-13 00:48:38.534 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"a5706a0ec70730316259436a8a5e8415e0351cdec17b278880bc47f0111ac685","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI92543YR0cCkkkK0a_1PE_b3fKj53Xj96ntueyh3i593pVBDQQ5aZrx1oJLfN7_wxJjPDK1dVGssvFnJ8czHPQQ1iL3HDXJLVeOn9XnzBHkTeiZETTiTkNxYgVtPcLFepcdfFMRb5qiUyq9NuaulpcEMZwfWAcExXTACqb8c-9DmuJXiiMhXxMiobD8a7ApVSoo5-pIPNXd18eSdChVb_cOD9-Ywx1reqeDi8L9ZxntvZAOtx2DI8LqsZhzSW_a7_SDE9q83Ja418NojF81BIkllCarTrxSzAuSfPDZSJEuQbPPQ","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-13 00:48:38.563 +02:00 [DBG] Augmenting SignInContext
2019-07-13 00:48:38.564 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-13 00:48:57.346 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-13 00:48:57.353 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-13 00:48:57.353 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-13 00:48:57.353 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-13 00:48:57.353 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-13 00:48:57.353 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-13 00:48:57.354 +02:00 [DBG] Start discovery request
2019-07-13 11:02:36.040 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-13 11:02:36.114 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-13 11:02:36.130 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-13 11:02:36.130 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-13 11:02:36.130 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-13 11:02:36.130 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-13 11:02:36.130 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-13 11:02:36.130 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-13 11:02:36.842 +02:00 [DBG] Login Url: /Account/Login
2019-07-13 11:02:36.846 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-13 11:02:36.846 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-13 11:02:36.846 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-13 11:02:36.846 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-13 11:02:36.846 +02:00 [DBG] Error Url: /home/error
2019-07-13 11:02:36.846 +02:00 [DBG] Error Id Parameter: errorId
2019-07-13 11:02:36.863 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-13 11:02:36.892 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-13 11:02:52.082 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-13 11:02:53.829 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: IDX20803: Unable to obtain configuration from: '[PII is hidden]'. ---> System.IO.IOException: IDX20804: Unable to retrieve document from: '[PII is hidden]'. ---> System.Net.Http.HttpRequestException: Hôte inconnu ---> System.Net.Sockets.SocketException: Hôte inconnu
   at System.Net.Http.ConnectHelper.ConnectAsync(String host, Int32 port, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.ConnectAsync(String host, Int32 port, CancellationToken cancellationToken)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at System.Net.Http.HttpConnectionPool.CreateConnectionAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at System.Net.Http.HttpConnectionPool.WaitForCreatedConnectionAsync(ValueTask`1 creationTask)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at System.Net.Http.HttpConnectionPool.SendWithRetryAsync(HttpRequestMessage request, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.FinishSendAsyncBuffered(Task`1 sendTask, HttpRequestMessage request, CancellationTokenSource cts, Boolean disposeCts)
   at Microsoft.IdentityModel.Protocols.HttpDocumentRetriever.GetDocumentAsync(String address, CancellationToken cancel)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.Protocols.HttpDocumentRetriever.GetDocumentAsync(String address, CancellationToken cancel)
   at Microsoft.IdentityModel.Protocols.OpenIdConnect.OpenIdConnectConfigurationRetriever.GetAsync(String address, IDocumentRetriever retriever, CancellationToken cancel)
   at Microsoft.IdentityModel.Protocols.ConfigurationManager`1.GetConfigurationAsync(CancellationToken cancel)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.Protocols.ConfigurationManager`1.GetConfigurationAsync(CancellationToken cancel)
   at Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-13 11:03:41.364 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-13 11:04:06.501 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-13 11:04:07.776 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-13 11:04:07.965 +02:00 [DBG] Augmenting SignInContext
2019-07-13 11:04:07.971 +02:00 [DBG] Adding amr claim with value: external
2019-07-13 11:04:07.987 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-13 11:04:08.000 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-13 11:04:20.489 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-13 11:04:20.500 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-13 11:04:20.501 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-13 11:04:20.510 +02:00 [DBG] Start discovery request
2019-07-13 11:04:20.826 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-13 11:04:20.827 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-13 11:04:20.827 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-13 11:04:20.834 +02:00 [DBG] Start key discovery request
2019-07-13 11:04:20.945 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-13 11:04:20.950 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-13 11:04:20.950 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-13 11:04:20.959 +02:00 [DBG] Start authorize request
2019-07-13 11:04:20.971 +02:00 [DBG] User in authorize request: 41ac1abc1af07d9ebe0e611e14f1fb6af5e961ce3286e3af988d2b6938857ba6
2019-07-13 11:04:20.986 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 11:04:21.028 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:04:21.112 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 11:04:21.144 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"41ac1abc1af07d9ebe0e611e14f1fb6af5e961ce3286e3af988d2b6938857ba6","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256P68krlyT8Se5N_cLf8ICIuPqJpsfkhkj-UJvymhzSuFa2WWyyQcVFO_G2GflRhES3iXUJk71E5OylmQCiSBnKtGuyjK9gi21QUMe8CASlfUnhidAC4kgrUru7F9LJtW0bk2nekmcGOWX4c4OP7-_-xab5P2yjRl166o8ilxgF9VFfXOcUl7-AIaz65AM-JxU6DlXfTEttHq8yLDcsF7CIaphsLWaWer5ejg-exLLnJbKzHFyc3hKOmx4RowO6owopE-dFavR_4pfKFsg2_MGyu4G3NerpSV-DTLfm7X4yFA","UiLocales":null,"Nonce":"636986054609089692.ZjNhYmM3ZTYtZTE5ZC00MWU2LWIyZTctN2FkN2FjZmFkN2IxNDAzYTg0NDktYWM5OS00MTFlLTkzYzctYjY3MzA0MmJiZmUz","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"7c59f4c5bf907016c57c2d37cad2f817","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636986054609089692.ZjNhYmM3ZTYtZTE5ZC00MWU2LWIyZTctN2FkN2FjZmFkN2IxNDAzYTg0NDktYWM5OS00MTFlLTkzYzctYjY3MzA0MmJiZmUz","state":"CfDJ8NxwjiZxUEdNkONpYNI9256P68krlyT8Se5N_cLf8ICIuPqJpsfkhkj-UJvymhzSuFa2WWyyQcVFO_G2GflRhES3iXUJk71E5OylmQCiSBnKtGuyjK9gi21QUMe8CASlfUnhidAC4kgrUru7F9LJtW0bk2nekmcGOWX4c4OP7-_-xab5P2yjRl166o8ilxgF9VFfXOcUl7-AIaz65AM-JxU6DlXfTEttHq8yLDcsF7CIaphsLWaWer5ejg-exLLnJbKzHFyc3hKOmx4RowO6owopE-dFavR_4pfKFsg2_MGyu4G3NerpSV-DTLfm7X4yFA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-13 11:04:21.201 +02:00 [DBG] user_consent grant with value: mvc|41ac1abc1af07d9ebe0e611e14f1fb6af5e961ce3286e3af988d2b6938857ba6 not found in store.
2019-07-13 11:04:21.202 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-13 11:04:21.202 +02:00 [INF] Showing consent: User has not yet consented
2019-07-13 11:04:21.240 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 11:04:21.241 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:04:21.241 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 11:04:21.245 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:04:22.299 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 11:04:22.299 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:04:22.300 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 11:04:22.300 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:04:24.108 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-13 11:04:24.171 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 11:04:24.171 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:04:24.171 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 11:04:24.215 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:04:24.233 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-13 11:04:24.235 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-13 11:04:24.235 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-13 11:04:24.254 +02:00 [DBG] Start authorize callback request
2019-07-13 11:04:24.266 +02:00 [DBG] User in authorize request: 41ac1abc1af07d9ebe0e611e14f1fb6af5e961ce3286e3af988d2b6938857ba6
2019-07-13 11:04:24.267 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 11:04:24.267 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:04:24.267 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 11:04:24.269 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"41ac1abc1af07d9ebe0e611e14f1fb6af5e961ce3286e3af988d2b6938857ba6","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9256P68krlyT8Se5N_cLf8ICIuPqJpsfkhkj-UJvymhzSuFa2WWyyQcVFO_G2GflRhES3iXUJk71E5OylmQCiSBnKtGuyjK9gi21QUMe8CASlfUnhidAC4kgrUru7F9LJtW0bk2nekmcGOWX4c4OP7-_-xab5P2yjRl166o8ilxgF9VFfXOcUl7-AIaz65AM-JxU6DlXfTEttHq8yLDcsF7CIaphsLWaWer5ejg-exLLnJbKzHFyc3hKOmx4RowO6owopE-dFavR_4pfKFsg2_MGyu4G3NerpSV-DTLfm7X4yFA","UiLocales":null,"Nonce":"636986054609089692.ZjNhYmM3ZTYtZTE5ZC00MWU2LWIyZTctN2FkN2FjZmFkN2IxNDAzYTg0NDktYWM5OS00MTFlLTkzYzctYjY3MzA0MmJiZmUz","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"7c59f4c5bf907016c57c2d37cad2f817","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636986054609089692.ZjNhYmM3ZTYtZTE5ZC00MWU2LWIyZTctN2FkN2FjZmFkN2IxNDAzYTg0NDktYWM5OS00MTFlLTkzYzctYjY3MzA0MmJiZmUz","state":"CfDJ8NxwjiZxUEdNkONpYNI9256P68krlyT8Se5N_cLf8ICIuPqJpsfkhkj-UJvymhzSuFa2WWyyQcVFO_G2GflRhES3iXUJk71E5OylmQCiSBnKtGuyjK9gi21QUMe8CASlfUnhidAC4kgrUru7F9LJtW0bk2nekmcGOWX4c4OP7-_-xab5P2yjRl166o8ilxgF9VFfXOcUl7-AIaz65AM-JxU6DlXfTEttHq8yLDcsF7CIaphsLWaWer5ejg-exLLnJbKzHFyc3hKOmx4RowO6owopE-dFavR_4pfKFsg2_MGyu4G3NerpSV-DTLfm7X4yFA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-13 11:04:24.270 +02:00 [DBG] user_consent grant with value: mvc|41ac1abc1af07d9ebe0e611e14f1fb6af5e961ce3286e3af988d2b6938857ba6 not found in store.
2019-07-13 11:04:24.270 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-13 11:04:24.283 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-13 11:04:24.285 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-13 11:04:24.295 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 41ac1abc1af07d9ebe0e611e14f1fb6af5e961ce3286e3af988d2b6938857ba6
2019-07-13 11:04:24.338 +02:00 [DBG] Creating Implicit Flow response.
2019-07-13 11:04:24.364 +02:00 [DBG] Getting claims for identity token for subject: 41ac1abc1af07d9ebe0e611e14f1fb6af5e961ce3286e3af988d2b6938857ba6 and client: mvc
2019-07-13 11:04:24.439 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"41ac1abc1af07d9ebe0e611e14f1fb6af5e961ce3286e3af988d2b6938857ba6","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9256P68krlyT8Se5N_cLf8ICIuPqJpsfkhkj-UJvymhzSuFa2WWyyQcVFO_G2GflRhES3iXUJk71E5OylmQCiSBnKtGuyjK9gi21QUMe8CASlfUnhidAC4kgrUru7F9LJtW0bk2nekmcGOWX4c4OP7-_-xab5P2yjRl166o8ilxgF9VFfXOcUl7-AIaz65AM-JxU6DlXfTEttHq8yLDcsF7CIaphsLWaWer5ejg-exLLnJbKzHFyc3hKOmx4RowO6owopE-dFavR_4pfKFsg2_MGyu4G3NerpSV-DTLfm7X4yFA","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-13 11:04:24.469 +02:00 [DBG] Augmenting SignInContext
2019-07-13 11:04:24.470 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-13 11:07:37.164 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-13 11:07:37.282 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-13 11:07:37.304 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-13 11:07:37.304 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-13 11:07:37.304 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-13 11:07:37.304 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-13 11:07:37.304 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-13 11:07:37.304 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-13 11:07:38.190 +02:00 [DBG] Login Url: /Account/Login
2019-07-13 11:07:38.197 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-13 11:07:38.198 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-13 11:07:38.198 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-13 11:07:38.198 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-13 11:07:38.198 +02:00 [DBG] Error Url: /home/error
2019-07-13 11:07:38.198 +02:00 [DBG] Error Id Parameter: errorId
2019-07-13 11:07:38.271 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-13 11:07:38.302 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-13 11:07:38.302 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-13 11:07:38.314 +02:00 [DBG] Start authorize request
2019-07-13 11:07:38.341 +02:00 [DBG] No user present in authorize request
2019-07-13 11:07:38.354 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 11:07:38.404 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:07:38.520 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 11:07:38.558 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254HxkX98XaXi1F9NOpk0n4ItlXivMeUf0tRjxqOhMRzCs1-FlJKrN88yUUBwT7omY-KxM1_apBgAshzEGzEd9pNgVE92lRtAOUlHeKvJIoIUi_2aDBZA7EVex2aNoqsIDF32Iyw9asBeTMpHui_gLTUUdeDARElRLMxfKo1OA98G9FdHDSwiWgcVUvn42hcs5jl90e_xISC4VSnwXOIkygf4cyJ6CbZO7cSKGHCdUkW8b4bVQ4cWZZAFWFB1gjAm9WxzeBEXcqTj8O9wfAzybNlRTi4S0VEa3DBlUe4U45pDQ","UiLocales":null,"Nonce":"636986056528870726.Y2JmODkxYjAtYzg5Ni00ZjA4LTlkNWQtMjRhMmYzMDM5NTNjOTVjZDAzYzctODQ4NS00ZTdlLTlkMWMtMTBjODRhNTRjZDk2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636986056528870726.Y2JmODkxYjAtYzg5Ni00ZjA4LTlkNWQtMjRhMmYzMDM5NTNjOTVjZDAzYzctODQ4NS00ZTdlLTlkMWMtMTBjODRhNTRjZDk2","state":"CfDJ8NxwjiZxUEdNkONpYNI9254HxkX98XaXi1F9NOpk0n4ItlXivMeUf0tRjxqOhMRzCs1-FlJKrN88yUUBwT7omY-KxM1_apBgAshzEGzEd9pNgVE92lRtAOUlHeKvJIoIUi_2aDBZA7EVex2aNoqsIDF32Iyw9asBeTMpHui_gLTUUdeDARElRLMxfKo1OA98G9FdHDSwiWgcVUvn42hcs5jl90e_xISC4VSnwXOIkygf4cyJ6CbZO7cSKGHCdUkW8b4bVQ4cWZZAFWFB1gjAm9WxzeBEXcqTj8O9wfAzybNlRTi4S0VEa3DBlUe4U45pDQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-13 11:07:38.614 +02:00 [INF] Showing login: User is not authenticated
2019-07-13 11:07:39.006 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 11:07:39.007 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:07:39.009 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 11:07:39.019 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:07:42.362 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-13 11:07:56.491 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-13 11:07:57.873 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-13 11:07:57.971 +02:00 [DBG] Augmenting SignInContext
2019-07-13 11:07:57.979 +02:00 [DBG] Adding amr claim with value: external
2019-07-13 11:07:57.990 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-13 11:07:58.004 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-13 11:07:58.004 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 11:07:58.004 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:07:58.005 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 11:07:58.007 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:07:58.026 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-13 11:07:58.027 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-13 11:07:58.027 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-13 11:07:58.047 +02:00 [DBG] Start authorize callback request
2019-07-13 11:07:58.057 +02:00 [DBG] User in authorize request: 50d2a3e7731cbe8dfda878d1bae4cfeb38b4d9fe4f3548adb89a2f90ead655cb
2019-07-13 11:07:58.057 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 11:07:58.057 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:07:58.058 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 11:07:58.058 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"50d2a3e7731cbe8dfda878d1bae4cfeb38b4d9fe4f3548adb89a2f90ead655cb","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254HxkX98XaXi1F9NOpk0n4ItlXivMeUf0tRjxqOhMRzCs1-FlJKrN88yUUBwT7omY-KxM1_apBgAshzEGzEd9pNgVE92lRtAOUlHeKvJIoIUi_2aDBZA7EVex2aNoqsIDF32Iyw9asBeTMpHui_gLTUUdeDARElRLMxfKo1OA98G9FdHDSwiWgcVUvn42hcs5jl90e_xISC4VSnwXOIkygf4cyJ6CbZO7cSKGHCdUkW8b4bVQ4cWZZAFWFB1gjAm9WxzeBEXcqTj8O9wfAzybNlRTi4S0VEa3DBlUe4U45pDQ","UiLocales":null,"Nonce":"636986056528870726.Y2JmODkxYjAtYzg5Ni00ZjA4LTlkNWQtMjRhMmYzMDM5NTNjOTVjZDAzYzctODQ4NS00ZTdlLTlkMWMtMTBjODRhNTRjZDk2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"ee9665e7d8cfbc01ce036898580fa425","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636986056528870726.Y2JmODkxYjAtYzg5Ni00ZjA4LTlkNWQtMjRhMmYzMDM5NTNjOTVjZDAzYzctODQ4NS00ZTdlLTlkMWMtMTBjODRhNTRjZDk2","state":"CfDJ8NxwjiZxUEdNkONpYNI9254HxkX98XaXi1F9NOpk0n4ItlXivMeUf0tRjxqOhMRzCs1-FlJKrN88yUUBwT7omY-KxM1_apBgAshzEGzEd9pNgVE92lRtAOUlHeKvJIoIUi_2aDBZA7EVex2aNoqsIDF32Iyw9asBeTMpHui_gLTUUdeDARElRLMxfKo1OA98G9FdHDSwiWgcVUvn42hcs5jl90e_xISC4VSnwXOIkygf4cyJ6CbZO7cSKGHCdUkW8b4bVQ4cWZZAFWFB1gjAm9WxzeBEXcqTj8O9wfAzybNlRTi4S0VEa3DBlUe4U45pDQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-13 11:07:58.096 +02:00 [DBG] user_consent grant with value: mvc|50d2a3e7731cbe8dfda878d1bae4cfeb38b4d9fe4f3548adb89a2f90ead655cb not found in store.
2019-07-13 11:07:58.097 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-13 11:07:58.097 +02:00 [INF] Showing consent: User has not yet consented
2019-07-13 11:07:58.154 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 11:07:58.156 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:07:58.157 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 11:07:58.157 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:08:00.607 +02:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-13 11:08:00.681 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 11:08:00.682 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:08:00.682 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 11:08:00.723 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:08:00.741 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-13 11:08:00.743 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-13 11:08:00.743 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-13 11:08:00.743 +02:00 [DBG] Start authorize callback request
2019-07-13 11:08:00.753 +02:00 [DBG] User in authorize request: 50d2a3e7731cbe8dfda878d1bae4cfeb38b4d9fe4f3548adb89a2f90ead655cb
2019-07-13 11:08:00.753 +02:00 [DBG] Start authorize request protocol validation
2019-07-13 11:08:00.754 +02:00 [DBG] client configuration validation for client mvc succeeded.
2019-07-13 11:08:00.755 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-13 11:08:00.755 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"http://localhost:5002/signin-oidc","AllowedRedirectUris":["http://localhost:5002/signin-oidc"],"SubjectId":"50d2a3e7731cbe8dfda878d1bae4cfeb38b4d9fe4f3548adb89a2f90ead655cb","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8NxwjiZxUEdNkONpYNI9254HxkX98XaXi1F9NOpk0n4ItlXivMeUf0tRjxqOhMRzCs1-FlJKrN88yUUBwT7omY-KxM1_apBgAshzEGzEd9pNgVE92lRtAOUlHeKvJIoIUi_2aDBZA7EVex2aNoqsIDF32Iyw9asBeTMpHui_gLTUUdeDARElRLMxfKo1OA98G9FdHDSwiWgcVUvn42hcs5jl90e_xISC4VSnwXOIkygf4cyJ6CbZO7cSKGHCdUkW8b4bVQ4cWZZAFWFB1gjAm9WxzeBEXcqTj8O9wfAzybNlRTi4S0VEa3DBlUe4U45pDQ","UiLocales":null,"Nonce":"636986056528870726.Y2JmODkxYjAtYzg5Ni00ZjA4LTlkNWQtMjRhMmYzMDM5NTNjOTVjZDAzYzctODQ4NS00ZTdlLTlkMWMtMTBjODRhNTRjZDk2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"ee9665e7d8cfbc01ce036898580fa425","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"636986056528870726.Y2JmODkxYjAtYzg5Ni00ZjA4LTlkNWQtMjRhMmYzMDM5NTNjOTVjZDAzYzctODQ4NS00ZTdlLTlkMWMtMTBjODRhNTRjZDk2","state":"CfDJ8NxwjiZxUEdNkONpYNI9254HxkX98XaXi1F9NOpk0n4ItlXivMeUf0tRjxqOhMRzCs1-FlJKrN88yUUBwT7omY-KxM1_apBgAshzEGzEd9pNgVE92lRtAOUlHeKvJIoIUi_2aDBZA7EVex2aNoqsIDF32Iyw9asBeTMpHui_gLTUUdeDARElRLMxfKo1OA98G9FdHDSwiWgcVUvn42hcs5jl90e_xISC4VSnwXOIkygf4cyJ6CbZO7cSKGHCdUkW8b4bVQ4cWZZAFWFB1gjAm9WxzeBEXcqTj8O9wfAzybNlRTi4S0VEa3DBlUe4U45pDQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-13 11:08:00.755 +02:00 [DBG] user_consent grant with value: mvc|50d2a3e7731cbe8dfda878d1bae4cfeb38b4d9fe4f3548adb89a2f90ead655cb not found in store.
2019-07-13 11:08:00.755 +02:00 [DBG] Found no prior consent from consent store, consent is required
2019-07-13 11:08:00.769 +02:00 [INF] User consented to scopes: ["openid","profile"]
2019-07-13 11:08:00.771 +02:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-07-13 11:08:00.778 +02:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 50d2a3e7731cbe8dfda878d1bae4cfeb38b4d9fe4f3548adb89a2f90ead655cb
2019-07-13 11:08:00.825 +02:00 [DBG] Creating Implicit Flow response.
2019-07-13 11:08:00.852 +02:00 [DBG] Getting claims for identity token for subject: 50d2a3e7731cbe8dfda878d1bae4cfeb38b4d9fe4f3548adb89a2f90ead655cb and client: mvc
2019-07-13 11:08:00.964 +02:00 [DBG] Claim types from profile service that were filtered: ["aud","iss","iat","exp","auth_time","nonce","sub","sid","amr"]
2019-07-13 11:08:01.075 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"50d2a3e7731cbe8dfda878d1bae4cfeb38b4d9fe4f3548adb89a2f90ead655cb","ClientId":"mvc","RedirectUri":"http://localhost:5002/signin-oidc","State":"CfDJ8NxwjiZxUEdNkONpYNI9254HxkX98XaXi1F9NOpk0n4ItlXivMeUf0tRjxqOhMRzCs1-FlJKrN88yUUBwT7omY-KxM1_apBgAshzEGzEd9pNgVE92lRtAOUlHeKvJIoIUi_2aDBZA7EVex2aNoqsIDF32Iyw9asBeTMpHui_gLTUUdeDARElRLMxfKo1OA98G9FdHDSwiWgcVUvn42hcs5jl90e_xISC4VSnwXOIkygf4cyJ6CbZO7cSKGHCdUkW8b4bVQ4cWZZAFWFB1gjAm9WxzeBEXcqTj8O9wfAzybNlRTi4S0VEa3DBlUe4U45pDQ","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-13 11:08:01.121 +02:00 [DBG] Augmenting SignInContext
2019-07-13 11:08:01.122 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-13 11:08:52.473 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-07-13 11:08:52.477 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-07-13 11:08:52.478 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-07-13 11:08:52.478 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-13 11:08:52.484 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-13 11:08:52.485 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-13 11:08:52.493 +02:00 [DBG] Start discovery request
2019-07-14 11:07:36.610 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-14 11:07:36.725 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-14 11:07:36.747 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-14 11:07:36.747 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-14 11:07:36.747 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-14 11:07:36.747 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-14 11:07:36.747 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-14 11:07:36.747 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-14 11:07:37.562 +02:00 [DBG] Login Url: /Account/Login
2019-07-14 11:07:37.576 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-14 11:07:37.576 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-14 11:07:37.576 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-14 11:07:37.576 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-14 11:07:37.577 +02:00 [DBG] Error Url: /home/error
2019-07-14 11:07:37.577 +02:00 [DBG] Error Id Parameter: errorId
2019-07-14 11:07:37.620 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:07:37.680 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:07:44.335 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:07:44.335 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:07:44.393 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-14 11:07:44.409 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:07:44.409 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:07:46.310 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:07:46.311 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:07:46.740 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: IDX20803: Unable to obtain configuration from: '[PII is hidden]'. ---> System.IO.IOException: IDX20804: Unable to retrieve document from: '[PII is hidden]'. ---> System.Net.Http.HttpRequestException: Hôte inconnu ---> System.Net.Sockets.SocketException: Hôte inconnu
   at System.Net.Http.ConnectHelper.ConnectAsync(String host, Int32 port, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.ConnectAsync(String host, Int32 port, CancellationToken cancellationToken)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at System.Net.Http.HttpConnectionPool.CreateConnectionAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at System.Net.Http.HttpConnectionPool.WaitForCreatedConnectionAsync(ValueTask`1 creationTask)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at System.Net.Http.HttpConnectionPool.SendWithRetryAsync(HttpRequestMessage request, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.FinishSendAsyncBuffered(Task`1 sendTask, HttpRequestMessage request, CancellationTokenSource cts, Boolean disposeCts)
   at Microsoft.IdentityModel.Protocols.HttpDocumentRetriever.GetDocumentAsync(String address, CancellationToken cancel)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.Protocols.HttpDocumentRetriever.GetDocumentAsync(String address, CancellationToken cancel)
   at Microsoft.IdentityModel.Protocols.OpenIdConnect.OpenIdConnectConfigurationRetriever.GetAsync(String address, IDocumentRetriever retriever, CancellationToken cancel)
   at Microsoft.IdentityModel.Protocols.ConfigurationManager`1.GetConfigurationAsync(CancellationToken cancel)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.Protocols.ConfigurationManager`1.GetConfigurationAsync(CancellationToken cancel)
   at Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-14 11:08:09.729 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:08:09.730 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:08:09.734 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: IDX20803: Unable to obtain configuration from: '[PII is hidden]'.
   at Microsoft.IdentityModel.Protocols.ConfigurationManager`1.GetConfigurationAsync(CancellationToken cancel)
   at Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-14 11:08:15.514 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:08:15.514 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:08:17.776 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:08:17.776 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:08:17.780 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-14 11:08:17.800 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:08:17.800 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:08:18.855 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:08:18.856 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:08:20.156 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-14 11:09:02.165 +02:00 [DBG] CORS request made for path: /signin-oidc from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-14 11:09:03.766 +02:00 [INF] AuthenticationScheme: idsrv.external signed in.
2019-07-14 11:09:03.808 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:09:03.808 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:09:03.875 +02:00 [DBG] Augmenting SignInContext
2019-07-14 11:09:03.881 +02:00 [DBG] Adding amr claim with value: external
2019-07-14 11:09:03.894 +02:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2019-07-14 11:09:03.897 +02:00 [INF] AuthenticationScheme: idsrv signed in.
2019-07-14 11:09:03.910 +02:00 [INF] AuthenticationScheme: idsrv.external signed out.
2019-07-14 11:20:09.809 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-14 11:20:09.932 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-14 11:20:09.955 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-14 11:20:09.955 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-14 11:20:09.956 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-14 11:20:09.956 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-14 11:20:09.956 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-14 11:20:09.958 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-14 11:20:10.937 +02:00 [DBG] Login Url: /Account/Login
2019-07-14 11:20:10.940 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-14 11:20:10.940 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-14 11:20:10.941 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-14 11:20:10.941 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-14 11:20:10.941 +02:00 [DBG] Error Url: /home/error
2019-07-14 11:20:10.941 +02:00 [DBG] Error Id Parameter: errorId
2019-07-14 11:20:47.578 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-14 11:20:47.692 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-14 11:20:47.713 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-14 11:20:47.713 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-14 11:20:47.713 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-14 11:20:47.713 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-14 11:20:47.713 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-14 11:20:47.713 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-14 11:20:48.543 +02:00 [DBG] Login Url: /Account/Login
2019-07-14 11:20:48.548 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-14 11:20:48.548 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-14 11:20:48.548 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-14 11:20:48.549 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-14 11:20:48.549 +02:00 [DBG] Error Url: /home/error
2019-07-14 11:20:48.549 +02:00 [DBG] Error Id Parameter: errorId
2019-07-14 13:02:14.789 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-14 13:02:14.870 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-14 13:02:14.887 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-14 13:02:14.887 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-14 13:02:14.887 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-14 13:02:14.887 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-14 13:02:14.887 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-14 13:02:14.887 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-14 13:02:15.552 +02:00 [DBG] Login Url: /Account/Login
2019-07-14 13:02:15.556 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-14 13:02:15.556 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-14 13:02:15.556 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-14 13:02:15.556 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-14 13:02:15.556 +02:00 [DBG] Error Url: /home/error
2019-07-14 13:02:15.556 +02:00 [DBG] Error Id Parameter: errorId
2019-07-14 13:02:17.970 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-14 13:02:21.215 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-14 13:02:41.918 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-14 13:37:43.109 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-14 13:37:43.178 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-14 13:37:43.196 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-14 13:37:43.196 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-14 13:37:43.196 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-14 13:37:43.196 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-14 13:37:43.196 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-14 13:37:43.196 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-14 13:37:43.709 +02:00 [DBG] Login Url: /Account/Login
2019-07-14 13:37:43.712 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-14 13:37:43.712 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-14 13:37:43.712 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-14 13:37:43.712 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-14 13:37:43.712 +02:00 [DBG] Error Url: /home/error
2019-07-14 13:37:43.712 +02:00 [DBG] Error Id Parameter: errorId
2019-07-14 13:37:47.584 +02:00 [INF] AuthenticationScheme: idsrv was challenged.
2019-07-14 13:37:50.212 +02:00 [INF] AuthenticationScheme: AdfsOidc was challenged.
2019-07-14 14:04:13.416 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-14 14:04:14.393 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-07-14 14:04:14.593 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-07-14 14:04:14.593 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-07-14 14:04:14.593 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-07-14 14:04:14.593 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-07-14 14:04:14.593 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-07-14 14:04:14.593 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-07-14 14:04:17.494 +02:00 [DBG] Login Url: /Account/Login
2019-07-14 14:04:17.501 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-14 14:04:17.502 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-14 14:04:17.502 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-14 14:04:17.502 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-14 14:04:17.502 +02:00 [DBG] Error Url: /home/error
2019-07-14 14:04:17.502 +02:00 [DBG] Error Id Parameter: errorId
